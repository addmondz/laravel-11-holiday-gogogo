import{l as y,C as ue,i as z,K as ce,g as a,o as l,b as t,h as U,a as Q,j as _,p as q,F as c,q as v,f as pe,e as _e,u as f,t as o,k as h,w as xe,x as L}from"./app-Be1b2Sc9.js";import{S as O}from"./sweetalert2.esm.all-B0Dix5B2.js";import{L as ye}from"./LoadingComponent-C-Kuo76n.js";import{_ as fe}from"./Modal.vue_vue_type_script_setup_true_lang-CipS4RNK.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ge={class:"space-y-6"},me={class:"bg-white shadow rounded-lg p-6"},ve={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},we=["value"],be=["value"],ke=["value"],Pe={class:"mt-6 flex space-x-2"},Ce=["disabled"],Te={key:0},Ae={key:1},Ve={key:0,class:"bg-white shadow rounded-lg p-6"},Ie={key:0,class:"flex justify-center items-center h-full min-h-[400px]"},Ue={key:1,class:"text-center text-gray-500"},Be={key:2,class:"space-y-8"},Se={class:"overflow-x-auto"},$e={class:"flex justify-between items-center"},Ee={class:"space-x-2 mb-4"},Re={class:"min-w-full divide-y divide-gray-200"},Fe={class:"bg-white divide-y divide-gray-200"},qe={key:0,class:"hover:bg-gray-50"},Oe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},De={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Me={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Le={key:0},Ye={key:1},We={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},ze={key:0},Ge={key:1},He={class:"overflow-x-auto mt-8"},Je={class:"min-w-full divide-y divide-gray-200"},Qe={class:"bg-white divide-y divide-gray-200"},Xe={key:0,class:"hover:bg-gray-50"},Ze={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},lt={key:0},dt={key:1},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},it={key:0},ot={key:1},ut={class:"flex justify-end space-x-2 mb-6"},ct=["disabled"],pt={class:"space-y-8"},_t={class:"overflow-x-auto"},xt={class:"flex justify-between items-center mb-4"},yt={class:"flex flex-1 gap-2 items-center justify-end mr-4"},ft={class:"min-w-full divide-y divide-gray-200"},ht={class:"bg-white divide-y divide-gray-200"},gt={key:0},mt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Pt=["onUpdate:modelValue"],Ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Tt={key:0},At=["onUpdate:modelValue"],Vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},It={key:0},Ut=["onUpdate:modelValue"],Bt={class:"overflow-x-auto"},St={class:"flex justify-between items-center mb-4"},$t={class:"flex flex-1 gap-2 items-center justify-end mr-4"},Et={class:"min-w-full divide-y divide-gray-200"},Rt={class:"bg-white divide-y divide-gray-200"},Ft={key:0},qt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Mt=["onUpdate:modelValue"],Kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Lt={key:0},Yt=["onUpdate:modelValue"],Wt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},zt={key:0},Gt=["onUpdate:modelValue"],Ht={class:"max-w-2xl bg-white space-y-8 p-4"},Jt={class:"space-y-6"},Qt=["value"],Xt={__name:"PriceConfigurationRoomTypes",props:{packageId:{type:Number,required:!0},seasonTypes:{type:Array,required:!0},dateTypes:{type:Array,required:!0},packageUniqueRoomTypes:{type:Object,required:!0},allSeasonTypes:{type:Array,required:!0},allDateTypes:{type:Array,required:!0},assignedSeasonTypes:{type:Array,required:!0},assignedDateTypes:{type:Array,required:!0}},setup(j){const S=j,P=y(""),C=y(""),$=y(""),N=y(!1),D=y(!1),x=y([]),E=y(!1),X=y(!1),b=y(!1),T=y({adult_price:"",child_price:"",infant_price:""}),A=y({adult_price:"",child_price:"",infant_price:""}),R=y(!1),i=ue({package_id:S.packageId,season_type_id:"",date_type_id:"",prices:{}}),Z=z(()=>P.value&&C.value);z(()=>x.value.some(d=>d.prices.some(s=>s.type==="sur_charge")));const Y=()=>{E.value=!0,L.post(route("configuration-prices.fetchPricesRoomTypes"),{package_id:S.packageId,season_type_id:P.value,date_type_id:C.value,room_type_id:$.value||void 0}).then(d=>{d.data&&d.data.length>0?(x.value=d.data,N.value=!0,D.value=!0):(N.value=!0,D.value=!1)}).catch(d=>{console.error("Error fetching prices:",d),O.fire({icon:"error",title:"Error",text:"Failed to fetch price configurations",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}).finally(()=>{E.value=!1})},B=(d,s,r,e,n,u=0)=>{const V=d.prices.find(F=>F.number_of_adults===s&&F.number_of_children===r&&F.number_of_infants===u&&F.type===e);return V?`MYR ${V[n+"_price"]}`:"-"},ee=()=>{P.value="",C.value="",$.value="",N.value=!1,D.value=!1,X.value=!1,b.value=!1,x.value=[],i.reset()},w=[{adults:1,children:0,infants:0},{adults:1,children:0,infants:1},{adults:1,children:0,infants:2},{adults:1,children:0,infants:3},{adults:1,children:1,infants:0},{adults:1,children:1,infants:1},{adults:1,children:1,infants:2},{adults:1,children:2,infants:0},{adults:1,children:2,infants:1},{adults:1,children:3,infants:0},{adults:2,children:0,infants:0},{adults:2,children:0,infants:1},{adults:2,children:0,infants:2},{adults:2,children:1,infants:0},{adults:2,children:1,infants:1},{adults:2,children:2,infants:0},{adults:2,children:0,infants:2},{adults:3,children:0,infants:0},{adults:3,children:0,infants:1},{adults:3,children:1,infants:0},{adults:4,children:0,infants:0}];z(()=>[...new Set(w.map(s=>s.adults))].sort((s,r)=>s-r)),y([]),y([]);const M=(d,s,r,e,n=!1)=>{if(d+s+r>4)return!1;const u=w.some(V=>V.adults===d&&V.children===s&&V.infants===r);return d===1&&s===0&&r===0&&n?!0:!!u},g=(d,s,r,e)=>w.findIndex(n=>n.adults===d&&n.children===s&&n.infants===r),te=d=>{b.value=d==="edit",i.reset(),i.package_id=S.packageId,i.season_type_id=P.value,i.date_type_id=C.value,x.value.forEach(s=>{const r=s.room_type_id;i.prices[r]={base_charge:w.map(e=>({number_of_adults:e.adults,number_of_children:e.children,number_of_infants:e.infants,adult_price:"",child_price:"",infant_price:""})),sur_charge:w.map(e=>({number_of_adults:e.adults,number_of_children:e.children,number_of_infants:e.infants,adult_price:"",child_price:"",infant_price:""}))},b.value&&s.prices.forEach(e=>{const n=g(e.number_of_adults,e.number_of_children,e.number_of_infants,e.type);if(n!==-1){const u=e.type==="base_charge"?"base_charge":"sur_charge";i.prices[r][u][n]={number_of_adults:e.number_of_adults,number_of_children:e.number_of_children,number_of_infants:e.number_of_infants,adult_price:e.adult_price,child_price:e.child_price,infant_price:e.infant_price||""}}})})},G=()=>{b.value=!1,i.reset()},se=()=>{const d={};x.value.forEach(e=>{const n=e.room_type_id;d[n]={base_charge:i.prices[n].base_charge.map(u=>({number_of_adults:u.number_of_adults,number_of_children:u.number_of_children,number_of_infants:u.number_of_infants,adult_price:u.adult_price,child_price:u.child_price,infant_price:u.infant_price||0})),sur_charge:i.prices[n].sur_charge.map(u=>({number_of_adults:u.number_of_adults,number_of_children:u.number_of_children,number_of_infants:u.number_of_infants,adult_price:u.adult_price,child_price:u.child_price,infant_price:u.infant_price||0}))}});const s={package_id:S.packageId,season_type_id:P.value,date_type_id:C.value,prices:d};(b.value?L.put(route("configuration-prices.updateRoomTypePrices",x.value[0].id),s):L.post(route("configuration-prices.store"),s)).then(()=>{G(),Y(),O.fire({icon:"success",title:"Success!",text:`Prices ${b.value?"updated":"created"} successfully for all room types`,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}).catch(e=>{var n,u;console.error(`Error ${b.value?"updating":"creating"} prices:`,e),O.fire({icon:"error",title:"Error",text:((u=(n=e.response)==null?void 0:n.data)==null?void 0:u.message)||`Failed to ${b.value?"update":"create"} prices`,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})})},re=()=>{if(!x.value.length)return;const d=T.value;d&&x.value.forEach(s=>{const r=s.room_type_id;i.prices[r].base_charge=w.map(e=>({number_of_adults:e.adults,number_of_children:e.children,number_of_infants:e.infants,adult_price:d.adult_price,child_price:d.child_price,infant_price:d.infant_price}))})},ae=()=>{if(!x.value.length)return;const d=A.value;d&&x.value.forEach(s=>{const r=s.room_type_id;i.prices[r].sur_charge=w.map(e=>({number_of_adults:e.adults,number_of_children:e.children,number_of_infants:e.infants,adult_price:d.adult_price,child_price:d.child_price,infant_price:d.infant_price}))})},le=()=>{L.post(route("configuration-prices.createPriceConfiguration"),{package_id:S.packageId,season_type_id:P.value,date_type_id:C.value,room_type_id:$.value}).then(d=>{O.fire({icon:"success",title:"Success!",text:"Price configuration created successfully",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),Y()}).catch(d=>{console.error("Error creating price configuration:",d),O.fire({icon:"error",title:"Error",text:"Failed to create price configuration",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})})},H=()=>{R.value=!R.value},p=y("adult"),k=ce({adult:1,child:1,infant:1,adult_base_charge:null,child_base_charge:null,infant_base_charge:null,adult_surcharge:null,child_surcharge:null,infant_surcharge:null}),de={adult:4,child:3,infant:3},ne=()=>{const{adult:d,child:s,infant:r,adult_base_charge:e,child_base_charge:n,infant_base_charge:u,adult_surcharge:V,child_surcharge:F,infant_surcharge:ie}=k,I=k[p.value],K=k[`${p.value}_base_charge`],W=k[`${p.value}_surcharge`];x.value.forEach(oe=>{const J=oe.room_type_id;K!==null&&i.prices[J].base_charge.forEach(m=>{console.log(p.value,I),p.value==="adult"&&m.number_of_adults===I?m.adult_price=K:p.value==="child"&&m.number_of_children===I?m.child_price=K:p.value==="infant"&&m.number_of_infants===I&&(m.infant_price=K)}),W!==null&&i.prices[J].sur_charge.forEach(m=>{p.value==="adult"&&m.number_of_adults===I?m.adult_price=W:p.value==="child"&&m.number_of_children===I?m.child_price=W:p.value==="infant"&&m.number_of_infants===I&&(m.infant_price=ie)})}),R.value=!1};return(d,s)=>(l(),a("div",ge,[t("div",me,[t("div",ve,[t("div",null,[s[16]||(s[16]=t("label",{for:"season",class:"block text-sm font-medium text-gray-700"},"Season",-1)),_(t("select",{id:"season","onUpdate:modelValue":s[0]||(s[0]=r=>P.value=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[15]||(s[15]=t("option",{value:""},"Select Season",-1)),(l(!0),a(c,null,v(j.assignedSeasonTypes,r=>(l(),a("option",{key:r.id,value:r.id},o(r.name),9,we))),128))],512),[[q,P.value]])]),t("div",null,[s[18]||(s[18]=t("label",{for:"dateType",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),_(t("select",{id:"dateType","onUpdate:modelValue":s[1]||(s[1]=r=>C.value=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[17]||(s[17]=t("option",{value:""},"Select Date Type",-1)),(l(!0),a(c,null,v(j.assignedDateTypes,r=>(l(),a("option",{key:r.id,value:r.id},o(r.name),9,be))),128))],512),[[q,C.value]])]),t("div",null,[s[20]||(s[20]=t("label",{for:"roomType",class:"block text-sm font-medium text-gray-700"},"Room Type (Optional)",-1)),_(t("select",{id:"roomType","onUpdate:modelValue":s[2]||(s[2]=r=>$.value=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[19]||(s[19]=t("option",{value:""},"All Room Types",-1)),(l(!0),a(c,null,v(j.packageUniqueRoomTypes,(r,e)=>(l(),a("option",{key:e,value:e},o(r),9,ke))),128))],512),[[q,$.value]])])]),t("div",Pe,[t("button",{onClick:Y,disabled:!Z.value||E.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs disabled:opacity-50 disabled:cursor-not-allowed"},[E.value?(l(),a("span",Te,"Loading...")):(l(),a("span",Ae,"Search Prices"))],8,Ce),t("button",{onClick:ee,class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Reset ")])]),N.value?(l(),a("div",Ve,[E.value?(l(),a("div",Ie,[Q(ye)])):D.value?(l(),a("div",Be,[b.value?(l(),a("form",{key:1,onSubmit:_e(se,["prevent"])},[t("div",ut,[t("button",{type:"button",onClick:H,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm"}," Edit Price By Pax "),t("button",{type:"button",onClick:G,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm",disabled:f(i).processing},o(f(i).processing?"Saving...":"Save All Prices"),9,ct)]),t("div",pt,[t("div",_t,[t("div",xt,[s[26]||(s[26]=t("h3",{class:"text-lg font-bold text-gray-900"},"Base Charges",-1)),t("div",yt,[_(t("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Adult Price","onUpdate:modelValue":s[4]||(s[4]=r=>T.value.adult_price=r)},null,512),[[h,T.value.adult_price]]),_(t("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Child Price","onUpdate:modelValue":s[5]||(s[5]=r=>T.value.child_price=r)},null,512),[[h,T.value.child_price]]),_(t("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Infant Price","onUpdate:modelValue":s[6]||(s[6]=r=>T.value.infant_price=r)},null,512),[[h,T.value.infant_price]])]),t("button",{type:"button",onClick:re,class:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 hover:bg-yellow-200 rounded-md transition-colors duration-200 border border-yellow-300 hover:border-yellow-400"}," Apply Prices To All ")]),t("table",ft,[t("tbody",ht,[(l(!0),a(c,null,v(x.value,r=>(l(),a(c,{key:r.id},[s[27]||(s[27]=t("tr",{class:"bg-gray-100"},[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adult Price"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Child Price"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infant Price")],-1)),(l(),a(c,null,v(w,e=>(l(),a(c,{key:`${r.id}-${e.adults}-${e.children}-${e.infants}`},[M(e.adults,e.children,e.infants,"adult",!0)?(l(),a("tr",gt,[t("td",mt,o(r.room_type.name),1),t("td",vt,o(e.adults),1),t("td",wt,o(e.children),1),t("td",bt,o(e.infants),1),t("td",kt,[_(t("input",{type:"number","onUpdate:modelValue":n=>f(i).prices[r.room_type_id].base_charge[g(e.adults,e.children,e.infants)].adult_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Adult Price",step:"0.01"},null,8,Pt),[[h,f(i).prices[r.room_type_id].base_charge[g(e.adults,e.children,e.infants)].adult_price]])]),t("td",Ct,[e.children===0?(l(),a("span",Tt," - ")):_((l(),a("input",{key:1,type:"number","onUpdate:modelValue":n=>f(i).prices[r.room_type_id].base_charge[g(e.adults,e.children,e.infants)].child_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Child Price",step:"0.01"},null,8,At)),[[h,f(i).prices[r.room_type_id].base_charge[g(e.adults,e.children,e.infants)].child_price]])]),t("td",Vt,[e.infants===0?(l(),a("span",It," - ")):_((l(),a("input",{key:1,type:"number","onUpdate:modelValue":n=>f(i).prices[r.room_type_id].base_charge[g(e.adults,e.children,e.infants)].infant_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Infant Price",step:"0.01"},null,8,Ut)),[[h,f(i).prices[r.room_type_id].base_charge[g(e.adults,e.children,e.infants)].infant_price]])])])):U("",!0)],64))),64))],64))),128))])])]),t("div",Bt,[t("div",St,[s[28]||(s[28]=t("h3",{class:"text-lg font-bold text-gray-900"},"Surcharges",-1)),t("div",$t,[_(t("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Adult Price","onUpdate:modelValue":s[7]||(s[7]=r=>A.value.adult_price=r)},null,512),[[h,A.value.adult_price]]),_(t("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Child Price","onUpdate:modelValue":s[8]||(s[8]=r=>A.value.child_price=r)},null,512),[[h,A.value.child_price]]),_(t("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Infant Price","onUpdate:modelValue":s[9]||(s[9]=r=>A.value.infant_price=r)},null,512),[[h,A.value.infant_price]])]),t("button",{type:"button",onClick:ae,class:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 hover:bg-yellow-200 rounded-md transition-colors duration-200 border border-yellow-300 hover:border-yellow-400"}," Apply Prices To All ")]),t("table",Et,[t("tbody",Rt,[(l(!0),a(c,null,v(x.value,r=>(l(),a(c,{key:r.id},[s[29]||(s[29]=t("tr",{class:"bg-gray-100"},[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adult Price"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Child Price"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infant Price")],-1)),(l(),a(c,null,v(w,e=>(l(),a(c,{key:`${r.id}-${e.adults}-${e.children}-${e.infants}`},[M(e.adults,e.children,e.infants,"adult",!0)?(l(),a("tr",Ft,[t("td",qt,o(r.room_type.name),1),t("td",Ot,o(e.adults),1),t("td",jt,o(e.children),1),t("td",Nt,o(e.infants),1),t("td",Dt,[_(t("input",{type:"number","onUpdate:modelValue":n=>f(i).prices[r.room_type_id].sur_charge[g(e.adults,e.children,e.infants)].adult_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Adult Price",step:"0.01"},null,8,Mt),[[h,f(i).prices[r.room_type_id].sur_charge[g(e.adults,e.children,e.infants)].adult_price]])]),t("td",Kt,[e.children===0?(l(),a("span",Lt," - ")):_((l(),a("input",{key:1,type:"number","onUpdate:modelValue":n=>f(i).prices[r.room_type_id].sur_charge[g(e.adults,e.children,e.infants)].child_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Child Price",step:"0.01"},null,8,Yt)),[[h,f(i).prices[r.room_type_id].sur_charge[g(e.adults,e.children,e.infants)].child_price]])]),t("td",Wt,[e.infants===0?(l(),a("span",zt," - ")):U("",!0),_(t("input",{type:"number","onUpdate:modelValue":n=>f(i).prices[r.room_type_id].sur_charge[g(e.adults,e.children,e.infants)].infant_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Infant Price",step:"0.01"},null,8,Gt),[[h,f(i).prices[r.room_type_id].sur_charge[g(e.adults,e.children,e.infants)].infant_price]])])])):U("",!0)],64))),64))],64))),128))])])])])],32)):(l(),a(c,{key:0},[t("div",Se,[t("div",$e,[s[22]||(s[22]=t("h4",{class:"text-lg font-bold text-gray-700 mb-2"},"Base Charge",-1)),t("div",Ee,[b.value?U("",!0):(l(),a("button",{key:0,onClick:s[3]||(s[3]=r=>te("edit")),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm"}," Edit All Prices "))])]),t("table",Re,[t("tbody",Fe,[(l(!0),a(c,null,v(x.value,r=>(l(),a(c,{key:r.id},[s[23]||(s[23]=t("tr",{class:"bg-gray-100"},[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adult Price"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Child Price"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infant Price")],-1)),(l(),a(c,null,v(w,e=>(l(),a(c,{key:`${r.id}-${e.adults}-${e.children}-${e.infants}`},[M(e.adults,e.children,e.infants)?(l(),a("tr",qe,[t("td",Oe,o(r.room_type.name),1),t("td",je,o(e.adults),1),t("td",Ne,o(e.children),1),t("td",De,o(e.infants),1),t("td",Me,o(B(r,e.adults,e.children,"base_charge","adult",e.infants)),1),t("td",Ke,[e.children===0?(l(),a("span",Le," - ")):(l(),a("span",Ye,o(B(r,e.adults,e.children,"base_charge","child",e.infants)),1))]),t("td",We,[e.infants===0?(l(),a("span",ze," - ")):(l(),a("span",Ge,o(B(r,e.adults,e.children,"base_charge","infant",e.infants)),1))])])):U("",!0)],64))),64))],64))),128))])])]),t("div",He,[s[25]||(s[25]=t("h4",{class:"text-lg font-bold text-gray-700 mb-2"},"Surcharge",-1)),t("table",Je,[t("tbody",Qe,[(l(!0),a(c,null,v(x.value,r=>(l(),a(c,{key:r.id},[s[24]||(s[24]=t("tr",{class:"bg-gray-100"},[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adult Price"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Child Price"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infant Price")],-1)),(l(),a(c,null,v(w,e=>(l(),a(c,{key:`${r.id}-${e.adults}-${e.children}-${e.infants}`},[M(e.adults,e.children,e.infants)?(l(),a("tr",Xe,[t("td",Ze,o(r.room_type.name),1),t("td",et,o(e.adults),1),t("td",tt,o(e.children),1),t("td",st,o(e.infants),1),t("td",rt,o(B(r,e.adults,e.children,"sur_charge","adult",e.infants)),1),t("td",at,[e.children===0?(l(),a("span",lt," - ")):(l(),a("span",dt,o(B(r,e.adults,e.children,"sur_charge","child",e.infants)),1))]),t("td",nt,[e.infants===0?(l(),a("span",it," - ")):(l(),a("span",ot,o(B(r,e.adults,e.children,"sur_charge","infant",e.infants)),1))])])):U("",!0)],64))),64))],64))),128))])])])],64))])):(l(),a("div",Ue,[s[21]||(s[21]=pe(" No price configurations found for the selected filters. ")),t("button",{onClick:le,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm block text-center mt-4 mx-auto"}," Create Configuration ")]))])):U("",!0),Q(fe,{show:R.value,onClose:s[14]||(s[14]=r=>R.value=!1)},{default:xe(()=>[t("div",Ht,[s[35]||(s[35]=t("h3",{class:"text-md font-medium text-gray-900"},"Update Price Config by Pax",-1)),t("div",Jt,[t("div",null,[s[31]||(s[31]=t("label",{class:"block text-sm text-gray-600 mb-1"},"Select Pax Type",-1)),_(t("select",{"onUpdate:modelValue":s[10]||(s[10]=r=>p.value=r),class:"w-full rounded-lg border-gray-300 px-3 py-2"},s[30]||(s[30]=[t("option",{value:"adult"},"Adult",-1),t("option",{value:"child"},"Child",-1),t("option",{value:"infant"},"Infant",-1)]),512),[[q,p.value]])]),t("div",null,[s[32]||(s[32]=t("label",{class:"block text-sm text-gray-600 mb-1"},"Number of Pax",-1)),_(t("select",{"onUpdate:modelValue":s[11]||(s[11]=r=>k[p.value]=r),class:"w-full rounded-lg border-gray-300 px-3 py-2"},[(l(!0),a(c,null,v(de[p.value],r=>(l(),a("option",{key:r,value:r},o(r),9,Qt))),128))],512),[[q,k[p.value]]])]),t("div",null,[t("div",null,[s[33]||(s[33]=t("label",{class:"block text-sm text-gray-600 mb-1"},"Base Charge (RM)",-1)),_(t("input",{"onUpdate:modelValue":s[12]||(s[12]=r=>k[p.value+"_base_charge"]=r),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 120"},null,512),[[h,k[p.value+"_base_charge"],void 0,{number:!0}]])])]),t("div",null,[t("div",null,[s[34]||(s[34]=t("label",{class:"block text-sm text-gray-600 mb-1"},"Surcharge (RM)",-1)),_(t("input",{"onUpdate:modelValue":s[13]||(s[13]=r=>k[p.value+"_surcharge"]=r),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 50"},null,512),[[h,k[p.value+"_surcharge"],void 0,{number:!0}]])])])]),t("div",{class:"flex justify-end space-x-2"},[t("button",{onClick:H,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),t("button",{onClick:ne,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"}," Update ")])])]),_:1},8,["show"])]))}},as=he(Xt,[["__scopeId","data-v-00133a26"]]);export{as as default};

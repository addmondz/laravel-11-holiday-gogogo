import{C as D,l as P,i as S,g as r,o as a,a as _,u as o,m as T,w as x,b as e,e as B,j as i,h as n,k as l,t as u,f as b,n as k,F as h,p as E,P as N}from"./app-ioBZTBmc.js";import{A as R}from"./AuthenticatedLayout-DGBAk2r1.js";import{S as f}from"./sweetalert2.esm.all-DWO__QVt.js";import{_ as q}from"./BreadcrumbComponent-D1Q9ovus.js";import"./ApplicationLogo-42dlPy5c.js";import"./LoadingComponent-BNjEYoAs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-CirKPO9f.js";const A={class:"pb-12 pt-6"},M={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 text-gray-900"},F={class:"grid grid-cols-1 gap-6"},K={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},I={class:"hidden"},$={key:0,class:"mt-1 text-sm text-red-600"},z={class:"grid grid-cols-2 gap-6"},G={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},W={key:0,class:"mt-1 text-sm text-red-600"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={key:0,class:"mt-1 text-sm text-red-600"},Z={class:"grid grid-cols-2 gap-6"},ee=["max"],te={key:0,class:"mt-1 text-sm text-red-600"},se=["min"],oe={key:0,class:"mt-1 text-sm text-red-600"},de={key:1,class:"mt-1 text-sm text-red-600"},re={class:"mt-6 border-t border-gray-600 pt-6"},ae={class:"overflow-x-auto"},ie={class:"min-w-full divide-y divide-gray-200"},le={class:"bg-white divide-y divide-gray-200"},ne={class:"px-6 py-4 whitespace-nowrap"},ue=["onUpdate:modelValue"],ce={class:"px-6 py-4 whitespace-nowrap"},me=["onUpdate:modelValue"],pe={class:"px-6 py-4"},ge=["onUpdate:modelValue"],_e={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},xe=["onClick"],fe={class:"mt-6 flex justify-end"},ye=["disabled"],Pe={__name:"Create",setup(be){const t=D({name:"",description:"",icon_photo:null,display_price_adult:null,display_price_child:null,adult_surcharge:null,child_surcharge:null,package_days:2,terms_and_conditions:"",location:"",package_start_date:"",package_end_date:"",room_types:[{name:"",max_occupancy:2,description:""}]}),m=P(""),v=()=>{t.room_types.push({name:"",max_occupancy:2,description:""})},w=c=>{t.room_types.splice(c,1)},V=c=>{t.icon_photo=c.target.files[0]},y=()=>{if(m.value="",t.package_start_date&&t.package_end_date){const c=new Date(t.package_start_date),s=new Date(t.package_end_date),d=Math.abs(s-c),g=Math.ceil(d/(1e3*60*60*24));s<=c?m.value="End date must be after start date":g<1&&(m.value="End date must be at least one day after start date")}},U=()=>{if(y(),m.value){f.fire({title:"Validation Error",text:m.value,icon:"error",confirmButtonText:"OK"});return}t.post(route("packages.store"),{preserveScroll:!0,onSuccess:()=>{f.fire({title:"Success!",text:"Package has been created successfully.",icon:"success",confirmButtonText:"OK"}).then(()=>{t.reset(),m.value=""})},onError:c=>{c.package_end_date&&f.fire({title:"Validation Error",text:c.package_end_date,icon:"error",confirmButtonText:"OK"})}})},C=S(()=>[{title:"Packages",link:route("packages.index")},{title:"Create Package"}]);return(c,s)=>(a(),r(h,null,[_(o(T),{title:"Create Package"}),_(R,null,{header:x(()=>s[11]||(s[11]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:x(()=>[e("div",A,[e("div",M,[e("div",O,[e("div",j,[_(q,{breadcrumbs:C.value,class:"mb-9"},null,8,["breadcrumbs"]),e("form",{onSubmit:B(U,["prevent"])},[e("div",F,[e("div",null,[s[12]||(s[12]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),i(e("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=d=>o(t).name=d),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[l,o(t).name]]),o(t).errors.name?(a(),r("div",K,u(o(t).errors.name),1)):n("",!0)]),e("div",null,[s[13]||(s[13]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),i(e("textarea",{id:"description","onUpdate:modelValue":s[1]||(s[1]=d=>o(t).description=d),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).description]]),o(t).errors.description?(a(),r("div",L,u(o(t).errors.description),1)):n("",!0)]),e("div",I,[s[14]||(s[14]=e("label",{for:"icon_photo",class:"block text-sm font-medium text-gray-700"},"Icon Photo",-1)),e("input",{type:"file",id:"icon_photo",onChange:V,accept:"image/*",class:"mt-1 block w-full"},null,32),o(t).errors.icon_photo?(a(),r("div",$,u(o(t).errors.icon_photo),1)):n("",!0)]),e("div",z,[e("div",null,[s[15]||(s[15]=e("label",{for:"display_price_adult",class:"block text-sm font-medium text-gray-700"},[e("b",{class:"text-[15px]"},"Display Price"),b(" / Adult Base Price")],-1)),i(e("input",{type:"number",id:"display_price_adult","onUpdate:modelValue":s[2]||(s[2]=d=>o(t).display_price_adult=d),step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).display_price_adult]]),o(t).errors.display_price_adult?(a(),r("div",G,u(o(t).errors.display_price_adult),1)):n("",!0)]),e("div",null,[s[16]||(s[16]=e("label",{for:"display_price_adult",class:"block text-sm font-medium text-gray-700"},"Child Base Price",-1)),i(e("input",{type:"number",id:"display_price_child","onUpdate:modelValue":s[3]||(s[3]=d=>o(t).display_price_child=d),step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).display_price_child]]),o(t).errors.display_price_child?(a(),r("div",H,u(o(t).errors.display_price_child),1)):n("",!0)]),e("div",null,[s[17]||(s[17]=e("label",{for:"adult_surcharge",class:"block text-sm font-medium text-gray-700"},"Adult Surcharge",-1)),i(e("input",{type:"number",id:"adult_surcharge","onUpdate:modelValue":s[4]||(s[4]=d=>o(t).adult_surcharge=d),step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).adult_surcharge]]),o(t).errors.adult_surcharge?(a(),r("div",J,u(o(t).errors.adult_surcharge),1)):n("",!0)]),e("div",null,[s[18]||(s[18]=e("label",{for:"child_surcharge",class:"block text-sm font-medium text-gray-700"},"Child Surcharge",-1)),i(e("input",{type:"number",id:"child_surcharge","onUpdate:modelValue":s[5]||(s[5]=d=>o(t).child_surcharge=d),step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).child_surcharge]]),o(t).errors.child_surcharge?(a(),r("div",Q,u(o(t).errors.child_surcharge),1)):n("",!0)]),e("div",null,[s[19]||(s[19]=e("label",{for:"package_days",class:"block text-sm font-medium text-gray-700"},"Package Duration (Nights)",-1)),i(e("input",{type:"number",id:"package_days","onUpdate:modelValue":s[6]||(s[6]=d=>o(t).package_days=d),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[l,o(t).package_days]]),o(t).errors.package_days?(a(),r("div",W,u(o(t).errors.package_days),1)):n("",!0)])]),e("div",null,[s[20]||(s[20]=e("label",{for:"terms_and_conditions",class:"block text-sm font-medium text-gray-700"},"Terms and Conditions",-1)),i(e("textarea",{id:"terms_and_conditions","onUpdate:modelValue":s[7]||(s[7]=d=>o(t).terms_and_conditions=d),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).terms_and_conditions]]),o(t).errors.terms_and_conditions?(a(),r("div",X,u(o(t).errors.terms_and_conditions),1)):n("",!0)]),e("div",null,[s[21]||(s[21]=e("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1)),i(e("input",{type:"text",id:"location","onUpdate:modelValue":s[8]||(s[8]=d=>o(t).location=d),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).location]]),o(t).errors.location?(a(),r("div",Y,u(o(t).errors.location),1)):n("",!0)]),e("div",Z,[e("div",null,[s[22]||(s[22]=e("label",{for:"package_start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),i(e("input",{type:"date",id:"package_start_date","onUpdate:modelValue":s[9]||(s[9]=d=>o(t).package_start_date=d),max:o(t).package_end_date?o(t).package_end_date:void 0,class:k(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":o(t).errors.package_start_date||o(t).errors.package_end_date}]),required:"",onChange:y},null,42,ee),[[l,o(t).package_start_date]]),o(t).errors.package_start_date?(a(),r("div",te,u(o(t).errors.package_start_date),1)):n("",!0)]),e("div",null,[s[23]||(s[23]=e("label",{for:"package_end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),i(e("input",{type:"date",id:"package_end_date","onUpdate:modelValue":s[10]||(s[10]=d=>o(t).package_end_date=d),min:o(t).package_start_date?new Date(new Date(o(t).package_start_date).getTime()+864e5).toISOString().split("T")[0]:void 0,class:k(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":o(t).errors.package_end_date}]),required:""},null,10,se),[[l,o(t).package_end_date]]),o(t).errors.package_end_date?(a(),r("div",oe,u(o(t).errors.package_end_date),1)):n("",!0),m.value?(a(),r("div",de,u(m.value),1)):n("",!0)])]),e("div",re,[e("div",{class:"flex justify-between items-center mb-4"},[s[24]||(s[24]=e("h3",{class:"text-lg font-medium text-gray-900"},"Room Types",-1)),e("button",{type:"button",onClick:v,class:"px-4 py-2 text-xs bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200"}," Add Room Type ")]),e("div",ae,[e("table",ie,[s[25]||(s[25]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Max Occupancy"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Description"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",le,[(a(!0),r(h,null,E(o(t).room_types,(d,g)=>(a(),r("tr",{key:g},[e("td",ne,[i(e("input",{type:"text","onUpdate:modelValue":p=>d.name=p,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Room Type Name",required:""},null,8,ue),[[l,d.name]])]),e("td",ce,[i(e("input",{type:"number","onUpdate:modelValue":p=>d.max_occupancy=p,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",required:""},null,8,me),[[l,d.max_occupancy]])]),e("td",pe,[i(e("input",{type:"text","onUpdate:modelValue":p=>d.description=p,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Description"},null,8,ge),[[l,d.description]])]),e("td",_e,[e("button",{type:"button",onClick:p=>w(g),class:"text-red-600 hover:text-red-900"}," Remove ",8,xe)])]))),128))])])])])]),e("div",fe,[_(o(N),{href:c.route("packages.index"),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 mr-3 text-xs"},{default:x(()=>s[26]||(s[26]=[b(" Cancel ")])),_:1},8,["href"]),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:o(t).processing}," Create Package ",8,ye)])],32)])])])])]),_:1})],64))}};export{Pe as default};

import{l as x,C as pe,i as G,K as _e,y as X,g as a,o as l,b as e,h as A,a as Z,j as p,p as B,F as _,q as g,f as ye,e as fe,u as h,t as i,k as y,w as xe,x as W}from"./app-DFrps8J6.js";import{S as q}from"./sweetalert2.esm.all-B0Dix5B2.js";import{L as ge}from"./LoadingComponent-BzwlWxSn.js";import{_ as he}from"./Modal.vue_vue_type_script_setup_true_lang-DRdgzhUT.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ve={class:"space-y-6"},we={class:"bg-white shadow rounded-lg p-6"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ke=["value"],Ce=["value"],Pe=["value"],Te={class:"mt-6 flex space-x-2"},Ve=["disabled"],Ae={key:0},Ue={key:1},Ie={key:0,class:"bg-white shadow rounded-lg p-6"},Se={key:0,class:"flex justify-center items-center h-full min-h-[400px]"},Be={key:1,class:"text-center text-gray-500"},$e={key:2,class:"space-y-8"},Ee={class:"overflow-x-auto"},Re={class:"flex justify-between items-center"},Fe={class:"space-x-2 mb-4"},qe={class:"min-w-full divide-y divide-gray-200"},Me={class:"bg-white divide-y divide-gray-200"},Oe={key:0,class:"hover:bg-gray-50"},je={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},De={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Le={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Ye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},We={key:0},ze={key:1},Ge={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},He={key:0},Je={key:1},Qe={class:"overflow-x-auto mt-8"},Xe={class:"min-w-full divide-y divide-gray-200"},Ze={class:"bg-white divide-y divide-gray-200"},et={key:0,class:"hover:bg-gray-50"},tt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},nt={key:0},it={key:1},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},ut={key:0},ct={key:1},pt={class:"flex justify-end space-x-2 mb-6"},_t=["disabled"],yt={class:"space-y-8"},ft={class:"overflow-x-auto"},xt={class:"flex justify-between items-center mb-4"},gt={class:"flex flex-1 gap-2 items-center justify-end mr-4"},ht={class:"min-w-full divide-y divide-gray-200"},mt={class:"bg-white divide-y divide-gray-200"},vt={key:0},wt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Tt=["onUpdate:modelValue"],Vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},At={key:0},Ut=["onUpdate:modelValue"],It={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},St={key:0},Bt=["onUpdate:modelValue"],$t={class:"overflow-x-auto"},Et={class:"flex justify-between items-center mb-4"},Rt={class:"flex flex-1 gap-2 items-center justify-end mr-4"},Ft={class:"min-w-full divide-y divide-gray-200"},qt={class:"bg-white divide-y divide-gray-200"},Mt={key:0},Ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},Kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Lt=["onUpdate:modelValue"],Yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Wt={key:0},zt=["onUpdate:modelValue"],Gt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ht={key:0},Jt=["onUpdate:modelValue"],Qt={class:"max-w-2xl bg-white space-y-8 p-4"},Xt={class:"space-y-6"},Zt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},es=["value"],ts=["value"],ss=["value"],rs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},as={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ls={__name:"PriceConfigurationRoomTypes",props:{packageId:{type:Number,required:!0},seasonTypes:{type:Array,required:!0},dateTypes:{type:Array,required:!0},packageUniqueRoomTypes:{type:Object,required:!0},allSeasonTypes:{type:Array,required:!0},allDateTypes:{type:Array,required:!0},assignedSeasonTypes:{type:Array,required:!0},assignedDateTypes:{type:Array,required:!0}},setup(M){const $=M,b=x(""),k=x(""),E=x(""),O=x(!1),j=x(!1),f=x([]),R=x(!1),ee=x(!1),w=x(!1),P=x({adult_price:"",child_price:"",infant_price:""}),T=x({adult_price:"",child_price:"",infant_price:""}),F=x(!1),o=pe({package_id:$.packageId,season_type_id:"",date_type_id:"",prices:{}}),te=G(()=>b.value&&k.value);G(()=>f.value.some(d=>d.prices.some(s=>s.type==="sur_charge")));const z=()=>{R.value=!0,W.post(route("configuration-prices.fetchPricesRoomTypes"),{package_id:$.packageId,season_type_id:b.value,date_type_id:k.value,room_type_id:E.value||void 0}).then(d=>{d.data&&d.data.length>0?(f.value=d.data,O.value=!0,j.value=!0):(O.value=!0,j.value=!1)}).catch(d=>{console.error("Error fetching prices:",d),q.fire({icon:"error",title:"Error",text:"Failed to fetch price configurations",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}).finally(()=>{R.value=!1})},U=(d,s,r,t,n,c=0)=>{const C=d.prices.find(S=>S.number_of_adults===s&&S.number_of_children===r&&S.number_of_infants===c&&S.type===t);return C?`MYR ${C[n+"_price"]}`:"-"},se=()=>{b.value="",k.value="",E.value="",O.value=!1,j.value=!1,ee.value=!1,w.value=!1,f.value=[],o.reset()},m=[{adults:1,children:0,infants:0},{adults:1,children:0,infants:1},{adults:1,children:0,infants:2},{adults:1,children:0,infants:3},{adults:1,children:1,infants:0},{adults:1,children:1,infants:1},{adults:1,children:1,infants:2},{adults:1,children:2,infants:0},{adults:1,children:2,infants:1},{adults:1,children:3,infants:0},{adults:2,children:0,infants:0},{adults:2,children:0,infants:1},{adults:2,children:0,infants:2},{adults:2,children:1,infants:0},{adults:2,children:1,infants:1},{adults:2,children:2,infants:0},{adults:2,children:0,infants:2},{adults:3,children:0,infants:0},{adults:3,children:0,infants:1},{adults:3,children:1,infants:0},{adults:4,children:0,infants:0}],u=_e({adult:1,child:0,infant:0,adult_base_charge:0,child_base_charge:0,infant_base_charge:0,adult_surcharge:0,child_surcharge:0,infant_surcharge:0}),re=G(()=>[...new Set(m.map(s=>s.adults))].sort((s,r)=>s-r)),D=x([]),N=x([]),K=(d,s,r,t,n=!1)=>{if(d+s+r>4)return!1;const c=m.some(C=>C.adults===d&&C.children===s&&C.infants===r);return d===1&&s===0&&r===0&&n?!0:!!c},v=(d,s,r,t)=>m.findIndex(n=>n.adults===d&&n.children===s&&n.infants===r),ae=d=>{w.value=d==="edit",o.reset(),o.package_id=$.packageId,o.season_type_id=b.value,o.date_type_id=k.value,f.value.forEach(s=>{const r=s.room_type_id;o.prices[r]={base_charge:m.map(t=>({number_of_adults:t.adults,number_of_children:t.children,number_of_infants:t.infants,adult_price:"",child_price:"",infant_price:""})),sur_charge:m.map(t=>({number_of_adults:t.adults,number_of_children:t.children,number_of_infants:t.infants,adult_price:"",child_price:"",infant_price:""}))},w.value&&s.prices.forEach(t=>{const n=v(t.number_of_adults,t.number_of_children,t.number_of_infants,t.type);if(n!==-1){const c=t.type==="base_charge"?"base_charge":"sur_charge";o.prices[r][c][n]={number_of_adults:t.number_of_adults,number_of_children:t.number_of_children,number_of_infants:t.number_of_infants,adult_price:t.adult_price,child_price:t.child_price,infant_price:t.infant_price||""}}})})},H=()=>{w.value=!1,o.reset()},le=()=>{const d={};f.value.forEach(t=>{const n=t.room_type_id;d[n]={base_charge:o.prices[n].base_charge.map(c=>({number_of_adults:c.number_of_adults,number_of_children:c.number_of_children,number_of_infants:c.number_of_infants,adult_price:c.adult_price,child_price:c.child_price,infant_price:c.infant_price||0})),sur_charge:o.prices[n].sur_charge.map(c=>({number_of_adults:c.number_of_adults,number_of_children:c.number_of_children,number_of_infants:c.number_of_infants,adult_price:c.adult_price,child_price:c.child_price,infant_price:c.infant_price||0}))}});const s={package_id:$.packageId,season_type_id:b.value,date_type_id:k.value,prices:d};(w.value?W.put(route("configuration-prices.updateRoomTypePrices",f.value[0].id),s):W.post(route("configuration-prices.store"),s)).then(()=>{H(),z(),q.fire({icon:"success",title:"Success!",text:`Prices ${w.value?"updated":"created"} successfully for all room types`,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}).catch(t=>{var n,c;console.error(`Error ${w.value?"updating":"creating"} prices:`,t),q.fire({icon:"error",title:"Error",text:((c=(n=t.response)==null?void 0:n.data)==null?void 0:c.message)||`Failed to ${w.value?"update":"create"} prices`,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})})},de=()=>{if(!f.value.length)return;const d=P.value;d&&f.value.forEach(s=>{const r=s.room_type_id;o.prices[r].base_charge=m.map(t=>({number_of_adults:t.adults,number_of_children:t.children,number_of_infants:t.infants,adult_price:d.adult_price,child_price:d.child_price,infant_price:d.infant_price}))})},ne=()=>{if(!f.value.length)return;const d=T.value;d&&f.value.forEach(s=>{const r=s.room_type_id;o.prices[r].sur_charge=m.map(t=>({number_of_adults:t.adults,number_of_children:t.children,number_of_infants:t.infants,adult_price:d.adult_price,child_price:d.child_price,infant_price:d.infant_price}))})},ie=()=>{W.post(route("configuration-prices.createPriceConfiguration"),{package_id:$.packageId,season_type_id:b.value,date_type_id:k.value,room_type_id:E.value}).then(d=>{q.fire({icon:"success",title:"Success!",text:"Price configuration created successfully",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),z()}).catch(d=>{console.error("Error creating price configuration:",d),q.fire({icon:"error",title:"Error",text:"Failed to create price configuration",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})})},I=()=>{D.value=[...new Set(m.filter(d=>d.adults===u.adult).map(d=>d.children))].sort((d,s)=>d-s),D.value.includes(u.child)||(u.child=D.value[0]??0),N.value=[...new Set(m.filter(d=>d.adults===u.adult&&d.children===u.child).map(d=>d.infants))].sort((d,s)=>d-s),N.value.includes(u.infant)||(u.infant=N.value[0]??0)};I(),X(()=>u.adult,I),X(()=>u.child,I);const J=()=>{F.value=!F.value},oe=()=>{const{adult:d,child:s,infant:r,adult_base_charge:t,child_base_charge:n,infant_base_charge:c,adult_surcharge:C,child_surcharge:S,infant_surcharge:ue}=u;f.value.forEach(ce=>{const Q=ce.room_type_id,L=o.prices[Q].base_charge.find(V=>V.number_of_adults===d&&V.number_of_children===s&&V.number_of_infants===r);L&&(L.adult_price=t,L.child_price=n,L.infant_price=c);const Y=o.prices[Q].sur_charge.find(V=>V.number_of_adults===d&&V.number_of_children===s&&V.number_of_infants===r);Y&&(Y.adult_price=C,Y.child_price=S,Y.infant_price=ue)}),F.value=!1};return(d,s)=>(l(),a("div",ve,[e("div",we,[e("div",be,[e("div",null,[s[21]||(s[21]=e("label",{for:"season",class:"block text-sm font-medium text-gray-700"},"Season",-1)),p(e("select",{id:"season","onUpdate:modelValue":s[0]||(s[0]=r=>b.value=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[20]||(s[20]=e("option",{value:""},"Select Season",-1)),(l(!0),a(_,null,g(M.assignedSeasonTypes,r=>(l(),a("option",{key:r.id,value:r.id},i(r.name),9,ke))),128))],512),[[B,b.value]])]),e("div",null,[s[23]||(s[23]=e("label",{for:"dateType",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),p(e("select",{id:"dateType","onUpdate:modelValue":s[1]||(s[1]=r=>k.value=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[22]||(s[22]=e("option",{value:""},"Select Date Type",-1)),(l(!0),a(_,null,g(M.assignedDateTypes,r=>(l(),a("option",{key:r.id,value:r.id},i(r.name),9,Ce))),128))],512),[[B,k.value]])]),e("div",null,[s[25]||(s[25]=e("label",{for:"roomType",class:"block text-sm font-medium text-gray-700"},"Room Type (Optional)",-1)),p(e("select",{id:"roomType","onUpdate:modelValue":s[2]||(s[2]=r=>E.value=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[24]||(s[24]=e("option",{value:""},"All Room Types",-1)),(l(!0),a(_,null,g(M.packageUniqueRoomTypes,(r,t)=>(l(),a("option",{key:t,value:t},i(r),9,Pe))),128))],512),[[B,E.value]])])]),e("div",Te,[e("button",{onClick:z,disabled:!te.value||R.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs disabled:opacity-50 disabled:cursor-not-allowed"},[R.value?(l(),a("span",Ae,"Loading...")):(l(),a("span",Ue,"Search Prices"))],8,Ve),e("button",{onClick:se,class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Reset ")])]),O.value?(l(),a("div",Ie,[R.value?(l(),a("div",Se,[Z(ge)])):j.value?(l(),a("div",$e,[w.value?(l(),a("form",{key:1,onSubmit:fe(le,["prevent"])},[e("div",pt,[e("button",{type:"button",onClick:J,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm"}," Edit Price By Pax "),e("button",{type:"button",onClick:H,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm",disabled:h(o).processing},i(h(o).processing?"Saving...":"Save All Prices"),9,_t)]),e("div",yt,[e("div",ft,[e("div",xt,[s[31]||(s[31]=e("h3",{class:"text-lg font-bold text-gray-900"},"Base Charges",-1)),e("div",gt,[p(e("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Adult Price","onUpdate:modelValue":s[4]||(s[4]=r=>P.value.adult_price=r)},null,512),[[y,P.value.adult_price]]),p(e("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Child Price","onUpdate:modelValue":s[5]||(s[5]=r=>P.value.child_price=r)},null,512),[[y,P.value.child_price]]),p(e("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Infant Price","onUpdate:modelValue":s[6]||(s[6]=r=>P.value.infant_price=r)},null,512),[[y,P.value.infant_price]])]),e("button",{type:"button",onClick:de,class:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 hover:bg-yellow-200 rounded-md transition-colors duration-200 border border-yellow-300 hover:border-yellow-400"}," Apply Prices To All ")]),e("table",ht,[e("tbody",mt,[(l(!0),a(_,null,g(f.value,r=>(l(),a(_,{key:r.id},[s[32]||(s[32]=e("tr",{class:"bg-gray-100"},[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adult Price"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Child Price"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infant Price")],-1)),(l(),a(_,null,g(m,t=>(l(),a(_,{key:`${r.id}-${t.adults}-${t.children}-${t.infants}`},[K(t.adults,t.children,t.infants,"adult",!0)?(l(),a("tr",vt,[e("td",wt,i(r.room_type.name),1),e("td",bt,i(t.adults),1),e("td",kt,i(t.children),1),e("td",Ct,i(t.infants),1),e("td",Pt,[p(e("input",{type:"number","onUpdate:modelValue":n=>h(o).prices[r.room_type_id].base_charge[v(t.adults,t.children,t.infants)].adult_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Adult Price",step:"0.01"},null,8,Tt),[[y,h(o).prices[r.room_type_id].base_charge[v(t.adults,t.children,t.infants)].adult_price]])]),e("td",Vt,[t.children===0?(l(),a("span",At," - ")):p((l(),a("input",{key:1,type:"number","onUpdate:modelValue":n=>h(o).prices[r.room_type_id].base_charge[v(t.adults,t.children,t.infants)].child_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Child Price",step:"0.01"},null,8,Ut)),[[y,h(o).prices[r.room_type_id].base_charge[v(t.adults,t.children,t.infants)].child_price]])]),e("td",It,[t.infants===0?(l(),a("span",St," - ")):p((l(),a("input",{key:1,type:"number","onUpdate:modelValue":n=>h(o).prices[r.room_type_id].base_charge[v(t.adults,t.children,t.infants)].infant_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Infant Price",step:"0.01"},null,8,Bt)),[[y,h(o).prices[r.room_type_id].base_charge[v(t.adults,t.children,t.infants)].infant_price]])])])):A("",!0)],64))),64))],64))),128))])])]),e("div",$t,[e("div",Et,[s[33]||(s[33]=e("h3",{class:"text-lg font-bold text-gray-900"},"Surcharges",-1)),e("div",Rt,[p(e("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Adult Price","onUpdate:modelValue":s[7]||(s[7]=r=>T.value.adult_price=r)},null,512),[[y,T.value.adult_price]]),p(e("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Child Price","onUpdate:modelValue":s[8]||(s[8]=r=>T.value.child_price=r)},null,512),[[y,T.value.child_price]]),p(e("input",{type:"number",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm max-w-40",placeholder:"Infant Price","onUpdate:modelValue":s[9]||(s[9]=r=>T.value.infant_price=r)},null,512),[[y,T.value.infant_price]])]),e("button",{type:"button",onClick:ne,class:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 hover:bg-yellow-200 rounded-md transition-colors duration-200 border border-yellow-300 hover:border-yellow-400"}," Apply Prices To All ")]),e("table",Ft,[e("tbody",qt,[(l(!0),a(_,null,g(f.value,r=>(l(),a(_,{key:r.id},[s[34]||(s[34]=e("tr",{class:"bg-gray-100"},[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adult Price"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Child Price"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infant Price")],-1)),(l(),a(_,null,g(m,t=>(l(),a(_,{key:`${r.id}-${t.adults}-${t.children}-${t.infants}`},[K(t.adults,t.children,t.infants,"adult",!0)?(l(),a("tr",Mt,[e("td",Ot,i(r.room_type.name),1),e("td",jt,i(t.adults),1),e("td",Dt,i(t.children),1),e("td",Nt,i(t.infants),1),e("td",Kt,[p(e("input",{type:"number","onUpdate:modelValue":n=>h(o).prices[r.room_type_id].sur_charge[v(t.adults,t.children,t.infants)].adult_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Adult Price",step:"0.01"},null,8,Lt),[[y,h(o).prices[r.room_type_id].sur_charge[v(t.adults,t.children,t.infants)].adult_price]])]),e("td",Yt,[t.children===0?(l(),a("span",Wt," - ")):p((l(),a("input",{key:1,type:"number","onUpdate:modelValue":n=>h(o).prices[r.room_type_id].sur_charge[v(t.adults,t.children,t.infants)].child_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Child Price",step:"0.01"},null,8,zt)),[[y,h(o).prices[r.room_type_id].sur_charge[v(t.adults,t.children,t.infants)].child_price]])]),e("td",Gt,[t.infants===0?(l(),a("span",Ht," - ")):A("",!0),p(e("input",{type:"number","onUpdate:modelValue":n=>h(o).prices[r.room_type_id].sur_charge[v(t.adults,t.children,t.infants)].infant_price=n,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Infant Price",step:"0.01"},null,8,Jt),[[y,h(o).prices[r.room_type_id].sur_charge[v(t.adults,t.children,t.infants)].infant_price]])])])):A("",!0)],64))),64))],64))),128))])])])])],32)):(l(),a(_,{key:0},[e("div",Ee,[e("div",Re,[s[27]||(s[27]=e("h4",{class:"text-lg font-bold text-gray-700 mb-2"},"Base Charge",-1)),e("div",Fe,[w.value?A("",!0):(l(),a("button",{key:0,onClick:s[3]||(s[3]=r=>ae("edit")),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm"}," Edit All Prices "))])]),e("table",qe,[e("tbody",Me,[(l(!0),a(_,null,g(f.value,r=>(l(),a(_,{key:r.id},[s[28]||(s[28]=e("tr",{class:"bg-gray-100"},[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adult Price"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Child Price"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infant Price")],-1)),(l(),a(_,null,g(m,t=>(l(),a(_,{key:`${r.id}-${t.adults}-${t.children}-${t.infants}`},[K(t.adults,t.children,t.infants)?(l(),a("tr",Oe,[e("td",je,i(r.room_type.name),1),e("td",De,i(t.adults),1),e("td",Ne,i(t.children),1),e("td",Ke,i(t.infants),1),e("td",Le,i(U(r,t.adults,t.children,"base_charge","adult",t.infants)),1),e("td",Ye,[t.children===0?(l(),a("span",We," - ")):(l(),a("span",ze,i(U(r,t.adults,t.children,"base_charge","child",t.infants)),1))]),e("td",Ge,[t.infants===0?(l(),a("span",He," - ")):(l(),a("span",Je,i(U(r,t.adults,t.children,"base_charge","infant",t.infants)),1))])])):A("",!0)],64))),64))],64))),128))])])]),e("div",Qe,[s[30]||(s[30]=e("h4",{class:"text-lg font-bold text-gray-700 mb-2"},"Surcharge",-1)),e("table",Xe,[e("tbody",Ze,[(l(!0),a(_,null,g(f.value,r=>(l(),a(_,{key:r.id},[s[29]||(s[29]=e("tr",{class:"bg-gray-100"},[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adult Price"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Child Price"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infant Price")],-1)),(l(),a(_,null,g(m,t=>(l(),a(_,{key:`${r.id}-${t.adults}-${t.children}-${t.infants}`},[K(t.adults,t.children,t.infants)?(l(),a("tr",et,[e("td",tt,i(r.room_type.name),1),e("td",st,i(t.adults),1),e("td",rt,i(t.children),1),e("td",at,i(t.infants),1),e("td",lt,i(U(r,t.adults,t.children,"sur_charge","adult",t.infants)),1),e("td",dt,[t.children===0?(l(),a("span",nt," - ")):(l(),a("span",it,i(U(r,t.adults,t.children,"sur_charge","child",t.infants)),1))]),e("td",ot,[t.infants===0?(l(),a("span",ut," - ")):(l(),a("span",ct,i(U(r,t.adults,t.children,"sur_charge","infant",t.infants)),1))])])):A("",!0)],64))),64))],64))),128))])])])],64))])):(l(),a("div",Be,[s[26]||(s[26]=ye(" No price configurations found for the selected filters. ")),e("button",{onClick:ie,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm block text-center mt-4 mx-auto"}," Create Configuration ")]))])):A("",!0),Z(he,{show:F.value,onClose:s[19]||(s[19]=r=>F.value=!1)},{default:xe(()=>[e("div",Qt,[s[44]||(s[44]=e("h3",{class:"text-md font-medium text-gray-900"},"Update Price Config by Pax",-1)),e("div",Xt,[e("div",Zt,[e("div",null,[s[35]||(s[35]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"adult"},"Adult",-1)),p(e("select",{"onUpdate:modelValue":s[10]||(s[10]=r=>u.adult=r),onChange:I,class:"w-full rounded-lg border-gray-300 px-3 py-2"},[(l(!0),a(_,null,g(re.value,r=>(l(),a("option",{key:r,value:r},i(r),9,es))),128))],544),[[B,u.adult]])]),e("div",null,[s[36]||(s[36]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"child"},"Child",-1)),p(e("select",{"onUpdate:modelValue":s[11]||(s[11]=r=>u.child=r),onChange:I,class:"w-full rounded-lg border-gray-300 px-3 py-2"},[(l(!0),a(_,null,g(D.value,r=>(l(),a("option",{key:r,value:r},i(r),9,ts))),128))],544),[[B,u.child]])]),e("div",null,[s[37]||(s[37]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"infant"},"Infant",-1)),p(e("select",{"onUpdate:modelValue":s[12]||(s[12]=r=>u.infant=r),onChange:I,class:"w-full rounded-lg border-gray-300 px-3 py-2"},[(l(!0),a(_,null,g(N.value,r=>(l(),a("option",{key:r,value:r},i(r),9,ss))),128))],544),[[B,u.infant]])])]),e("div",rs,[e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"adult_amount"},"Adult Base Charge (RM)",-1)),p(e("input",{"onUpdate:modelValue":s[13]||(s[13]=r=>u.adult_base_charge=r),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 120"},null,512),[[y,u.adult_base_charge,void 0,{number:!0}]])]),e("div",null,[s[39]||(s[39]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"child_amount"},"Child Base Charge (RM)",-1)),p(e("input",{"onUpdate:modelValue":s[14]||(s[14]=r=>u.child_base_charge=r),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 90"},null,512),[[y,u.child_base_charge,void 0,{number:!0}]])]),e("div",null,[s[40]||(s[40]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"infant_amount"},"Infant Base Charge (RM)",-1)),p(e("input",{"onUpdate:modelValue":s[15]||(s[15]=r=>u.infant_base_charge=r),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 50"},null,512),[[y,u.infant_base_charge,void 0,{number:!0}]])])]),e("div",as,[e("div",null,[s[41]||(s[41]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"adult_surcharge"},"Adult Surcharge (RM)",-1)),p(e("input",{"onUpdate:modelValue":s[16]||(s[16]=r=>u.adult_surcharge=r),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 120"},null,512),[[y,u.adult_surcharge,void 0,{number:!0}]])]),e("div",null,[s[42]||(s[42]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"child_surcharge"},"Child Surcharge (RM)",-1)),p(e("input",{"onUpdate:modelValue":s[17]||(s[17]=r=>u.child_surcharge=r),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 90"},null,512),[[y,u.child_surcharge,void 0,{number:!0}]])]),e("div",null,[s[43]||(s[43]=e("label",{class:"block text-sm text-gray-600 mb-1",for:"infant_surcharge"},"Infant Surcharge (RM)",-1)),p(e("input",{"onUpdate:modelValue":s[18]||(s[18]=r=>u.infant_surcharge=r),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 50"},null,512),[[y,u.infant_surcharge,void 0,{number:!0}]])])])]),e("div",{class:"flex justify-end space-x-2"},[e("button",{onClick:J,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),e("button",{onClick:oe,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"}," Update ")])])]),_:1},8,["show"])]))}},_s=me(ls,[["__scopeId","data-v-519230b3"]]);export{_s as default};

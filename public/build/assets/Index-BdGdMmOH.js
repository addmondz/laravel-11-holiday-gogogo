import{l as p,g as u,o as m,a as c,u as g,m as P,w as f,b as t,n as l,t as o,j as v,k,f as x,p as T,F as _,q as A,h as j,P as C,W as h}from"./app-5oAXRKBu.js";import{A as V}from"./AuthenticatedLayout-Dkq1736u.js";import{P as N}from"./Pagination-ZlnCDL9r.js";import{h as S}from"./moment-C5S46NFB.js";import"./ApplicationLogo-C8Dmqqmy.js";import"./LoadingComponent-B1tA3vng.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-BwUsqVnz.js";const Y={class:"pb-12 pt-6"},R={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},$={class:"p-6 text-gray-900"},z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-6"},I={class:"p-4"},L={class:"flex items-center"},O={class:"ml-4"},q={class:"text-lg font-semibold text-gray-900"},E={class:"p-4"},W={class:"flex items-center"},H={class:"ml-4"},G={class:"text-lg font-semibold text-gray-900"},J={class:"p-4"},K={class:"flex items-center"},Q={class:"ml-4"},X={class:"text-lg font-semibold text-gray-900"},Z={class:"p-4"},tt={class:"flex items-center"},et={class:"ml-4"},st={class:"text-lg font-semibold text-gray-900"},ot={class:"p-4"},rt={class:"flex items-center"},it={class:"ml-4"},dt={class:"text-lg font-semibold text-gray-900"},lt={class:"p-4"},at={class:"flex items-center"},nt={class:"ml-4"},ut={class:"text-lg font-semibold text-gray-900"},mt={class:"mb-6"},ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 bg-white rounded-lg shadow-sm p-6"},gt={class:"md:col-span-1 lg:col-span-2 space-y-2"},xt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},pt={class:"overflow-x-auto"},ft={class:"min-w-full divide-y divide-gray-200"},vt={class:"bg-white divide-y divide-gray-200"},ht={key:0},yt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"text-sm font-medium text-gray-900"},wt={class:"text-sm text-gray-500"},kt={class:"text-sm text-gray-500"},_t={class:"px-6 py-4 whitespace-nowrap"},jt={class:"text-sm text-gray-900"},Ct={class:"text-sm text-gray-500"},St={key:0},Mt={key:1},Dt={class:"px-6 py-4 whitespace-nowrap"},Ft={class:"text-sm text-gray-900"},Bt={class:"px-6 py-4 whitespace-nowrap"},Pt={class:"text-sm text-gray-900"},Tt={class:"text-sm text-gray-500"},At={class:"px-6 py-4 whitespace-nowrap"},Vt={class:"text-sm font-medium text-gray-900"},Nt={class:"px-6 py-4 whitespace-nowrap"},Yt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Rt={class:"flex items-center space-x-3"},Ut=["href"],$t={class:"mt-6"},Gt={__name:"Index",props:{bookings:Object,filters:Object,summary:Object},setup(r){const a=r,i=p({search:a.filters.search||"",status:a.filters.status||"all",dateFrom:a.filters.dateFrom||"",dateTo:a.filters.dateTo||""}),y=p(a.filters.search||""),b=p(a.filters.dateFrom||""),w=p(a.filters.dateTo||""),M=()=>{h.get(route("bookings.index"),{},{preserveState:!1,preserveScroll:!1})},D=()=>{h.get(route("bookings.index"),{search:y.value,status:i.value.status,dateFrom:b.value,dateTo:w.value},{preserveState:!0,preserveScroll:!0})},F=d=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(d),B=d=>{switch(d){case 0:return"Pending Approval";case 1:return"Approved";case 2:return"Rejected";case 3:return"Payment Completed";case 4:return"Refunded";default:return"Unknown"}},n=d=>{d==="all"?(i.value.status="all",h.get(route("bookings.index"),{search:i.value.search},{preserveState:!0,preserveScroll:!0})):(i.value.status=d,h.get(route("bookings.index"),{search:i.value.search,status:d},{preserveState:!0,preserveScroll:!0}))};return(d,e)=>(m(),u(_,null,[c(g(P),{title:"Bookings"}),c(V,null,{header:f(()=>e[10]||(e[10]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:f(()=>[t("div",Y,[t("div",R,[t("div",U,[t("div",$,[e[33]||(e[33]=t("div",{class:"flex justify-between items-center mb-6"},[t("h3",{class:"text-lg font-medium"},"All Bookings")],-1)),t("div",z,[t("div",{class:l(["bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors duration-200",{"border-indigo-500":i.value.status==="all"}]),onClick:e[0]||(e[0]=s=>n("all"))},[t("div",I,[t("div",L,[e[12]||(e[12]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])])],-1)),t("div",O,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Transactions",-1)),t("p",q,o(r.summary.total??0),1)])])])],2),t("div",{class:l(["bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors duration-200",{"border-indigo-500":i.value.status==="0"}]),onClick:e[1]||(e[1]=s=>n("0"))},[t("div",E,[t("div",W,[e[14]||(e[14]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",H,[e[13]||(e[13]=t("p",{class:"text-sm font-medium text-gray-500"},"Pending Approval",-1)),t("p",G,o(r.summary.pending??0),1)])])])],2),t("div",{class:l(["bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors duration-200",{"border-indigo-500":i.value.status==="1"}]),onClick:e[2]||(e[2]=s=>n("1"))},[t("div",J,[t("div",K,[e[16]||(e[16]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",Q,[e[15]||(e[15]=t("p",{class:"text-sm font-medium text-gray-500"},"Approved",-1)),t("p",X,o(r.summary.approved??0),1)])])])],2),t("div",{class:l(["bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors duration-200",{"border-indigo-500":i.value.status==="2"}]),onClick:e[3]||(e[3]=s=>n("2"))},[t("div",Z,[t("div",tt,[e[18]||(e[18]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])],-1)),t("div",et,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-gray-500"},"Rejected",-1)),t("p",st,o(r.summary.rejected??0),1)])])])],2),t("div",{class:l(["bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors duration-200",{"border-indigo-500":i.value.status==="3"}]),onClick:e[4]||(e[4]=s=>n("3"))},[t("div",ot,[t("div",rt,[e[20]||(e[20]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])],-1)),t("div",it,[e[19]||(e[19]=t("p",{class:"text-sm font-medium text-gray-500"},"Payment Completed",-1)),t("p",dt,o(r.summary.payment_completed??0),1)])])])],2),t("div",{class:l(["bg-white overflow-hidden shadow-sm sm:rounded-lg border border-gray-200 cursor-pointer hover:border-indigo-300 transition-colors duration-200",{"border-indigo-500":i.value.status==="4"}]),onClick:e[5]||(e[5]=s=>n("4"))},[t("div",lt,[t("div",at,[e[22]||(e[22]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})])])],-1)),t("div",nt,[e[21]||(e[21]=t("p",{class:"text-sm font-medium text-gray-500"},"Refunded",-1)),t("p",ut,o(r.summary.refunded??0),1)])])])],2)]),t("div",mt,[t("div",ct,[t("div",gt,[t("div",xt,[t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Travel Date From",-1)),v(t("input",{type:"date","onUpdate:modelValue":e[6]||(e[6]=s=>b.value=s),class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[k,b.value]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Travel Date To",-1)),v(t("input",{type:"date","onUpdate:modelValue":e[7]||(e[7]=s=>w.value=s),class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[k,w.value]])])]),e[25]||(e[25]=t("p",{class:"text-sm text-gray-600"},[x(" ðŸ’¡ "),t("strong",{class:"font-semibold text-gray-800"},"Date Filter:"),x(" Find bookings for specific travel dates. Leave empty to see all bookings. ")],-1))]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search Bookings",-1)),v(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=s=>y.value=s),placeholder:"Search by name, email, phone, ID...",class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[k,y.value]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),v(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>i.value.status=s),class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},e[27]||(e[27]=[t("option",{value:"all"},"All Status",-1),t("option",{value:"0"},"Pending Approval",-1),t("option",{value:"1"},"Approved",-1),t("option",{value:"2"},"Rejected",-1),t("option",{value:"3"},"Payment Completed",-1),t("option",{value:"4"},"Refunded",-1)]),512),[[T,i.value.status]])])]),t("div",{class:"mt-4 flex justify-start items-center gap-2"},[t("button",{onClick:D,class:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Search "),t("button",{onClick:M,class:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Clear Filters ")])]),t("div",pt,[t("table",ft,[e[32]||(e[32]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Booking Name "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Booking ID "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Package "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Dates "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Price "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",vt,[r.bookings.data.length===0?(m(),u("tr",ht,e[29]||(e[29]=[t("td",{colspan:"8",class:"px-6 py-4 text-center text-gray-500"}," No bookings found ",-1)]))):(m(!0),u(_,{key:1},A(r.bookings.data,s=>(m(),u("tr",{key:s.id},[t("td",yt,[t("div",bt,o(s.booking_name),1),t("div",wt,o(s.phone_number),1),t("div",kt,o(s.booking_email),1)]),t("td",_t,[t("div",jt,o(s.uuid),1),t("div",Ct,[x(o(s.adults)+" Adult"+o(s.adults>1?"s":"")+" ",1),s.children>0?(m(),u("span",St," , "+o(s.children)+" Child"+o(s.children>1?"ren":""),1)):j("",!0),s.infants>0?(m(),u("span",Mt," , "+o(s.infants)+" Infant"+o(s.infants>1?"s":""),1)):j("",!0)])]),t("td",Dt,[t("div",Ft,o(s.package.name),1)]),t("td",Bt,[t("div",Pt,o(g(S)(s.start_date).format("DD MMM YYYY"))+" - "+o(g(S)(s.end_date).format("DD MMM YYYY")),1),t("div",Tt,o(Math.ceil((new Date(s.end_date)-new Date(s.start_date))/(1e3*60*60*24)))+" nights ",1)]),t("td",At,[t("div",Vt," MYR "+o(F(s.total_price)),1)]),t("td",Nt,[t("span",{class:l(["px-4 py-1 text-xs font-semibold rounded-full block min-w-[50px] text-center",s.status==0?"bg-yellow-100 text-yellow-800":s.status==1?"bg-green-100 text-green-800":s.status==2?"bg-red-100 text-red-800":s.status==3?"bg-blue-100 text-blue-800":s.status==4?"bg-slate-400 text-white":"bg-red-100 text-red-800"])},o(B(s.status)),3)]),t("td",Yt,[t("div",Rt,[c(g(C),{href:d.route("bookings.show",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:f(()=>e[30]||(e[30]=[x(" View ")])),_:2},1032,["href"]),c(g(C),{href:d.route("bookings.edit",s.id),class:"text-blue-600 hover:text-blue-900 ml-4"},{default:f(()=>e[31]||(e[31]=[x(" Edit ")])),_:2},1032,["href"]),t("a",{href:d.route("quotation.with-hash",s.package.uuid)+"?booking="+s.uuid,class:l(["ml-4",s.status==1?"text-green-600 hover:text-green-900":"text-blue-600 hover:text-blue-900"])},o(s.status==1?"Pay Now":"View Booking"),11,Ut)])])]))),128))])])]),t("div",$t,[c(N,{links:r.bookings.links,from:r.bookings.from,to:r.bookings.to,total:r.bookings.total},null,8,["links","from","to","total"])])])])])])]),_:1})],64))}};export{Gt as default};

import{C as S,q as V,g as i,o as r,a as x,u as d,m as A,w as _,b as e,e as U,j as u,F as a,p,t as c,x as f,k as T,P as C,f as j}from"./app-6zSXdnE8.js";import{A as q}from"./AuthenticatedLayout-Cpnu4RPg.js";import"./ApplicationLogo-DmYm3JrN.js";import"./AntdIcon-BPw6ghPo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"pb-12 pt-6"},M={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6 text-gray-900"},O={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},N=["value"],F=["value"],L=["value"],R=["value"],I={class:"mb-8"},z={class:"space-y-8"},G={class:"overflow-x-auto"},H={class:"min-w-full divide-y divide-gray-200"},J={class:"bg-gray-50"},K={class:"bg-white divide-y divide-gray-200"},Q={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},W=["onUpdate:modelValue"],X=["onUpdate:modelValue"],Y={class:"mt-6 flex justify-end space-x-3"},Z=["disabled"],de={__name:"Edit",props:{packages:Array,seasons:Array,dateTypes:Array,roomTypes:Array,configuration:Object,prices:Object,prefilled:Object},setup(m){var v,k,w,h;const n=m,s=S({package_id:((v=n.prefilled)==null?void 0:v.package_id)||"",season_id:((k=n.prefilled)==null?void 0:k.season_id)||"",date_type_id:((w=n.prefilled)==null?void 0:w.date_type_id)||"",room_type:((h=n.prefilled)==null?void 0:h.room_type)||"",type:"",prices:Array(16).fill().map((y,t)=>({number_of_adults:Math.floor(t/4)+1,number_of_children:t%4,adult_price:"",child_price:""}))});V(()=>{n.prices&&Object.entries(n.prices).forEach(([y,t])=>{t.forEach(o=>{const l=g(o.number_of_adults,o.number_of_children);s.prices[l].adult_price=o.adult_price,s.prices[l].child_price=o.child_price})})});const g=(y,t)=>(y-1)*4+t,P=()=>{s.put(route("configuration-prices.update",n.configuration.id),{onSuccess:()=>{window.location.href=route("packages.show",s.package_id)}})};return(y,t)=>(r(),i(a,null,[x(d(A),{title:"Edit Configuration Prices"}),x(q,null,{header:_(()=>t[5]||(t[5]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Configuration Prices ",-1)])),default:_(()=>[e("div",E,[e("div",M,[e("div",B,[e("div",D,[e("form",{onSubmit:U(P,["prevent"])},[e("div",O,[e("div",null,[t[7]||(t[7]=e("label",{for:"package",class:"block text-sm font-medium text-gray-700"},"Package",-1)),u(e("select",{id:"package","onUpdate:modelValue":t[0]||(t[0]=o=>d(s).package_id=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},[t[6]||(t[6]=e("option",{value:""},"Select Package",-1)),(r(!0),i(a,null,p(m.packages,o=>(r(),i("option",{key:o.id,value:o.id},c(o.name),9,N))),128))],512),[[f,d(s).package_id]])]),e("div",null,[t[9]||(t[9]=e("label",{for:"season",class:"block text-sm font-medium text-gray-700"},"Season",-1)),u(e("select",{id:"season","onUpdate:modelValue":t[1]||(t[1]=o=>d(s).season_id=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},[t[8]||(t[8]=e("option",{value:""},"Select Season",-1)),(r(!0),i(a,null,p(m.seasons,o=>(r(),i("option",{key:o.id,value:o.id},c(o.type.name),9,F))),128))],512),[[f,d(s).season_id]])]),e("div",null,[t[11]||(t[11]=e("label",{for:"dateType",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),u(e("select",{id:"dateType","onUpdate:modelValue":t[2]||(t[2]=o=>d(s).date_type_id=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},[t[10]||(t[10]=e("option",{value:""},"Select Date Type",-1)),(r(!0),i(a,null,p(m.dateTypes,o=>(r(),i("option",{key:o.id,value:o.id},c(o.name),9,L))),128))],512),[[f,d(s).date_type_id]])]),e("div",null,[t[13]||(t[13]=e("label",{for:"roomType",class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),u(e("select",{id:"roomType","onUpdate:modelValue":t[3]||(t[3]=o=>d(s).room_type=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},[t[12]||(t[12]=e("option",{value:""},"Select Room Type",-1)),(r(!0),i(a,null,p(m.roomTypes,o=>(r(),i("option",{key:o,value:o},c(o),9,R))),128))],512),[[f,d(s).room_type]])])]),e("div",I,[t[15]||(t[15]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700"},"Price Type",-1)),u(e("select",{id:"type","onUpdate:modelValue":t[4]||(t[4]=o=>d(s).type=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},t[14]||(t[14]=[e("option",{value:""},"Select Price Type",-1),e("option",{value:"base_charge"},"Base Charge",-1),e("option",{value:"sur_charge"},"Surcharge",-1)]),512),[[f,d(s).type]])]),e("div",z,[e("div",G,[e("table",H,[e("thead",J,[e("tr",null,[t[16]||(t[16]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(r(),i(a,null,p(4,o=>e("th",{key:o-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},c(o-1)+" Children ",1)),64))])]),e("tbody",K,[(r(),i(a,null,p(4,o=>e("tr",{key:o},[e("td",Q,c(o)+" Adults ",1),(r(),i(a,null,p(4,l=>e("td",{key:l-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},[u(e("input",{type:"number","onUpdate:modelValue":b=>d(s).prices[g(o,l-1)].adult_price=b,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Adult Price"},null,8,W),[[T,d(s).prices[g(o,l-1)].adult_price]]),u(e("input",{type:"number","onUpdate:modelValue":b=>d(s).prices[g(o,l-1)].child_price=b,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Child Price"},null,8,X),[[T,d(s).prices[g(o,l-1)].child_price]])])),64))])),64))])])])]),e("div",Y,[x(d(C),{href:y.route("packages.show",d(s).package_id),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"},{default:_(()=>t[17]||(t[17]=[j(" Cancel ")])),_:1},8,["href"]),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:d(s).processing}," Update Prices ",8,Z)])],32)])])])])]),_:1})],64))}};export{de as default};

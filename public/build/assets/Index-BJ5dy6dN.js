import{l as x,L as v,E as y,g as r,o as i,a as u,u as w,m as S,w as c,b as t,e as h,h as d,n as m,t as f,j as _,k as C,f as k,F as T}from"./app-DszDN3Wf.js";import{A as E}from"./AuthenticatedLayout-BNxuPyLp.js";import{S as p}from"./sweetalert2.esm.all-B0Dix5B2.js";import"./moment-C5S46NFB.js";import"./ApplicationLogo-DGwIPKYT.js";import"./LoadingComponent-B_uVTLea.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-D1M0HTdX.js";const j={class:"pb-12 pt-6"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},N={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},V={class:"p-6"},B={class:"mb-6"},A={class:"flex items-center justify-between"},M={class:"flex items-center"},O={class:"ml-3 text-sm font-medium text-gray-900"},z={key:0,class:"mb-6"},D={class:"mt-1 relative rounded-md shadow-sm"},L={class:"flex justify-end"},P=["disabled"],q={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},G={__name:"Index",props:{sstConfiguration:{type:Object,default:()=>({status:0,sst_percent:6})}},setup(g){const n=g,o=x(!1),s=v({status:n.sstConfiguration.status===1,sst_percent:n.sstConfiguration.sst_percent||6}),b=async()=>{o.value=!0;try{const e=await(await fetch("/settings/sst-configuration",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({status:s.status?1:0,sst_percent:parseFloat(s.sst_percent)})})).json();if(e.success)p.fire({icon:"success",title:"Success!",text:e.message,timer:2e3,showConfirmButton:!1});else throw new Error(e.message)}catch(a){p.fire({icon:"error",title:"Error!",text:a.message||"Failed to update SST configuration"})}finally{o.value=!1}};return y(()=>{s.status=n.sstConfiguration.status===1,s.sst_percent=n.sstConfiguration.sst_percent||6}),(a,e)=>(i(),r(T,null,[u(w(S),{title:"Settings"}),u(E,null,{header:c(()=>e[2]||(e[2]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Settings ",-1)])),default:c(()=>[t("div",j,[t("div",F,[t("div",N,[e[8]||(e[8]=t("div",{class:"p-6 border-b border-gray-200"},[t("h3",{class:"text-lg font-medium text-gray-900"}," SST (Sales and Service Tax) Configuration "),t("p",{class:"mt-1 text-sm text-gray-600"}," Configure Sales and Service Tax settings for your application. ")],-1)),t("div",V,[t("form",{onSubmit:h(b,["prevent"])},[t("div",B,[t("div",A,[e[3]||(e[3]=t("div",null,[t("label",{class:"text-sm font-medium text-gray-700"}," Enable SST "),t("p",{class:"text-sm text-gray-500"}," Enable or disable Sales and Service Tax calculation ")],-1)),t("div",M,[t("button",{type:"button",onClick:e[0]||(e[0]=l=>s.status=!s.status),class:m([s.status?"bg-blue-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"])},[t("span",{class:m([s.status?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition-transform"])},null,2)],2),t("span",O,f(s.status?"Enabled":"Disabled"),1)])])]),s.status?(i(),r("div",z,[e[5]||(e[5]=t("label",{for:"sst_percent",class:"block text-sm font-medium text-gray-700"}," SST Percentage (%) ",-1)),t("div",D,[_(t("input",{type:"number",id:"sst_percent","onUpdate:modelValue":e[1]||(e[1]=l=>s.sst_percent=l),step:"0.01",min:"0",max:"100",class:"block w-full pr-12 border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"6.00"},null,512),[[C,s.sst_percent]]),e[4]||(e[4]=t("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 sm:text-sm"},"%")],-1))]),e[6]||(e[6]=t("p",{class:"mt-1 text-sm text-gray-500"}," Enter the SST percentage rate (e.g., 6.00 for 6%) ",-1))])):d("",!0),t("div",L,[t("button",{type:"submit",disabled:o.value,class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},[o.value?(i(),r("svg",q,e[7]||(e[7]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),k(" "+f(o.value?"Saving...":"Save Configuration"),1)],8,P)])],32)])])])])]),_:1})],64))}};export{G as default};

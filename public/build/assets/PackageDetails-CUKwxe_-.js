import{g as i,o,b as t,h as g,a as C,w as D,f as y,u as d,P as S,t as n,n as u,F as Y,y as M}from"./app-ChtDtwsB.js";import{h as m}from"./moment-C5S46NFB.js";import{S as c}from"./sweetalert2.esm.all-B0Dix5B2.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"space-y-6"},E={class:"grid grid-cols-1 gap-6"},T={class:"flex justify-between items-center"},L={class:"grid grid-cols-2 gap-6"},P={class:"mt-1 text-sm text-gray-900"},$={class:"mt-1 text-sm text-gray-900"},j={class:"mt-1 text-sm text-gray-900"},F={class:"mt-1"},H={class:"text-sm text-gray-900"},A={class:"mt-1 text-sm text-gray-900"},q={class:"mt-1 text-sm text-gray-900"},I={key:0},W={key:1,class:"text-gray-400"},_={class:"mt-1 text-sm text-gray-900"},G={class:"mt-1 text-sm text-gray-900"},U={class:"mt-1 text-sm text-gray-900"},V={class:"font-bold ml-1"},O={class:"mt-1 text-sm text-gray-900"},z={key:0,class:"mt-1 text-xs text-gray-500"},K=["innerHTML"],R={key:0},J=["innerHTML"],Q={key:1},X={class:"mt-1 text-sm text-gray-900"},Z=["href"],tt={class:"grid grid-cols-2 gap-6"},et={class:"mt-1 text-sm text-gray-900"},st={class:"mt-1 text-sm text-gray-900"},at={class:"mt-1 text-sm text-gray-900"},nt={class:"mt-1 flex items-center space-x-2"},it=["href"],ot={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},rt={class:"space-y-1"},lt={key:0,class:"grid grid-cols-2 gap-4 mb-4"},dt=["src"],mt={class:"absolute inset-0 flex items-center justify-center bg-black/0 sm:group-hover:bg-black/20 transition-all duration-300 rounded-lg pointer-events-none"},gt=["onClick"],ut={key:1,class:"text-gray-400 text-sm text-center"},ct={__name:"PackageDetails",props:{package:{type:Object,required:!0},isGlobalSstEnable:{type:Boolean,required:!0},globalSstPercent:{type:Number,required:!0}},setup(s){const x=a=>{if(!a)return"";const e=/(https?:\/\/[^\s]+)/g;return a.replace(e,'<a href="$1" target="_blank" class="text-blue-600 underline">$1</a>')},k=a=>{if(!a)return"";const e=a.split(/\r?\n/).filter(l=>l.trim().length>0);return e.length===0?"":e.length===1?`<p>${x(e[0])}</p>`:`<ul class="list-disc list-inside space-y-1">${e.map(l=>`<li class="mb-1">${x(l.trim())}</li>`).join("")}</ul>`},p=a=>a?parseFloat(a).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00",h=a=>{if(!a||a.length===0)return"Not configured";const e={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};return a.map(r=>e[r]).join(", ")},f=a=>a.startsWith("images/")?`/${a}`:a.startsWith("packages/")?`/images/${a}`:`/images/${a}`,b=a=>{c.fire({imageUrl:f(a),imageAlt:"Package image",showConfirmButton:!1,showCloseButton:!0,customClass:{container:"image-modal",popup:"max-w-4xl",closeButton:"text-gray-500 hover:text-gray-700",image:"max-h-[80vh] object-contain"},background:"#f8f9fa",padding:"1rem",width:"auto",backdrop:"rgba(0,0,0,0.8)"})},v=a=>{navigator.clipboard.writeText(a).then(()=>{c.fire({icon:"success",title:"Copied!",text:"Link has been copied to clipboard",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}).catch(()=>{c.fire({icon:"error",title:"Error",text:"Failed to copy link",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})})};return(a,e)=>(o(),i("div",B,[t("div",E,[t("div",T,[e[2]||(e[2]=t("h3",{class:"text-md font-medium text-gray-900"},"Package Details",-1)),C(d(S),{href:a.route("packages.edit",s.package.id),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"},{default:D(()=>e[1]||(e[1]=[y(" Edit Package ")])),_:1},8,["href"])]),e[23]||(e[23]=t("div",{class:"flex items-start"},null,-1)),t("div",L,[t("div",null,[e[3]||(e[3]=t("h4",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("p",P,n(s.package.name),1)]),t("div",null,[e[4]||(e[4]=t("h4",{class:"mt-4 text-sm font-medium text-gray-500"},"Location",-1)),t("p",$,n(s.package.location),1)]),t("div",null,[e[5]||(e[5]=t("h4",{class:"text-sm font-medium text-gray-500"},"Description",-1)),t("p",j,n(s.package.description),1)]),t("div",null,[e[6]||(e[6]=t("h4",{class:"text-sm font-medium text-gray-500"},"Display Prices",-1)),t("div",F,[t("p",H,"MYR "+n(p(s.package.display_price_adult)),1)])]),t("div",null,[e[7]||(e[7]=t("h4",{class:"text-sm font-medium text-gray-500"},"Duration",-1)),t("p",A,n(s.package.package_max_days+1)+" Days "+n(s.package.package_max_days)+" "+n(s.package.package_max_days>1?"Nights":"Night"),1)]),t("div",null,[e[8]||(e[8]=t("h4",{class:"text-sm font-medium text-gray-500"},"Weekend Days",-1)),t("p",q,[s.package.weekend_days&&s.package.weekend_days.length>0?(o(),i("span",I,n(h(s.package.weekend_days)),1)):(o(),i("span",W,"Not configured"))])]),t("div",null,[e[9]||(e[9]=t("h4",{class:"text-sm font-medium text-gray-500"},"Infant Age Description",-1)),t("p",_,n(s.package.infant_max_age_desc||"-"),1)]),t("div",null,[e[10]||(e[10]=t("h4",{class:"text-sm font-medium text-gray-500"},"Child Age Description",-1)),t("p",G,n(s.package.child_max_age_desc||"-"),1)]),t("div",null,[t("div",{class:u({"opacity-50":!s.isGlobalSstEnable})},[e[11]||(e[11]=t("h4",{class:"text-sm font-medium text-gray-500"}," SST Enable ",-1)),t("p",U,n(s.package.sst_enable?"Yes":"No"),1)],2),t("span",{class:u(s.isGlobalSstEnable?"mt-1 px-3 py-1 inline-flex items-center rounded-full bg-green-100 text-xs font-medium text-green-700":"mt-1 px-3 py-1 inline-flex items-center rounded-full bg-red-100 text-xs font-medium text-red-700")},[e[12]||(e[12]=y(" System SST Configuration: ")),t("span",V,n(s.isGlobalSstEnable?"Enabled":"Disabled")+" "+n(s.globalSstPercent)+"%",1)],2)]),t("div",null,[e[13]||(e[13]=t("h4",{class:"text-sm font-medium text-gray-500"},"No Children and Infant",-1)),t("p",O,[t("span",{class:u(s.package.no_children_and_infant?"px-3 py-1 inline-flex items-center rounded-full bg-blue-100 text-xs font-medium text-blue-700":"px-3 py-1 inline-flex items-center rounded-full bg-gray-100 text-xs font-medium text-gray-700")},n(s.package.no_children_and_infant?"Enabled":"Disabled"),3)]),s.package.no_children_and_infant?(o(),i("p",z," Children and infant input fields will be hidden on the quotation page. ")):g("",!0)])]),t("div",null,[e[14]||(e[14]=t("h4",{class:"text-sm font-medium text-gray-500"},"Terms and Conditions",-1)),t("div",{class:"mt-1 text-sm text-gray-900",innerHTML:k(s.package.terms_and_conditions)},null,8,K)]),s.package.extra_remark&&s.package.extra_remark!=="<p><br></p>"?(o(),i("div",R,[e[15]||(e[15]=t("h4",{class:"text-sm font-medium text-gray-500"},"Extra Remark",-1)),t("div",{class:"mt-1 text-sm text-gray-900 prose prose-sm max-w-none",innerHTML:s.package.extra_remark},null,8,J)])):g("",!0),s.package.wordpress_link?(o(),i("div",Q,[e[16]||(e[16]=t("h4",{class:"text-sm font-medium text-gray-500"},"WordPress Link",-1)),t("p",X,[t("a",{href:s.package.wordpress_link,target:"_blank",rel:"noopener noreferrer",class:"text-indigo-600 hover:text-indigo-900 underline break-all"},n(s.package.wordpress_link),9,Z)])])):g("",!0),t("div",tt,[t("div",null,[e[17]||(e[17]=t("h4",{class:"text-sm font-medium text-gray-500"},"Package Date",-1)),t("p",et,n(d(m)(s.package.package_start_date).format("DD/MM/YYYY"))+" - "+n(d(m)(s.package.package_end_date).format("DD/MM/YYYY")),1)])]),t("div",null,[e[18]||(e[18]=t("h4",{class:"text-sm font-medium text-gray-500"},"Created At",-1)),t("p",st,n(d(m)(s.package.created_at).format("DD-MM-YYYY HH:mm:ss A")),1)]),t("div",null,[e[19]||(e[19]=t("h4",{class:"text-sm font-medium text-gray-500"},"Updated At",-1)),t("p",at,n(d(m)(s.package.updated_at).format("DD-MM-YYYY HH:mm:ss A")),1)]),t("div",null,[e[20]||(e[20]=t("h4",{class:"text-sm font-medium text-gray-500"},"Link",-1)),t("div",nt,[t("a",{href:a.route("quotation.with-hash",s.package.uuid),target:"_blank",class:"text-sm text-indigo-600 hover:text-indigo-900 break-all"},n(a.route("quotation.with-hash",s.package.uuid)),9,it),t("button",{onClick:e[0]||(e[0]=r=>v(a.route("quotation.with-hash",s.package.uuid))),class:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Copy ")])]),t("div",null,[e[22]||(e[22]=t("h4",{class:"text-sm font-medium text-gray-500"},"Images",-1)),t("div",ot,[t("div",rt,[s.package.images&&s.package.images.length>0?(o(),i("div",lt,[(o(!0),i(Y,null,M(s.package.images,(r,l)=>(o(),i("div",{key:l,class:"relative group"},[t("img",{src:f(r),class:"h-16 w-16 object-cover rounded-lg",alt:"Package image"},null,8,dt),t("div",mt,[t("button",{class:"opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-300 bg-white/90 rounded-full p-1.5 shadow-lg cursor-pointer pointer-events-auto",onClick:w=>b(r),"aria-label":"Enlarge image"},e[21]||(e[21]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})],-1)]),8,gt)])]))),128))])):(o(),i("div",ut,"No images"))])])])])]))}},pt=N(ct,[["__scopeId","data-v-165a6803"]]);export{pt as default};

import{l as w,W as v,g as d,o as n,a as l,u as o,m as b,w as c,b as t,j as k,k as D,F as u,p as M,t as a,f as p,h,n as f,P as y}from"./app-YxzhO0Fv.js";import{A as N}from"./AuthenticatedLayout-COdvxKij.js";import{P}from"./Pagination-gUNQXhSy.js";import{d as Y}from"./debounce-YJpeAm7G.js";import{h as _}from"./moment-C5S46NFB.js";import"./ApplicationLogo-CKvhxXjR.js";import"./LoadingComponent-C-JkuS07.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-CYLjT872.js";const B={class:"pb-12 pt-6"},S={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},V={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 text-gray-900"},j={class:"mb-6"},C={class:"flex justify-between items-center"},F={class:"flex-1"},I={class:"overflow-x-auto"},U={class:"min-w-full divide-y divide-gray-200"},T={class:"bg-white divide-y divide-gray-200"},E={key:0},L={class:"px-6 py-4 whitespace-nowrap"},O={class:"text-sm font-medium text-gray-900"},W={class:"text-sm text-gray-500"},q={class:"px-6 py-4 whitespace-nowrap"},z={class:"text-sm text-gray-900"},G={class:"px-6 py-4 whitespace-nowrap"},R={class:"text-sm text-gray-900"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-gray-900"},K={class:"text-sm text-gray-500"},Q={class:"px-6 py-4 whitespace-nowrap"},X={class:"text-sm text-gray-900"},Z={key:0},$={key:1},tt={class:"px-6 py-4 whitespace-nowrap"},et={class:"text-sm font-medium text-gray-900"},st={class:"px-6 py-4 whitespace-nowrap"},at={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},it={class:"flex items-center space-x-3"},rt=["href"],ot={class:"mt-6"},yt={__name:"Index",props:{bookings:Object,filters:Object},setup(i){const x=w(i.filters.search),m=Y(r=>{v.get(route("bookings.index"),{search:r.target.value},{preserveState:!0,preserveScroll:!0})},1e3),g=r=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r);return(r,s)=>(n(),d(u,null,[l(o(b),{title:"Bookings"}),l(N,null,{header:c(()=>s[2]||(s[2]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:c(()=>[t("div",B,[t("div",S,[t("div",V,[t("div",A,[s[7]||(s[7]=t("div",{class:"flex justify-between items-center mb-6"},[t("h3",{class:"text-lg font-medium"},"All Bookings")],-1)),t("div",j,[t("div",C,[t("div",F,[k(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>x.value=e),placeholder:"Search bookings...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onInput:s[1]||(s[1]=(...e)=>o(m)&&o(m)(...e))},null,544),[[D,x.value]])])])]),t("div",I,[t("table",U,[s[6]||(s[6]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Booking Name "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Booking ID "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Package "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Dates "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Guests "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total Price "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Payment Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",T,[i.bookings.data.length===0?(n(),d("tr",E,s[3]||(s[3]=[t("td",{colspan:"8",class:"px-6 py-4 text-center text-gray-500"}," No bookings found ",-1)]))):(n(!0),d(u,{key:1},M(i.bookings.data,e=>(n(),d("tr",{key:e.id},[t("td",L,[t("div",O,a(e.booking_name),1),t("div",W,a(e.phone_number),1)]),t("td",q,[t("div",z,a(e.uuid),1)]),t("td",G,[t("div",R,a(e.package.name),1)]),t("td",H,[t("div",J,a(o(_)(e.start_date).format("DD MMM YYYY"))+" - "+a(o(_)(e.end_date).format("DD MMM YYYY")),1),t("div",K,a(Math.ceil((new Date(e.end_date)-new Date(e.start_date))/(1e3*60*60*24)))+" nights ",1)]),t("td",Q,[t("div",X,[p(a(e.adults)+" Adult"+a(e.adults>1?"s":"")+" ",1),e.children>0?(n(),d("span",Z," , "+a(e.children)+" Child"+a(e.children>1?"ren":""),1)):h("",!0),e.infants>0?(n(),d("span",$," , "+a(e.infants)+" Infant"+a(e.infants>1?"s":""),1)):h("",!0)])]),t("td",tt,[t("div",et," MYR "+a(g(e.total_price)),1)]),t("td",st,[t("span",{class:f(["px-4 py-1 text-xs font-semibold rounded-full block min-w-[50px] text-center",e.payment_status==="paid"?"bg-green-100 text-green-800":e.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},a(e.payment_status?e.payment_status.charAt(0).toUpperCase()+e.payment_status.slice(1):"Unpaid"),3)]),t("td",at,[t("div",it,[l(o(y),{href:r.route("bookings.show",e.id),class:"text-indigo-600 hover:text-indigo-900"},{default:c(()=>s[4]||(s[4]=[p(" View ")])),_:2},1032,["href"]),l(o(y),{href:r.route("bookings.edit",e.id),class:"text-blue-600 hover:text-blue-900 ml-4"},{default:c(()=>s[5]||(s[5]=[p(" Edit ")])),_:2},1032,["href"]),t("a",{href:r.route("quotation.with-hash",e.package.uuid)+"?booking="+e.uuid,class:f(["ml-4",["ml-4",e.payment_status=="paid"?"text-blue-600 hover:text-blue-900":e.payment_status=="pending"?"text-green-600 hover:text-green-900":"text-red-600 hover:text-red-900"]])},a(e.payment_status==="paid"?"View Payment":"Pay Now"),11,rt)])])]))),128))])])]),t("div",ot,[l(P,{links:i.bookings.links,from:i.bookings.from,to:i.bookings.to,total:i.bookings.total},null,8,["links","from","to","total"])])])])])])]),_:1})],64))}};export{yt as default};

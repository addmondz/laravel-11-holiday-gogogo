import{a as V,q as $,l as v,i as Ot,A as Qt,L as F,C as Jt,s as At,g as d,o as r,b as t,c as Xt,f as R,u,w as Zt,T as te,F as E,p as O,t as s,h,n as k,e as It,j as B,k as P,B as Tt}from"./app-BlUee9Xp.js";import{L as ee}from"./LoadingComponent-rFYPDVlu.js";import{_ as se}from"./ApplicationLogo-b9eQz2fj.js";import{S as H}from"./sweetalert2.esm.all-DWO__QVt.js";import{h as y}from"./moment-C5S46NFB.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as oe}from"./AntdIcon-CMppiXba.js";var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M713.5 599.9c-10.9-5.6-65.2-32.2-75.3-35.8-10.1-3.8-17.5-5.6-24.8 5.6-7.4 11.1-28.4 35.8-35 43.3-6.4 7.4-12.9 8.3-23.8 2.8-64.8-32.4-107.3-57.8-150-131.1-11.3-19.5 11.3-18.1 32.4-60.2 3.6-7.4 1.8-13.7-1-19.3-2.8-5.6-24.8-59.8-34-81.9-8.9-21.5-18.1-18.5-24.8-18.9-6.4-.4-13.7-.4-21.1-.4-7.4 0-19.3 2.8-29.4 13.7-10.1 11.1-38.6 37.8-38.6 92s39.5 106.7 44.9 114.1c5.6 7.4 77.7 118.6 188.4 166.5 70 30.2 97.4 32.8 132.4 27.6 21.3-3.2 65.2-26.6 74.3-52.5 9.1-25.8 9.1-47.9 6.4-52.5-2.7-4.9-10.1-7.7-21-13z"}},{tag:"path",attrs:{d:"M925.2 338.4c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"whats-app",theme:"outlined"};function Ft(C){for(var b=1;b<arguments.length;b++){var i=arguments[b]!=null?Object(arguments[b]):{},_=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(_=_.concat(Object.getOwnPropertySymbols(i).filter(function(S){return Object.getOwnPropertyDescriptor(i,S).enumerable}))),_.forEach(function(S){ie(C,S,i[S])})}return C}function ie(C,b,i){return b in C?Object.defineProperty(C,b,{value:i,enumerable:!0,configurable:!0,writable:!0}):C[b]=i,C}var z=function(b,i){var _=Ft({},b,i.attrs);return V(oe,Ft({},_,{icon:le}),null)};z.displayName="WhatsAppOutlined";z.inheritAttrs=!1;const ne={class:"min-h-screen bg-gray-100"},re={class:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200",style:{height:"80px"}},de={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",style:{display:"flex","flex-direction":"column","justify-content":"center",height:"100%"}},ue={class:"flex justify-between h-16"},ce={class:"flex items-center"},me={class:"flex items-center"},ge={class:"flex justify-center items-center h-full min-h-screen"},pe={key:1,class:"min-h-screen flex items-center justify-center"},fe={key:2,class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",style:{"padding-top":"80px","padding-bottom":"50px"}},xe={class:"mb-8"},ve={class:"relative"},be={class:"overflow-hidden rounded-lg shadow-lg"},ye={class:"relative mt-10",style:{height:"500px"}},_e=["src","alt"],he={class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-20"},ke=["onClick","aria-label"],we={class:"bg-white rounded-lg shadow-lg p-6 mb-8"},De={class:"text-3xl font-bold text-gray-900 mb-4 flex items-center"},Me={class:"inline-flex items-center px-4 py-2 rounded-md text-sm font-semibold bg-gradient-to-r from-indigo-500 to-purple-600 text-white mr-2 mb-1 sm:mb-0"},Ye={class:"text-gray-600 mb-6"},Ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Se={class:"text-gray-600"},Be={class:"text-gray-600"},Pe={class:"text-gray-600"},je={class:"text-gray-600"},Re={class:"text-gray-600"},Ne={class:"mt-6"},Ee={class:"text-gray-600"},Oe={class:"bg-white rounded-lg shadow-lg p-6",id:"booking-form"},Ae={class:"mb-8"},Ie={class:"flex items-center justify-between"},Te={class:"flex items-center"},Fe={class:"flex items-center"},Ve={class:"flex items-center"},Ue={key:0},qe={class:"space-y-4"},$e={key:0,class:"text-center py-4"},He={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ze=["onClick"],Le={class:"flex items-start justify-between"},We={class:"text-lg font-semibold text-gray-900"},Ge={class:"text-sm text-gray-600 mt-1"},Ke={class:"mt-4 text-sm text-indigo-600"},Qe={key:2,class:"mt-1 text-sm text-red-600"},Je={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xe=["min","max"],Ze={key:0,class:"mt-1 text-sm text-red-600"},ts=["min"],es={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ss={key:0,class:"mt-1 text-sm text-red-600"},as={class:"flex justify-end"},os=["disabled"],ls={key:1},is={class:"bg-gray-50 rounded-lg p-4"},ns={key:0,class:"mb-6 border-b pb-4"},rs={class:"grid grid-cols-2 gap-4 mb-6"},ds={class:"font-medium"},us={class:"font-medium"},cs={class:"font-medium"},ms={class:"font-medium"},gs={key:1,class:"mb-6"},ps={class:"overflow-x-auto"},fs={class:"min-w-full divide-y divide-gray-200 border-solid rounded-md border"},xs={class:"bg-white divide-y divide-gray-200"},vs={class:"hover:bg-gray-50"},bs={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ys={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},_s={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},hs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ks={class:"px-6 py-4 whitespace-nowrap text-sm text-right"},ws={class:"text-gray-900"},Ds={class:"text-xs text-gray-500"},Ms={class:"px-6 py-4 whitespace-nowrap text-sm text-right"},Ys={class:"text-gray-900"},Cs={class:"text-xs text-gray-500"},Ss={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-right text-gray-900"},Bs={key:0,class:"bg-gray-50"},Ps={colspan:"8",class:"px-6 py-3"},js={class:"text-xs text-gray-500"},Rs={class:"font-medium"},Ns={class:"ml-2"},Es={key:0,class:"ml-2"},Os={key:2,class:"border-t border-gray-200 pt-4"},As={class:"space-y-2"},Is={class:"flex justify-between items-start"},Ts={class:"text-sm text-gray-600 ml-4"},Fs={class:"font-medium"},Vs={class:"flex justify-between items-start"},Us={class:"text-sm text-gray-600 ml-4"},qs={class:"font-medium"},$s={key:0,class:"flex justify-between items-start"},Hs={class:"text-sm text-gray-600 ml-4"},zs={class:"font-medium"},Ls={class:"flex justify-between items-center pt-2 border-t border-gray-200"},Ws={class:"text-lg font-semibold"},Gs={class:"flex justify-between mt-6"},Ks={key:2},Qs={key:0,class:"space-y-6"},Js={class:"flex justify-between"},Xs=["disabled"],Zs={key:1,class:"bg-white rounded-xl border overflow-hidden"},ta={key:0,class:"relative bg-gradient-to-r slower from-green-400 via-green-500 to-green-600 bg-[length:200%] bg-[position:0%_50%] animate-gradient-x px-6 py-8 rounded-2xl shadow-xl hover:shadow-[0_0_25px_#34d399] transform transition-transform duration-100 hover:scale-105 text-white mx-8 mt-5"},ea={key:1,class:"relative px-6 py-8"},sa={class:"p-6 space-y-6"},aa={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},oa={class:"space-y-6"},la={class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},ia={class:"text-lg text-gray-900"},na={class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},ra={class:"text-lg text-gray-900"},da={class:"text-sm text-gray-600"},ua={class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},ca={class:"text-lg text-gray-900"},ma={class:"space-y-6"},ga={class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},pa={class:"text-lg text-gray-900"},fa={class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},xa={class:"space-y-1"},va={class:"text-sm text-gray-600 font-medium"},ba={class:"text-sm text-gray-600 font-medium"},ya={class:"bg-gray-50 rounded-lg p-4 border border-gray-100"},_a={class:"text-lg text-gray-900"},ha={class:"bg-indigo-50 rounded-lg p-6 border border-indigo-100"},ka={class:"flex justify-between items-center"},wa={class:"text-2xl font-bold text-indigo-600"},Da={key:0,class:"flex justify-center pt-4"},Ma=["disabled"],Ya="60102956786",Ca={__name:"WithHash",props:{uuid:String,booking:Object},setup(C){const b=C;$(()=>{b.booking&&(m.value=b.booking,x.value=3,setTimeout(()=>{const o=document.getElementById("booking-form");o&&o.scrollIntoView({behavior:"smooth"})},100))});const i=v(null),_=v(0),S=v(null),p=v(null);v([]);const A=v([]),L=v(null),W=v(!0),j=v(null);v("");const f=v({room_type:"",start_date:"",end_date:"",adults:""});function Vt(){const e=`Hi, I have an enquiry regarding this package: ${window.location.href}`,n=`https://wa.me/${Ya}?text=${encodeURIComponent(e)}`;window.open(n,"_blank")}const Ut=Ot(()=>{if(!i.value)return"";const o=new Date(i.value.package_start_date).getFullYear(),e=new Date(i.value.package_end_date).getFullYear();if(o===e&&o===2025)return"2025";const n=[];for(let g=o;g<=e;g++)g===o?n.push(g.toString()):n.push((g%100).toString().padStart(2,"0"));return n.join("/")}),w=v({booking_name:"",phone_number:"",booking_ic:"",special_remarks:""}),I=v(!1),x=v(1);v(!1);let U=null;$(()=>{U=setInterval(()=>{G()},5e3)}),Qt(()=>{U&&clearInterval(U)});const G=()=>{_.value=(_.value+1)%N.length},qt=()=>{_.value=(_.value-1+N.length)%N.length};$(async()=>{try{const o=await F.post(route("api.fetch-package-by-uuid"),{uuid:b.uuid,booking_uuid:b.booking?b.booking.uuid:null});o.data.success&&o.data.package?(i.value={...o.data.package,images:N},A.value=o.data.room_types):i.value=null}catch(o){console.error("Error fetching package:",o),i.value=null}finally{W.value=!1}});const N=["https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80","https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80","https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"],a=Jt({start_date:"",end_date:"",adults:1,children:0,room_type_id:null}),q=()=>{let o=!0;if(f.value={room_type:"",start_date:"",end_date:"",adults:""},a.room_type_id||(f.value.room_type="Please select a room type",o=!1),!a.start_date)f.value.start_date="Please select a start date",o=!1;else{const e=new Date(a.start_date),n=new Date(i.value.package_start_date),g=new Date(i.value.package_end_date),M=new Date(g);M.setDate(g.getDate()-i.value.package_max_days),e<n?(f.value.start_date=`Start date cannot be before ${y(n).format("DD MMM YYYY")}`,o=!1):e>M&&(f.value.start_date=`Start date cannot be after ${y(M).format("DD MMM YYYY")} to ensure ${i.value.package_max_days} days stay within package end date`,o=!1)}if(!a.end_date)f.value.end_date="Please select an end date",o=!1;else{const e=new Date(a.end_date),n=new Date(i.value.package_end_date);e>n&&(f.value.end_date=`End date cannot be after ${y(n).format("DD MMM YYYY")}`,o=!1)}if(a.start_date&&a.end_date){const e=new Date(a.start_date),g=new Date(a.end_date)-e,M=Math.ceil(g/(1e3*60*60*24));M<1&&(f.value.end_date="End date must be at least 1 day after start date",o=!1),M>i.value.package_max_days&&(f.value.end_date=`Duration cannot exceed ${i.value.package_max_days} days`,o=!1)}return(!a.adults||a.adults<1)&&(f.value.adults="Please select at least 1 adult",o=!1),o},$t=()=>{if(a.start_date&&i.value.package_max_days){const o=new Date(a.start_date),e=new Date(o);e.setDate(o.getDate()+parseInt(i.value.package_max_days)),a.end_date=e.toISOString().split("T")[0]}};At(()=>a.start_date,()=>{a.start_date&&$t()});const Ht=async()=>{var o,e;if(q())try{const n=await F.post(route("api.package-calculate-price"),{package_id:i.value.id,room_type:a.room_type_id,start_date:a.start_date,end_date:a.end_date,adults:a.adults,children:a.children});if(n.data.success){S.value=parseFloat(n.data.total)||0,p.value=n.data;const g=A.value.find(M=>M.id===a.room_type_id);j.value={roomType:(g==null?void 0:g.name)||"",startDate:a.start_date,endDate:a.end_date,adults:a.adults,children:a.children,duration:Math.ceil((new Date(a.end_date)-new Date(a.start_date))/(1e3*60*60*24)),seasonType:n.data.season_type||"",dateType:n.data.date_type||"",isWeekend:n.data.is_weekend||!1},x.value=2}else throw new Error(n.data.message||"Failed to calculate price")}catch(n){console.error("Error calculating price:",n),S.value=null,p.value=null,j.value=null,H.fire({icon:"error",title:"Error",text:((e=(o=n.response)==null?void 0:o.data)==null?void 0:e.message)||n.message||"Failed to calculate price",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}};At([()=>a.start_date,()=>a.end_date],()=>{q()});const c=o=>{const e=parseFloat(o);return isNaN(e)?"0.00":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},zt=async()=>{q()&&(await Ht(),S.value!==null&&(x.value=2))},m=v(null),T=v(!1),Lt=async()=>{var o,e;try{I.value=!0;const n=await F.post(route("api.bookings.store"),{package_id:i.value.id,room_type_id:a.room_type_id,booking_name:w.value.booking_name,phone_number:w.value.phone_number,booking_ic:w.value.booking_ic,start_date:a.start_date,end_date:a.end_date,adults:a.adults,children:a.children,total_price:p.value.total,special_remarks:w.value.special_remarks});if(n.data.success){m.value=n.data.booking;const g=new URL(window.location);g.searchParams.set("booking",n.data.booking.uuid),window.history.replaceState({},"",g)}}catch(n){console.error("Booking error:",n),await H.fire({icon:"error",title:"Booking Failed",text:((e=(o=n.response)==null?void 0:o.data)==null?void 0:e.message)||"Failed to create booking. Please try again.",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#EF4444"})}finally{I.value=!1}},Wt=async()=>{var o,e;if(m.value)try{T.value=!0;const n=await F.post("/calculator/api/transactions",{booking_id:m.value.id,amount:m.value.total_price,status:"pending"});if(n.data.success)window.location.href=route("api.payment.show",m.value.uuid);else throw new Error(n.data.message||"Failed to create transaction")}catch(n){console.error("Transaction creation error:",n),await H.fire({icon:"error",title:"Payment Initialization Failed",text:((e=(o=n.response)==null?void 0:o.data)==null?void 0:e.message)||n.message||"Failed to initialize payment. Please try again.",confirmButtonColor:"#EF4444"})}finally{T.value=!1}},Gt=Ot(()=>{if(!i.value)return"";const o=new Date(i.value.package_end_date),e=new Date(o);return e.setDate(o.getDate()-i.value.package_max_days),e.toISOString().split("T")[0]});return(o,e)=>{var n,g,M,K,Q,J,X,Z,tt,et,st,at,ot,lt,it,nt,rt,dt,ut,ct,mt,gt,pt,ft,xt,vt,bt,yt,_t,ht,kt,wt,Dt,Mt,Yt,Ct,St,Bt,Pt,jt,Rt,Nt,Et;return r(),d("div",ne,[t("header",re,[t("div",de,[t("div",ue,[t("div",ce,[V(se,{class:"block h-9 w-auto fill-current text-gray-800",style:{"max-width":"100px"}})]),t("div",me,[t("div",{onClick:Vt,class:"bg-sky-600 text-white px-6 py-2 hover:bg-sky-700 flex items-center gap-4 transition-all duration-300",style:{"border-radius":"50px 50px 50px 50px",height:"40px"}},[V(u(z)),e[12]||(e[12]=R(" Enquiry "))])])])])]),W.value?(r(),Xt(te,{key:0,name:"fade"},{default:Zt(()=>[t("div",ge,[V(ee)])]),_:1})):i.value?(r(),d("div",fe,[t("div",xe,[t("div",ve,[t("div",be,[t("div",ye,[(r(),d(E,null,O(N,(l,Y)=>{var D;return t("img",{key:Y,src:l,class:k(["absolute inset-0 w-full h-full object-cover transition-opacity duration-500  h-[500px]",_.value===Y?"opacity-100 z-10":"opacity-0 z-0"]),alt:((D=i.value)==null?void 0:D.name)||"Package Image"},null,10,_e)}),64)),t("button",{onClick:qt,class:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 z-20","aria-label":"Previous image"},e[14]||(e[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("button",{onClick:G,class:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 z-20","aria-label":"Next image"},e[15]||(e[15]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])]),t("div",he,[(r(),d(E,null,O(N,(l,Y)=>t("button",{key:Y,onClick:D=>_.value=Y,class:k(["w-3 h-3 rounded-full transition-colors duration-200",_.value===Y?"bg-white":"bg-white/50 hover:bg-white/75"]),"aria-label":`Go to image ${Y+1}`},null,10,ke)),64))])])]),t("div",we,[t("h1",De,[t("span",Me,s(Ut.value)+" Promo ",1),R(" "+s(i.value.name),1)]),t("p",Ye,s(i.value.description),1),t("div",Ce,[t("div",null,[e[16]||(e[16]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Location",-1)),t("p",Se,s(i.value.location),1)]),t("div",null,[e[17]||(e[17]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Duration",-1)),t("p",Be,s(i.value.package_max_days+1)+" Days "+s(i.value.package_max_days)+" "+s(i.value.package_max_days>1?"Nights":"Night"),1)]),t("div",null,[e[18]||(e[18]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Package Prices",-1)),t("p",Pe,"MYR "+s(c(i.value.display_price_adult)),1)]),t("div",null,[e[19]||(e[19]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Package Start Date",-1)),t("p",je,s(u(y)(i.value.package_start_date).format("DD MMM YYYY")),1)]),t("div",null,[e[20]||(e[20]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Package End Date",-1)),t("p",Re,s(u(y)(i.value.package_end_date).format("DD MMM YYYY")),1)])]),t("div",Ne,[e[21]||(e[21]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Terms and Conditions",-1)),t("p",Ee,s(i.value.terms_and_conditions),1)])]),t("div",Oe,[e[55]||(e[55]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Book Your Stay",-1)),t("div",Ae,[t("div",Ie,[t("div",Te,[t("div",{class:k(["w-8 h-8 rounded-full flex items-center justify-center",x.value>=1?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"])},"1",2),t("div",{class:k(["ml-2 text-sm font-medium",x.value>=1?"text-indigo-600":"text-gray-500"])},"Quotation Details",2)]),t("div",{class:k(["flex-1 mx-4 h-0.5",x.value>=2?"bg-indigo-600":"bg-gray-200"])},null,2),t("div",Fe,[t("div",{class:k(["w-8 h-8 rounded-full flex items-center justify-center",x.value>=2?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"])},"2",2),t("div",{class:k(["ml-2 text-sm font-medium",x.value>=2?"text-indigo-600":"text-gray-500"])},"Price Summary",2)]),t("div",{class:k(["flex-1 mx-4 h-0.5",x.value>=3?"bg-indigo-600":"bg-gray-200"])},null,2),t("div",Ve,[t("div",{class:k(["w-8 h-8 rounded-full flex items-center justify-center",x.value>=3?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"])},"3",2),t("div",{class:k(["ml-2 text-sm font-medium",x.value>=3?"text-indigo-600":"text-gray-500"])},"Booking Details",2)])])]),x.value===1?(r(),d("div",Ue,[t("form",{onSubmit:It(zt,["prevent"]),class:"space-y-6"},[t("div",qe,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),A.value.length===0?(r(),d("div",$e,e[22]||(e[22]=[t("p",{class:"text-gray-600"},"No room types available for this package.",-1)]))):(r(),d("div",He,[(r(!0),d(E,null,O(A.value,l=>(r(),d("div",{key:l.id,class:k(["border rounded-lg p-4 cursor-pointer transition-all duration-200",L.value===l.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-400"]),onClick:Y=>{L.value=l.id,u(a).room_type_id=l.id}},[t("div",Le,[t("div",null,[t("h3",We,s(l.name),1),t("p",Ge,s(l.description),1)])]),t("div",Ke,[t("p",null,"Max Occupancy: "+s(l.max_occupancy)+" persons",1)])],10,ze))),128))])),f.value.room_type?(r(),d("p",Qe,s(f.value.room_type),1)):h("",!0)]),t("div",Je,[t("div",null,[e[24]||(e[24]=t("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),B(t("input",{type:"date",id:"start_date","onUpdate:modelValue":e[0]||(e[0]=l=>u(a).start_date=l),min:(n=i.value)==null?void 0:n.package_start_date,max:Gt.value,class:k(["mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",f.value.start_date?"border-red-500":"border-gray-300"]),required:"",onChange:e[1]||(e[1]=(...l)=>o.validateDates&&o.validateDates(...l))},null,42,Xe),[[P,u(a).start_date]]),f.value.start_date?(r(),d("p",Ze,s(f.value.start_date),1)):h("",!0)]),t("div",null,[e[25]||(e[25]=t("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),B(t("input",{type:"date",id:"end_date","onUpdate:modelValue":e[2]||(e[2]=l=>u(a).end_date=l),min:u(a).start_date?new Date(new Date(u(a).start_date).getTime()+864e5).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],class:"mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-gray-100 border-gray-300",required:"",readonly:""},null,8,ts),[[P,u(a).end_date]])])]),t("div",es,[t("div",null,[e[26]||(e[26]=t("label",{for:"adults",class:"block text-sm font-medium text-gray-700"},"Number of Adults",-1)),B(t("input",{type:"number",id:"adults","onUpdate:modelValue":e[3]||(e[3]=l=>u(a).adults=l),min:"1",max:"4",class:k(["mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",f.value.adults?"border-red-500":"border-gray-300"]),required:""},null,2),[[P,u(a).adults]]),f.value.adults?(r(),d("p",ss,s(f.value.adults),1)):h("",!0)]),t("div",null,[e[27]||(e[27]=t("label",{for:"children",class:"block text-sm font-medium text-gray-700"},"Number of Children",-1)),B(t("input",{type:"number",id:"children","onUpdate:modelValue":e[4]||(e[4]=l=>u(a).children=l),min:"0",max:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[P,u(a).children]])])]),t("div",as,[t("button",{type:"submit",class:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:u(a).processing}," Calculate Price ",8,os)])],32)])):h("",!0),x.value===2?(r(),d("div",ls,[t("div",is,[j.value&&((g=p.value)!=null&&g.summary)?(r(),d("div",ns,[e[32]||(e[32]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Booking Summary",-1)),t("div",rs,[t("div",null,[e[28]||(e[28]=t("p",{class:"text-sm text-gray-600"},"Room Type",-1)),t("p",ds,s(j.value.roomType),1)]),t("div",null,[e[29]||(e[29]=t("p",{class:"text-sm text-gray-600"},"Duration",-1)),t("p",us,s(j.value.duration)+" nights",1)]),t("div",null,[e[30]||(e[30]=t("p",{class:"text-sm text-gray-600"},"Check-in",-1)),t("p",cs,s(u(y)(j.value.startDate).format("DD MMM YYYY")),1)]),t("div",null,[e[31]||(e[31]=t("p",{class:"text-sm text-gray-600"},"Check-out",-1)),t("p",ms,s(u(y)(j.value.endDate).format("DD MMM YYYY")),1)])])])):h("",!0),(K=(M=p.value)==null?void 0:M.nights)!=null&&K.length?(r(),d("div",gs,[e[36]||(e[36]=t("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Nightly Breakdown",-1)),t("div",ps,[t("table",fs,[e[35]||(e[35]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Night"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Season"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Base Charge"),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Surcharge"),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total")])],-1)),t("tbody",xs,[(r(!0),d(E,null,O(p.value.nights,(l,Y)=>(r(),d(E,{key:Y},[t("tr",vs,[t("td",bs," Night "+s(Y+1),1),t("td",ys,s(u(y)(l.date).format("DD MMM YYYY")),1),t("td",_s,s(l.season_type),1),t("td",hs,s(l.date_type),1),t("td",ks,[t("div",ws,s(c(l.base_charge.total))+" MYR",1),t("div",Ds,[R(" Adult: "+s(c(l.base_charge.adult.total))+" MYR",1),e[33]||(e[33]=t("br",null,null,-1)),R(" Child: "+s(c(l.base_charge.child.total))+" MYR ",1)])]),t("td",Ms,[t("div",Ys,s(c(l.surcharge.total))+" MYR",1),t("div",Cs,[R(" Adult: "+s(c(l.surcharge.adult.total))+" MYR",1),e[34]||(e[34]=t("br",null,null,-1)),R(" Child: "+s(c(l.surcharge.child.total))+" MYR ",1)])]),t("td",Ss,s(c(l.total))+" MYR ",1)]),l.add_ons&&l.add_ons.length>0?(r(),d("tr",Bs,[t("td",Ps,[t("div",js,[(r(!0),d(E,null,O(l.add_ons,(D,Kt)=>(r(),d("div",{key:Kt,class:"mb-1"},[t("span",Rs,s(D.name)+":",1),t("span",Ns,[R(" Adults ("+s(D.adult_qty)+" × "+s(c(D.adult_price))+" MYR) = "+s(c(D.adult_total))+" MYR ",1),D.child_qty>0?(r(),d("span",Es," | Children ("+s(D.child_qty)+" × "+s(c(D.child_price))+" MYR) = "+s(c(D.child_total))+" MYR ",1)):h("",!0)])]))),128))])])])):h("",!0)],64))),128))])])])])):h("",!0),(Q=p.value)!=null&&Q.summary?(r(),d("div",Os,[e[41]||(e[41]=t("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Overall Summary",-1)),t("div",As,[t("div",Is,[t("div",null,[e[37]||(e[37]=t("p",{class:"font-medium"},"Base Charges",-1)),t("div",Ts,[t("p",null,"Adults: "+s(c(((tt=(Z=(X=(J=p.value)==null?void 0:J.summary)==null?void 0:X.base_charges)==null?void 0:Z.adult)==null?void 0:tt.total)||0))+" MYR",1),t("p",null,"Children: "+s(c(((ot=(at=(st=(et=p.value)==null?void 0:et.summary)==null?void 0:st.base_charges)==null?void 0:at.child)==null?void 0:ot.total)||0))+" MYR",1)])]),t("p",Fs,s(c(((nt=(it=(lt=p.value)==null?void 0:lt.summary)==null?void 0:it.base_charges)==null?void 0:nt.total)||0))+" MYR",1)]),t("div",Vs,[t("div",null,[e[38]||(e[38]=t("p",{class:"font-medium"},"Surcharges",-1)),t("div",Us,[t("p",null,"Adults: "+s(c(((ct=(ut=(dt=(rt=p.value)==null?void 0:rt.summary)==null?void 0:dt.surcharges)==null?void 0:ut.adult)==null?void 0:ct.total)||0))+" MYR",1),t("p",null,"Children: "+s(c(((ft=(pt=(gt=(mt=p.value)==null?void 0:mt.summary)==null?void 0:gt.surcharges)==null?void 0:pt.child)==null?void 0:ft.total)||0))+" MYR",1)])]),t("p",qs,s(c(((bt=(vt=(xt=p.value)==null?void 0:xt.summary)==null?void 0:vt.surcharges)==null?void 0:bt.total)||0))+" MYR",1)]),((ht=(_t=(yt=p.value)==null?void 0:yt.summary)==null?void 0:_t.add_ons)==null?void 0:ht.total)>0?(r(),d("div",$s,[t("div",null,[e[39]||(e[39]=t("p",{class:"font-medium"},"Add-ons",-1)),t("div",Hs,[t("p",null,"Adults: "+s(c(((Mt=(Dt=(wt=(kt=p.value)==null?void 0:kt.summary)==null?void 0:wt.add_ons)==null?void 0:Dt.adult)==null?void 0:Mt.total)||0))+" MYR",1),t("p",null,"Children: "+s(c(((Bt=(St=(Ct=(Yt=p.value)==null?void 0:Yt.summary)==null?void 0:Ct.add_ons)==null?void 0:St.child)==null?void 0:Bt.total)||0))+" MYR",1)])]),t("p",zs,s(c(((Rt=(jt=(Pt=p.value)==null?void 0:Pt.summary)==null?void 0:jt.add_ons)==null?void 0:Rt.total)||0))+" MYR",1)])):h("",!0),t("div",Ls,[e[40]||(e[40]=t("p",{class:"text-lg font-semibold"},"Grand Total",-1)),t("p",Ws,s(c(((Nt=p.value)==null?void 0:Nt.total)||0))+" MYR",1)])])])):h("",!0),t("div",Gs,[t("button",{onClick:e[5]||(e[5]=l=>x.value=1),class:"px-8 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Back "),t("button",{onClick:e[6]||(e[6]=l=>x.value=3),class:"px-8 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Next ")])])])):h("",!0),x.value===3?(r(),d("div",Ks,[m.value?(r(),d("div",Zs,[m.value.payment_status==="paid"?(r(),d("div",ta,e[46]||(e[46]=[Tt('<div class="absolute inset-0 bg-black opacity-10" data-v-cbcae671></div><div class="relative text-center" data-v-cbcae671><div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/20 backdrop-blur-sm mb-4" data-v-cbcae671><svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cbcae671><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7" data-v-cbcae671></path></svg></div><div class="space-y-2" data-v-cbcae671><h2 class="text-3xl font-bold text-white mb-2" data-v-cbcae671>Payment Completed</h2><p class="text-white/90 text-lg" data-v-cbcae671>Your booking details will be sent to your email.</p></div></div>',2)]))):(r(),d("div",ea,e[47]||(e[47]=[Tt('<div class="text-center mb-6 bg-indigo-50 rounded-lg p-4" data-v-cbcae671><div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-white mb-4" data-v-cbcae671><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cbcae671><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-cbcae671></path></svg></div><h3 class="text-xl font-semibold text-gray-900 mb-2" data-v-cbcae671>Booking Successful!</h3><p class="text-gray-600" data-v-cbcae671>Your booking has been submitted successfully.</p><p class="text-gray-600" data-v-cbcae671>Please proceed to make payment.</p></div>',1)]))),t("div",sa,[t("div",aa,[t("div",oa,[t("div",la,[e[48]||(e[48]=t("h4",{class:"text-sm font-medium text-gray-500 mb-3"},"BOOKING REFERENCE",-1)),t("p",ia,s(m.value.uuid),1)]),t("div",na,[e[49]||(e[49]=t("h4",{class:"text-sm text-gray-500 mb-3"},"BOOKING NAME",-1)),t("p",ra,s(m.value.booking_name),1),t("p",da,"Phone: "+s(m.value.phone_number),1)]),t("div",ua,[e[50]||(e[50]=t("h4",{class:"text-sm font-medium text-gray-500 mb-3"},"ROOM TYPE",-1)),t("p",ca,s((Et=m.value.room_type)==null?void 0:Et.name),1)])]),t("div",ma,[t("div",ga,[e[51]||(e[51]=t("h4",{class:"text-sm font-medium text-gray-500 mb-3"},"DURATION",-1)),t("p",pa,s(u(y)(m.value.end_date).diff(u(y)(m.value.start_date),"days")+1)+" Days "+s(u(y)(m.value.end_date).diff(u(y)(m.value.start_date),"days"))+" Nights",1)]),t("div",fa,[e[52]||(e[52]=t("h4",{class:"text-sm font-medium text-gray-500 mb-3"},"CHECK-IN / CHECK-OUT",-1)),t("div",xa,[t("p",va,"Check-in: "+s(u(y)(m.value.start_date).format("DD MMM YYYY")),1),t("p",ba,"Check-out: "+s(u(y)(m.value.end_date).format("DD MMM YYYY")),1)])]),t("div",ya,[e[53]||(e[53]=t("h4",{class:"text-sm font-medium text-gray-500 mb-3"},"GUESTS",-1)),t("p",_a,s(m.value.adults)+" Adults, "+s(m.value.children)+" Children",1)])])]),t("div",ha,[t("div",ka,[e[54]||(e[54]=t("h4",{class:"text-lg font-semibold text-indigo-900"},"Total Amount",-1)),t("p",wa,"MYR "+s(c(m.value.total_price)),1)])]),m.value.payment_status!=="paid"?(r(),d("div",Da,[t("button",{onClick:Wt,class:"px-8 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 text-lg font-medium",disabled:T.value},s(T.value?"Processing...":"Pay Now"),9,Ma)])):h("",!0)])])):(r(),d("div",Qs,[t("form",{onSubmit:It(Lt,["prevent"]),class:"space-y-6"},[t("div",null,[e[42]||(e[42]=t("label",{for:"booking_name",class:"block text-sm font-medium text-gray-700"},"Booking Name",-1)),B(t("input",{type:"text",id:"booking_name","onUpdate:modelValue":e[7]||(e[7]=l=>w.value.booking_name=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[P,w.value.booking_name]])]),t("div",null,[e[43]||(e[43]=t("label",{for:"phone_number",class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),B(t("input",{type:"tel",id:"phone_number","onUpdate:modelValue":e[8]||(e[8]=l=>w.value.phone_number=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[P,w.value.phone_number]])]),t("div",null,[e[44]||(e[44]=t("label",{for:"booking_ic",class:"block text-sm font-medium text-gray-700"},"IC/Passport Number",-1)),B(t("input",{type:"text",id:"booking_ic","onUpdate:modelValue":e[9]||(e[9]=l=>w.value.booking_ic=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[P,w.value.booking_ic]])]),t("div",null,[e[45]||(e[45]=t("label",{for:"special_remarks",class:"block text-sm font-medium text-gray-700"},"Special Remarks (if any)",-1)),B(t("textarea",{id:"special_remarks","onUpdate:modelValue":e[10]||(e[10]=l=>w.value.special_remarks=l),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[P,w.value.special_remarks]])]),t("div",Js,[t("button",{type:"button",onClick:e[11]||(e[11]=l=>x.value=2),class:"px-6 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Back "),t("button",{type:"submit",class:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:I.value},s(I.value?"Submitting...":"Submit Booking"),9,Xs)])],32)]))])):h("",!0)])])):(r(),d("div",pe,e[13]||(e[13]=[t("div",{class:"text-center"},[t("div",{class:"text-6xl mb-4"},"🔍"),t("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"Package Not Found"),t("p",{class:"text-gray-600 mb-8"},"We couldn't find the package you're looking for, please check the URL or contact us for assistance.")],-1)])))])}}},Oa=ae(Ca,[["__scopeId","data-v-cbcae671"]]);export{Oa as default};

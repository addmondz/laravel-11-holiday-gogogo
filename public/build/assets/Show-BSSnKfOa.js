import{l as f,g as u,o as d,b as e,h as b,t as r,L as p,W as y}from"./app-DCl2SVmg.js";import{S as h}from"./sweetalert2.esm.all-DWO__QVt.js";const x={class:"min-h-screen bg-gray-100 flex items-center justify-center"},w={class:"max-w-md w-full bg-white rounded-lg shadow-lg p-8"},v={class:"text-center mb-8"},_={class:"text-gray-600"},k={class:"mt-4"},P={class:"text-lg font-semibold text-gray-900"},S={class:"space-y-4"},F=["disabled"],B=["disabled"],C={key:0,class:"mt-6"},N={__name:"Show",props:{booking:Object,transaction:Object},setup(i){const s=i,o=f(!1),m=n=>parseFloat(n).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),l=async n=>{var t,a;try{o.value=!0,(await p.post(route("api.payment.handle",s.booking.uuid),{status:n,transaction_id:s.transaction.id,is_simulation:!0})).data.success&&(n==="success"?window.location.href=route("api.payment.success",s.booking.uuid):window.location.href=route("api.payment.failed",s.booking.uuid))}catch(c){console.error("Payment simulation error:",c),h.fire({icon:"error",title:"Payment Failed",text:((a=(t=c.response)==null?void 0:t.data)==null?void 0:a.message)||"An error occurred while processing the payment",confirmButtonColor:"#EF4444"})}finally{o.value=!1}},g=()=>{y.visit(route("api.payment.show",s.booking.uuid))};return(n,t)=>(d(),u("div",x,[e("div",w,[e("div",v,[t[2]||(t[2]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Payment Simulation",-1)),e("p",_,"Booking #"+r(i.booking.id),1),e("div",k,[e("p",P,"Amount: MYR "+r(m(i.transaction.amount)),1)])]),e("div",S,[e("button",{onClick:t[0]||(t[0]=a=>l("success")),class:"w-full bg-green-600 text-white px-4 py-3 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",disabled:o.value},r(o.value?"Processing...":"Simulate Successful Payment"),9,F),e("button",{onClick:t[1]||(t[1]=a=>l("failed")),class:"w-full bg-red-600 text-white px-4 py-3 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",disabled:o.value},r(o.value?"Processing...":"Simulate Failed Payment"),9,B)]),i.transaction.status==="failed"?(d(),u("div",C,[e("button",{onClick:g,class:"w-full bg-indigo-600 text-white px-4 py-3 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors"}," Retry Payment ")])):b("",!0)])]))}};export{N as default};

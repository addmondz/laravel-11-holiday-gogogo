import{C as b,i as c,g as h,o as g,a as o,u as t,m as _,w as p,b as a,e as C,n,h as y,t as V,P as U,f as A,F as P}from"./app-CN1jGWpK.js";import{A as N}from"./AuthenticatedLayout-DM_mmTTI.js";import{_ as m,a as d,b as u}from"./TextInput.vue_vue_type_script_setup_true_lang-CY3pEFpX.js";import{_ as S}from"./BreadcrumbComponent-CqQUwkBm.js";import{S as w}from"./sweetalert2.esm.all-B0Dix5B2.js";import"./ApplicationLogo-srJthbM6.js";import"./LoadingComponent-BsoRKB3Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-BsdLMr29.js";const L={class:"py-12"},k={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6 text-gray-900"},$={class:"mt-2 space-y-1"},j={class:"text-sm space-y-1"},E={key:0,class:"mt-2"},M={class:"mt-6 flex justify-end"},O=["disabled"],K={__name:"Create",setup(R){const e=b({name:"",email:"",password:"",password_confirmation:""}),x=c(()=>[{title:"Users",link:route("users.index")},{title:"Create User"}]),r=c(()=>({minLength:e.password.length>=8,hasNumber:/\d/.test(e.password),hasUpperCase:/[A-Z]/.test(e.password),hasLowerCase:/[a-z]/.test(e.password),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(e.password),matches:e.password===e.password_confirmation&&e.password!==""})),f=c(()=>Object.values(r.value).every(Boolean)),v=()=>{if(!f.value){const i=Object.entries(r.value).filter(([s,l])=>!l).map(([s])=>{switch(s){case"minLength":return"At least 8 characters";case"hasNumber":return"At least one number";case"hasUpperCase":return"At least one uppercase letter";case"hasLowerCase":return"At least one lowercase letter";case"hasSpecialChar":return"At least one special character";case"matches":return"Passwords do not match";default:return""}}).filter(Boolean);w.fire({title:"Password Requirements Not Met",html:`
                <div class="text-left">
                    <p class="mb-2">Please ensure your password meets the following requirements:</p>
                    <ul class="list-disc pl-5 text-left">
                        ${i.map(s=>`<li class="text-red-600">${s}</li>`).join("")}
                    </ul>
                </div>
            `,icon:"error",confirmButtonColor:"#3085d6"});return}e.post(route("users.store"),{onSuccess:()=>{w.fire({title:"Success!",text:"User has been created successfully.",icon:"success",confirmButtonColor:"#3085d6"}).then(()=>{e.reset()})},onError:i=>{console.log(i);const s=Object.values(i).join("<br>");w.fire({title:"Error!",html:s,icon:"error",confirmButtonColor:"#3085d6"})}})};return(i,s)=>(g(),h(P,null,[o(t(_),{title:"Create User"}),o(N,null,{header:p(()=>s[4]||(s[4]=[a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create User ",-1)])),default:p(()=>[a("div",L,[a("div",k,[a("div",q,[a("div",B,[o(S,{breadcrumbs:x.value,class:"mb-9"},null,8,["breadcrumbs"]),a("form",{onSubmit:C(v,["prevent"]),class:"space-y-6"},[a("div",null,[o(m,{for:"name",value:"Name"}),o(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(e).name,"onUpdate:modelValue":s[0]||(s[0]=l=>t(e).name=l),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(u,{class:"mt-2",message:t(e).errors.name},null,8,["message"])]),a("div",null,[o(m,{for:"email",value:"Email"}),o(d,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t(e).email,"onUpdate:modelValue":s[1]||(s[1]=l=>t(e).email=l),required:"",autocomplete:"username"},null,8,["modelValue"]),o(u,{class:"mt-2",message:t(e).errors.email},null,8,["message"])]),a("div",null,[o(m,{for:"password",value:"Password"}),o(d,{id:"password",type:"password",class:n(["mt-1 block w-full",{"border-red-500":t(e).password&&!f.value}]),modelValue:t(e).password,"onUpdate:modelValue":s[2]||(s[2]=l=>t(e).password=l),required:"",autocomplete:"new-password"},null,8,["modelValue","class"]),a("div",$,[s[5]||(s[5]=a("p",{class:"text-sm text-gray-600"},"Password must contain:",-1)),a("ul",j,[a("li",{class:n({"text-green-600":r.value.minLength,"text-red-600":!r.value.minLength})}," • At least 8 characters ",2),a("li",{class:n({"text-green-600":r.value.hasNumber,"text-red-600":!r.value.hasNumber})}," • At least one number ",2),a("li",{class:n({"text-green-600":r.value.hasUpperCase,"text-red-600":!r.value.hasUpperCase})}," • At least one uppercase letter ",2),a("li",{class:n({"text-green-600":r.value.hasLowerCase,"text-red-600":!r.value.hasLowerCase})}," • At least one lowercase letter ",2),a("li",{class:n({"text-green-600":r.value.hasSpecialChar,"text-red-600":!r.value.hasSpecialChar})}," • At least one special character ",2)])]),o(u,{class:"mt-2",message:t(e).errors.password},null,8,["message"])]),a("div",null,[o(m,{for:"password_confirmation",value:"Confirm Password"}),o(d,{id:"password_confirmation",type:"password",class:n(["mt-1 block w-full",{"border-red-500":t(e).password_confirmation&&!r.value.matches}]),modelValue:t(e).password_confirmation,"onUpdate:modelValue":s[3]||(s[3]=l=>t(e).password_confirmation=l),required:"",autocomplete:"new-password"},null,8,["modelValue","class"]),t(e).password_confirmation?(g(),h("div",E,[a("p",{class:n([{"text-green-600":r.value.matches,"text-red-600":!r.value.matches},"text-sm"])},V(r.value.matches?"Passwords match":"Passwords do not match"),3)])):y("",!0),o(u,{class:"mt-2",message:t(e).errors.password_confirmation},null,8,["message"])]),a("div",M,[o(t(U),{href:i.route("users.index"),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 mr-3 text-xs"},{default:p(()=>s[6]||(s[6]=[A(" Cancel ")])),_:1},8,["href"]),a("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:t(e).processing}," Update User ",8,O)])],32)])])])])]),_:1})],64))}};export{K as default};

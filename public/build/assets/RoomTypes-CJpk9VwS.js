import{d as be,r as U,i as ie,H as Y,g as u,o as l,b as e,f as K,n as X,t as M,h as T,p as ye,F as O,y as q,u as o,C as se,a as W,c as ve,w as z,e as ae,j as w,q as C,z as J,W as oe}from"./app-DNVxdjLz.js";import{_ as ne}from"./Modal.vue_vue_type_script_setup_true_lang-DA36s7XP.js";import{P as _e}from"./Pagination-Boo6t3Ep.js";import{S as L}from"./sweetalert2.esm.all-B0Dix5B2.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LoadingComponent-Dd51VhIX.js";function ke(V,v,B,g,F){if(V<1)return[];const R=[];console.log("maxAdults: ",v),console.log("maxChild: ",B),console.log("maxInfant: ",g);for(let p=1;p<=V;p++)for(let x=1;x<=p;x++)if(!(v!=null&&x>v))for(let m=0;m<=p-x;m++){if(B!=null&&m>B)continue;const c=p-x-m;g!=null&&c>g||R.push(`${x}_a_${m}_c_${c}_i`)}return R.sort((p,x)=>{const m=p.match(/^(\d+)_a_(\d+)_c_(\d+)_i$/),c=x.match(/^(\d+)_a_(\d+)_c_(\d+)_i$/);if(!m||!c)return 0;const D=parseInt(m[1],10),r=parseInt(m[2],10),n=parseInt(m[3],10),P=parseInt(c[1],10),A=parseInt(c[2],10),h=parseInt(c[3],10);return D!==P?D-P:r!==A?r-A:n-h}),R}function we(V){const v=V.match(/^(\d+)_a_(\d+)_c_(\d+)_i$/);if(!v)return V;const B=parseInt(v[1],10),g=parseInt(v[2],10),F=parseInt(v[3],10),R=[];return R.push(`${B} ${B===1?"Adult":"Adults"}`),R.push(`${g} ${g===1?"Child":"Children"}`),R.push(`${F} ${F===1?"Infant":"Infants"}`),R.join(" + ")}const Ce={key:0,class:"p-4 text-center text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg"},$e={key:1},Re={class:"border-b border-gray-200"},Ie={class:"-mb-px flex space-x-8"},Me={key:0},Ae={class:"max-h-[60vh] overflow-y-auto"},Fe={key:0,class:"p-4"},je={key:1,class:"p-4 space-y-2"},Be={class:"text-sm text-gray-900"},Ue=["onClick"],Te={key:0},De={key:1},Pe={key:0,class:"p-4 text-center text-sm text-gray-500 bg-gray-50 rounded-lg"},Ve={key:1,class:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},Ee={class:"text-sm text-yellow-800"},ue=be({__name:"RoomPaxCombinationComponent",props:{maxPax:{},disabledPaxCombinations:{},maxAdults:{},maxChildren:{},maxInfants:{},roomTypeId:{},tab1Label:{}},emits:["update:selectedCombinations"],setup(V,{expose:v,emit:B}){const g=V,F=B,R=U("tab1"),p=U([]),x=ie(()=>g.maxPax!==null&&g.maxPax!==void 0),m=ie(()=>x.value?ke(g.maxPax,g.maxAdults??null,g.maxChildren??null,g.maxInfants??null):[]),c=h=>p.value.includes(h),D=h=>["whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium cursor-pointer transition-colors",R.value===h?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"],r=h=>c(h)?"bg-red-100 border-red-300":"bg-white border-gray-200 hover:bg-gray-50",n=h=>c(h)?"px-3 py-1.5 text-xs rounded-md bg-red-600 text-white hover:bg-red-700":"px-3 py-1.5 text-xs rounded-md bg-gray-100 text-gray-700 hover:bg-gray-200",P=h=>{c(h)?p.value=p.value.filter($=>$!==h):p.value.push(h),F("update:selectedCombinations",[...p.value])},A=h=>{R.value=h};return Y([()=>g.disabledPaxCombinations,m],([h=[],$])=>{if(!Array.isArray(h)){p.value=[];return}p.value=$.filter(i=>h.includes(i))},{immediate:!0}),v({selectedCombinations:p,clearSelection:()=>{p.value=[],F("update:selectedCombinations",[])}}),(h,$)=>(l(),u("div",null,[x.value?(l(),u("div",$e,[e("div",Re,[e("nav",Ie,[e("div",{onClick:$[0]||($[0]=i=>A("tab1")),class:X(D("tab1"))},M(h.tab1Label||"Tab 1"),3),e("div",{onClick:$[1]||($[1]=i=>A("tab2")),class:X(D("tab2"))},[$[3]||($[3]=K(" Disabled ")),p.value.length?(l(),u("span",Me," ( "+M(p.value.length)+" / "+M(m.value.length)+" ) ",1)):T("",!0),$[4]||($[4]=K(" Combinations "))],2)])]),e("div",Ae,[R.value==="tab1"?(l(),u("div",Fe,[ye(h.$slots,"tab1")])):T("",!0),R.value==="tab2"?(l(),u("div",je,[(l(!0),u(O,null,q(m.value,(i,G)=>(l(),u("div",{key:`${i}-${G}`,class:X(["flex items-center justify-between p-3 rounded-lg border transition-colors",r(i)])},[e("span",Be,M(o(we)(i)),1),e("button",{type:"button",onClick:re=>P(i),class:X(n(i))},[c(i)?(l(),u("span",Te,"Undo")):(l(),u("span",De,$[5]||($[5]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])))],10,Ue)],2))),128)),m.value.length?T("",!0):(l(),u("div",Pe," No PAX combinations available ")),p.value.length?(l(),u("div",Ve,[e("p",Ee,[e("strong",null,M(p.value.length),1),$[6]||($[6]=K(" combination(s) disabled "))])])):T("",!0)])):T("",!0)])])):(l(),u("div",Ce,$[2]||($[2]=[e("p",null,"Invalid props passed to RoomPaxCombinationComponent.",-1),e("p",{class:"mt-1 text-xs text-gray-600"},[K(" Please provide "),e("strong",null,"maxPax"),K(" or resolve it via "),e("strong",null,"roomTypeId")],-1)])))]))}}),Le={class:"space-y-6",style:{position:"relative"}},Se={class:"flex justify-between items-center"},Ne={class:"overflow-x-auto"},Oe={class:"min-w-full divide-y divide-gray-200"},qe={class:"bg-white divide-y divide-gray-200"},Ge={class:"px-6 py-4 whitespace-nowrap"},He={key:0,class:"flex space-x-2"},Ke=["src"],We={class:"absolute inset-0 flex items-center justify-center bg-black/0 sm:group-hover:bg-black/20 transition-all duration-300 rounded-lg pointer-events-none"},ze=["onClick"],Xe={key:1,class:"text-gray-400 text-sm"},Je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Qe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ze={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tt={class:"px-6 py-4 text-sm text-gray-900"},st={class:"px-6 py-4 text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ot=["onClick"],nt=["onClick"],it=["onClick"],rt={key:1},lt={key:0,class:"mt-4"},dt={class:"p-6 max-h-[90vh]"},ut={key:0,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},mt={class:"space-y-4"},ct={class:"flex justify-between"},pt={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},gt={class:"space-y-1 text-center"},xt={class:"text-sm text-gray-600"},ft={for:"images",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},bt={key:0,class:"mt-4 grid grid-cols-3 gap-4"},yt=["src"],vt=["onClick"],_t={class:"mt-6 flex justify-end space-x-3"},ht=["disabled"],kt={class:"p-6"},wt={key:0,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},Ct={class:"space-y-4"},$t={class:"flex justify-between"},Rt={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},It={class:"space-y-1 text-center"},Mt={class:"text-sm text-gray-600"},At={for:"duplicate_images",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},Ft={key:0,class:"mt-4 grid grid-cols-3 gap-4"},jt=["src"],Bt=["onClick"],Ut={class:"mt-6 flex justify-end space-x-3"},Tt=["disabled"],Dt={class:"p-6 max-h-[90vh]"},Pt={key:0,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},Vt={class:"space-y-4"},Et={class:"flex justify-between"},Lt={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},St={class:"space-y-1 text-center"},Nt={class:"text-sm text-gray-600"},Ot={for:"edit_images",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},qt={key:0,class:"mt-4 grid grid-cols-3 gap-4"},Gt=["src"],Ht=["onClick"],Kt={class:"mt-6 flex justify-end space-x-3"},Wt=["disabled"],zt={__name:"RoomTypes",props:{package:{type:Object,required:!0},roomTypes:{type:Object,required:!0,default:()=>({data:[],links:[],from:0,to:0,total:0,current_page:1,last_page:1,per_page:10})}},setup(V){const v=V,B=U(0),g=U(v.roomTypes||{data:[],links:[],from:0,to:0,total:0,current_page:1,last_page:1,per_page:10}),F=U(!1),R=U(!1),p=U(!1),x=U(""),m=U(""),c=U(""),D=ie(()=>({links:g.value.links,from:g.value.from,to:g.value.to,total:g.value.total})),r=se({name:"",bed_desc:"",description:"",max_occupancy:4,max_adults:null,max_children:null,max_infants:null,package_id:v.package.id,return_to_package:!0,images:[],disabled_pax_combinations:[],delete_images:[]}),n=se({id:null,name:"",bed_desc:"",description:"",max_occupancy:4,max_adults:null,max_children:null,max_infants:null,package_id:v.package.id,return_to_package:!0,images:[],disabled_pax_combinations:[],delete_images:[]}),P=U([]),A=U([]),h=a=>{P.value=a},$=a=>{A.value=a},i=se({name:"",bed_desc:"",description:"",max_occupancy:4,max_adults:null,max_children:null,max_infants:null,package_id:v.package.id,return_to_package:!0,images:[],existing_images:[],originalRoomTypeId:null});Y(F,a=>{a||(x.value="",A.value=[])}),Y(R,a=>{a||(m.value="")}),Y(p,a=>{a||(c.value="")});const G=async a=>{try{const t=await J.get(route("packages.room-types",v.package.id),{params:{page:a}});g.value={...g.value,data:t.data.data,links:t.data.links,from:t.data.from,to:t.data.to,total:t.data.total,current_page:t.data.current_page,last_page:t.data.last_page,per_page:t.data.per_page},B.value++}catch(t){console.error("Error fetching room types:",t)}},re=()=>{var b,_,k;if(!((b=r.name)!=null&&b.trim())){x.value="Room type name is required";return}if(!r.max_occupancy||r.max_occupancy<1){x.value="Maximum occupancy must be at least 1";return}const a=new FormData;a.append("name",r.name.trim()),a.append("bed_desc",((_=r.bed_desc)==null?void 0:_.trim())||""),a.append("description",((k=r.description)==null?void 0:k.trim())||""),a.append("max_occupancy",r.max_occupancy),a.append("max_adults",r.max_adults||""),a.append("max_children",r.max_children||""),a.append("max_infants",r.max_infants||""),a.append("package_id",v.package.id),a.append("return_to_package","true"),Array.isArray(A.value)&&A.value.length>0?A.value.forEach((f,s)=>{a.append(`disabled_pax_combinations[${s}]`,f)}):a.append("disabled_pax_combinations",""),r.images.some(f=>f instanceof File)&&r.images.forEach((f,s)=>{f instanceof File&&a.append(`images[${s}]`,f)}),J.post(route("room-types.store"),a,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(f=>{r.processing=!1,F.value=!1,L.fire({icon:"success",title:"Success",text:"Room type created successfully"}),r.reset(),A.value=[],oe.get(route("packages.show",v.package.id))}).catch(f=>{var s,d,j,E;if(r.processing=!1,(d=(s=f.response)==null?void 0:s.data)!=null&&d.errors){const I=f.response.data.errors;if(I.images)x.value=Array.isArray(I.images)?I.images.join(", "):I.images;else if(I.name)x.value=I.name[0];else if(I.max_occupancy)x.value=I.max_occupancy[0];else if(I.package_id)x.value=I.package_id[0];else{const y=Object.entries(I).map(([H,S])=>`${H}: ${Array.isArray(S)?S.join(", "):S}`).join(`
`);x.value=y}}else(E=(j=f.response)==null?void 0:j.data)!=null&&E.message?x.value=f.response.data.message:x.value="Failed to create room type. Please try again."}).finally(()=>{r.processing=!1})},me=a=>{n.reset(),n.id=a.id,n.name=a.name||"",n.bed_desc=a.bed_desc||"",n.description=a.description||"",n.max_occupancy=parseInt(a.max_occupancy)||2,n.max_adults=parseInt(a.max_adults)||null,n.max_children=parseInt(a.max_children)||null,n.max_infants=parseInt(a.max_infants)||null,n.package_id=parseInt(v.package.id),n.images=Array.isArray(a.images)?[...a.images]:[],n.delete_images=[],n.return_to_package=!0,n.disabled_pax_combinations=a.disabled_pax_combinations||[],P.value=Array.isArray(a.disabled_pax_combinations)?[...a.disabled_pax_combinations]:[],R.value=!0},le=()=>{R.value=!1,n.reset(),m.value=""},ce=()=>{var _,k,f;if(!((_=n.name)!=null&&_.trim())){m.value="Room type name is required";return}if(!n.max_occupancy||n.max_occupancy<1){m.value="Maximum occupancy must be at least 1";return}const a=new FormData;a.append("_method","PUT"),a.append("name",n.name.trim()),a.append("bed_desc",((k=n.bed_desc)==null?void 0:k.trim())||""),a.append("description",((f=n.description)==null?void 0:f.trim())||""),a.append("max_occupancy",n.max_occupancy),a.append("max_adults",n.max_adults||""),a.append("max_children",n.max_children||""),a.append("max_infants",n.max_infants||""),a.append("package_id",v.package.id),a.append("return_to_package","true"),Array.isArray(P.value)&&P.value.length>0?P.value.forEach((s,d)=>{a.append(`disabled_pax_combinations[${d}]`,s)}):a.append("disabled_pax_combinations","");const t=n.images.some(s=>s instanceof File),b=n.delete_images.length>0;t&&n.images.forEach((s,d)=>{s instanceof File&&a.append(`images[${d}]`,s)}),b&&n.delete_images.forEach((s,d)=>{a.append(`delete_images[${d}]`,s)}),J.post(route("room-types.update",n.id),a,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(s=>{n.processing=!1,R.value=!1,L.fire({icon:"success",title:"Success",text:"Room type updated successfully"}),n.reset(),G(1)}).catch(s=>{var d,j,E,I;if(n.processing=!1,(j=(d=s.response)==null?void 0:d.data)!=null&&j.errors){const y=s.response.data.errors;if(y.images)m.value=Array.isArray(y.images)?y.images.join(", "):y.images;else if(y.name)m.value=y.name[0];else if(y.max_occupancy)m.value=y.max_occupancy[0];else if(y.package_id)m.value=y.package_id[0];else{const H=Object.entries(y).map(([S,N])=>`${S}: ${Array.isArray(N)?N.join(", "):N}`).join(`
`);m.value=H}}else(I=(E=s.response)==null?void 0:E.data)!=null&&I.message?m.value=s.response.data.message:m.value="Failed to update room type. Please try again."}).finally(()=>{n.processing=!1})},pe=a=>{const t=a.name.replace(/\s\(Copy(?:\s\d+)?\)$/,"");let b=t+" (Copy)";const _=g.value.data.map(k=>k.name);if(_.includes(b)){let k=1;for(;_.includes(t+" (Copy "+(k+1)+")");)k++;b=t+" (Copy "+(k+1)+")"}i.reset(),i.name=b,i.bed_desc=a.bed_desc||"",i.description=a.description||"",i.max_occupancy=parseInt(a.max_occupancy)||4,i.max_adults=parseInt(a.max_adults)||null,i.max_children=parseInt(a.max_children)||null,i.max_infants=parseInt(a.max_infants)||null,i.package_id=parseInt(v.package.id),i.originalRoomTypeId=a.id,i.images=Array.isArray(a.images)?[...a.images]:[],i.existing_images=Array.isArray(a.images)?[...a.images]:[],i.return_to_package=!0,c.value="",p.value=!0},de=()=>{p.value=!1,i.reset(),c.value=""},ge=()=>{var _,k,f;if(!((_=i.name)!=null&&_.trim())){c.value="Room type name is required";return}if(!i.max_occupancy||i.max_occupancy<1){c.value="Maximum occupancy must be at least 1";return}i.processing=!0,c.value="";const a=new FormData;a.append("name",i.name.trim()),a.append("bed_desc",((k=i.bed_desc)==null?void 0:k.trim())||""),a.append("description",((f=i.description)==null?void 0:f.trim())||""),a.append("max_occupancy",i.max_occupancy),a.append("max_adults",i.max_adults||""),a.append("max_children",i.max_children||""),a.append("max_infants",i.max_infants||""),a.append("package_id",v.package.id),a.append("return_to_package","true");const t=i.images.filter(s=>typeof s=="string"),b=i.images.filter(s=>s instanceof File);t.forEach((s,d)=>{a.append(`existing_images[${d}]`,s)}),b.length>0&&b.forEach((s,d)=>{a.append(`images[${d}]`,s)}),J.post(route("room-types.duplicate",i.originalRoomTypeId),a,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(s=>{i.processing=!1,p.value=!1,L.fire({icon:"success",title:"Success",text:"Room type duplicated successfully"}),i.reset(),oe.get(route("packages.show",v.package.id))}).catch(s=>{var d,j,E,I;if(i.processing=!1,(j=(d=s.response)==null?void 0:d.data)!=null&&j.errors){const y=s.response.data.errors;if(y.images)c.value=Array.isArray(y.images)?y.images.join(", "):y.images;else if(y.name)c.value=y.name[0];else if(y.max_occupancy)c.value=y.max_occupancy[0];else if(y.package_id)c.value=y.package_id[0];else{const H=Object.entries(y).map(([S,N])=>`${S}: ${Array.isArray(N)?N.join(", "):N}`).join(`
`);c.value=H}}else(I=(E=s.response)==null?void 0:E.data)!=null&&I.message?c.value=s.response.data.message:c.value="Failed to duplicate room type. Please try again."}).finally(()=>{i.processing=!1})},xe=a=>{L.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e3342f",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",showConfirmButton:!0,showCloseButton:!0}).then(t=>{t.isConfirmed&&oe.delete(route("room-types.destroy",a),{data:{return_to_package:!0},preserveState:!0,preserveScroll:!0,onSuccess:()=>{L.fire({title:"Deleted!",text:"Room type has been deleted.",icon:"success",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),G(1)}})})},Q=(a,t)=>{const b=Array.from(a.target.files);let _;t==="roomTypeForm"?_=r:t==="editRoomTypeForm"?_=n:t==="duplicateRoomTypeForm"&&(_=i);const k=b.filter(f=>f.type.startsWith("image/")?f.size>2*1024*1024?(L.fire({icon:"error",title:"File Too Large",text:`${f.name} is larger than 2MB.`,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),!1):!0:(L.fire({icon:"error",title:"Invalid File Type",text:`${f.name} is not an image file.`,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),!1));_.images=[..._.images,...k]},Z=(a,t)=>{let b;t==="roomTypeForm"?b=r:t==="editRoomTypeForm"?b=n:t==="duplicateRoomTypeForm"&&(b=i);const _=b.images[a];if(typeof _=="string"){if(t==="editRoomTypeForm")b.delete_images.push(_);else if(t==="duplicateRoomTypeForm"){const k=b.existing_images.indexOf(_);k>-1&&b.existing_images.splice(k,1)}}b.images.splice(a,1)},ee=a=>a.startsWith("images/")?`/${a}`:a.startsWith("room-types/")?`/images/${a}`:`/images/${a}`,te=a=>typeof a=="string"?ee(a):typeof window<"u"&&window.URL&&window.URL.createObjectURL?URL.createObjectURL(a):"",fe=a=>{L.fire({imageUrl:ee(a),imageAlt:"Room image",showConfirmButton:!1,showCloseButton:!0,customClass:{container:"image-modal",popup:"max-w-4xl",closeButton:"text-gray-500 hover:text-gray-700",image:"max-h-[80vh] object-contain"},background:"#f8f9fa",padding:"1rem",width:"auto",backdrop:"rgba(0,0,0,0.8)"})};return(a,t)=>{var b,_,k,f;return l(),u("div",Le,[e("div",Se,[t[29]||(t[29]=e("h3",{class:"text-md font-medium text-gray-900"},"Room Types",-1)),e("button",{onClick:t[0]||(t[0]=s=>F.value=!0),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"}," Add Room Type ")]),e("div",Ne,[e("table",Oe,[t[32]||(t[32]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Images"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Max Occupancy"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Max Adults"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Max Children"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Max Infants"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Bed Desc"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Description"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",qe,[((_=(b=g.value)==null?void 0:b.data)==null?void 0:_.length)>0?(l(!0),u(O,{key:0},q(g.value.data,s=>(l(),u("tr",{key:s.id},[e("td",Ge,[s.images&&s.images.length>0?(l(),u("div",He,[(l(!0),u(O,null,q(s.images,(d,j)=>(l(),u("div",{key:j,class:"relative group"},[e("img",{src:ee(d),class:"h-16 w-16 object-cover rounded-lg",alt:"Room type image"},null,8,Ke),e("div",We,[e("button",{class:"opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity duration-300 bg-white/90 rounded-full p-1.5 shadow-lg cursor-pointer pointer-events-auto",onClick:E=>fe(d),"aria-label":"Enlarge image"},t[30]||(t[30]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})],-1)]),8,ze)])]))),128))])):(l(),u("span",Xe,"No images"))]),e("td",Je,M(s.name),1),e("td",Ye,M(s.max_occupancy),1),e("td",Qe,M(s.max_adults),1),e("td",Ze,M(s.max_children),1),e("td",et,M(s.max_infants),1),e("td",tt,M(s.bed_desc),1),e("td",st,M(s.description),1),e("td",at,[e("button",{onClick:d=>me(s),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Edit ",8,ot),e("button",{onClick:d=>pe(s),class:"text-blue-600 hover:text-blue-900 mr-3"}," Duplicate ",8,nt),e("button",{onClick:d=>xe(s.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,it)])]))),128)):(l(),u("tr",rt,t[31]||(t[31]=[e("td",{colspan:"6",class:"text-center text-gray-500 py-4 border-t border-b border-gray-300"},"No room types found",-1)])))])])]),((f=(k=g.value)==null?void 0:k.links)==null?void 0:f.length)>0?(l(),u("div",lt,[(l(),ve(_e,{links:D.value.links,from:D.value.from,to:D.value.to,total:D.value.total,"component-loading":!0,onPageChange:G,key:B.value},null,8,["links","from","to","total"]))])):T("",!0),W(ne,{show:F.value,onClose:t[11]||(t[11]=()=>{F.value=!1,o(r).reset(),x.value.value="",A.value.value=[]})},{default:z(()=>[e("div",dt,[t[46]||(t[46]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Add Room Type",-1)),x.value?(l(),u("div",ut,M(x.value),1)):T("",!0),e("form",{onSubmit:ae(re,["prevent"])},[W(ue,{"max-adults":o(r).max_adults,"max-children":o(r).max_children,"max-infants":o(r).max_infants,"max-pax":o(r).max_occupancy,"disabled-pax-combinations":o(r).disabled_pax_combinations,tab1Label:"Room Type Details","onUpdate:selectedCombinations":t[9]||(t[9]=s=>$(s))},{tab1:z(()=>[e("div",mt,[e("div",null,[t[33]||(t[33]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),w(e("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=s=>o(r).name=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[C,o(r).name]])]),e("div",null,[t[34]||(t[34]=e("label",{for:"max_occupancy",class:"block text-sm font-medium text-gray-700"},"Max Occupancy",-1)),w(e("input",{type:"number",id:"max_occupancy","onUpdate:modelValue":t[2]||(t[2]=s=>o(r).max_occupancy=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",required:""},null,512),[[C,o(r).max_occupancy]])]),e("div",ct,[e("div",null,[t[35]||(t[35]=e("label",{for:"max_adults",class:"block text-sm font-medium text-gray-700"},"Max Adults",-1)),w(e("input",{type:"number",id:"max_adults","onUpdate:modelValue":t[3]||(t[3]=s=>o(r).max_adults=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(r).max_adults]])]),e("div",null,[t[36]||(t[36]=e("label",{for:"max_children",class:"block text-sm font-medium text-gray-700"},"Max Children",-1)),w(e("input",{type:"number",id:"max_children","onUpdate:modelValue":t[4]||(t[4]=s=>o(r).max_children=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(r).max_children]])]),e("div",null,[t[37]||(t[37]=e("label",{for:"max_infants",class:"block text-sm font-medium text-gray-700"},"Max Infants",-1)),w(e("input",{type:"number",id:"max_infants","onUpdate:modelValue":t[5]||(t[5]=s=>o(r).max_infants=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(r).max_infants]])])]),e("div",null,[t[38]||(t[38]=e("label",{for:"bed_desc",class:"block text-sm font-medium text-gray-700"},"Bed Desc",-1)),w(e("textarea",{id:"bed_desc","onUpdate:modelValue":t[6]||(t[6]=s=>o(r).bed_desc=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"2"},null,512),[[C,o(r).bed_desc]])]),e("div",null,[t[39]||(t[39]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),w(e("textarea",{id:"description","onUpdate:modelValue":t[7]||(t[7]=s=>o(r).description=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3"},null,512),[[C,o(r).description]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700"},"Images",-1)),e("div",pt,[e("div",gt,[t[42]||(t[42]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",xt,[e("label",ft,[t[40]||(t[40]=e("span",null,"Upload images",-1)),e("input",{id:"images",type:"file",multiple:"",accept:"image/*",class:"sr-only",onChange:t[8]||(t[8]=s=>Q(s,"roomTypeForm"))},null,32)]),t[41]||(t[41]=e("p",{class:"pl-1"},"or drag and drop",-1))]),t[43]||(t[43]=e("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 2MB each",-1))])]),o(r).images.length>0?(l(),u("div",bt,[(l(!0),u(O,null,q(o(r).images,(s,d)=>(l(),u("div",{key:d,class:"relative"},[e("img",{src:te(s),class:"h-24 w-full object-cover rounded-lg",alt:"Room type image"},null,8,yt),e("button",{type:"button",onClick:j=>Z(d,"roomTypeForm"),class:"absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600"},t[44]||(t[44]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,vt)]))),128))])):T("",!0)])])]),_:1},8,["max-adults","max-children","max-infants","max-pax","disabled-pax-combinations"]),e("div",_t,[e("button",{type:"button",onClick:t[10]||(t[10]=()=>{F.value=!1,o(r).reset(),x.value.value="",A.value.value=[]}),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:o(r).processing}," Create Room Type ",8,ht)])],32)])]),_:1},8,["show"]),W(ne,{show:p.value,onClose:de},{default:z(()=>[e("div",kt,[t[60]||(t[60]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Duplicate Room Type",-1)),c.value?(l(),u("div",wt,M(c.value),1)):T("",!0),e("form",{onSubmit:ae(ge,["prevent"])},[e("div",Ct,[e("div",null,[t[47]||(t[47]=e("label",{for:"duplicate_name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),w(e("input",{type:"text",id:"duplicate_name","onUpdate:modelValue":t[12]||(t[12]=s=>o(i).name=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[C,o(i).name]])]),e("div",null,[t[48]||(t[48]=e("label",{for:"duplicate_max_occupancy",class:"block text-sm font-medium text-gray-700"},"Max Occupancy",-1)),w(e("input",{type:"number",id:"duplicate_max_occupancy","onUpdate:modelValue":t[13]||(t[13]=s=>o(i).max_occupancy=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",required:""},null,512),[[C,o(i).max_occupancy]])]),e("div",$t,[e("div",null,[t[49]||(t[49]=e("label",{for:"duplicate_max_adults",class:"block text-sm font-medium text-gray-700"},"Max Adults",-1)),w(e("input",{type:"number",id:"duplicate_max_adults","onUpdate:modelValue":t[14]||(t[14]=s=>o(i).max_adults=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(i).max_adults]])]),e("div",null,[t[50]||(t[50]=e("label",{for:"duplicate_max_children",class:"block text-sm font-medium text-gray-700"},"Max Children",-1)),w(e("input",{type:"number",id:"duplicate_max_children","onUpdate:modelValue":t[15]||(t[15]=s=>o(i).max_children=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(i).max_children]])]),e("div",null,[t[51]||(t[51]=e("label",{for:"duplicate_max_infants",class:"block text-sm font-medium text-gray-700"},"Max Infants",-1)),w(e("input",{type:"number",id:"duplicate_max_infants","onUpdate:modelValue":t[16]||(t[16]=s=>o(i).max_infants=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(i).max_infants]])])]),e("div",null,[t[52]||(t[52]=e("label",{for:"duplicate_bed_desc",class:"block text-sm font-medium text-gray-700"},"Bed Desc",-1)),w(e("textarea",{id:"duplicate_bed_desc","onUpdate:modelValue":t[17]||(t[17]=s=>o(i).bed_desc=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"2"},null,512),[[C,o(i).bed_desc]])]),e("div",null,[t[53]||(t[53]=e("label",{for:"duplicate_description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),w(e("textarea",{id:"duplicate_description","onUpdate:modelValue":t[18]||(t[18]=s=>o(i).description=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3"},null,512),[[C,o(i).description]])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700"},"Images",-1)),e("div",Rt,[e("div",It,[t[56]||(t[56]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",Mt,[e("label",At,[t[54]||(t[54]=e("span",null,"Upload images",-1)),e("input",{id:"duplicate_images",type:"file",multiple:"",accept:"image/*",class:"sr-only",onChange:t[19]||(t[19]=s=>Q(s,"duplicateRoomTypeForm"))},null,32)]),t[55]||(t[55]=e("p",{class:"pl-1"},"or drag and drop",-1))]),t[57]||(t[57]=e("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 2MB each",-1))])]),o(i).images.length>0?(l(),u("div",Ft,[(l(!0),u(O,null,q(o(i).images,(s,d)=>(l(),u("div",{key:d,class:"relative"},[e("img",{src:te(s),class:"h-24 w-full object-cover rounded-lg",alt:"Room type image"},null,8,jt),e("button",{type:"button",onClick:j=>Z(d,"duplicateRoomTypeForm"),class:"absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600"},t[58]||(t[58]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Bt)]))),128))])):T("",!0)])]),e("div",Ut,[e("button",{type:"button",onClick:de,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:o(i).processing}," Create Duplicate ",8,Tt)])],32)])]),_:1},8,["show"]),W(ne,{show:R.value,onClose:le},{default:z(()=>[e("div",Dt,[t[74]||(t[74]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Edit Room Type",-1)),m.value?(l(),u("div",Pt,M(m.value),1)):T("",!0),e("form",{onSubmit:ae(ce,["prevent"])},[W(ue,{"max-adults":o(n).max_adults,"max-children":o(n).max_children,"max-infants":o(n).max_infants,"max-pax":o(n).max_occupancy,"disabled-pax-combinations":o(n).disabled_pax_combinations,tab1Label:"Room Type Details","onUpdate:selectedCombinations":t[28]||(t[28]=s=>h(s))},{tab1:z(()=>[e("div",Vt,[e("div",null,[t[61]||(t[61]=e("label",{for:"edit_name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),w(e("input",{type:"text",id:"edit_name","onUpdate:modelValue":t[20]||(t[20]=s=>o(n).name=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[C,o(n).name]])]),e("div",null,[t[62]||(t[62]=e("label",{for:"edit_max_occupancy",class:"block text-sm font-medium text-gray-700"},"Max Occupancy",-1)),w(e("input",{type:"number",id:"edit_max_occupancy","onUpdate:modelValue":t[21]||(t[21]=s=>o(n).max_occupancy=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",required:""},null,512),[[C,o(n).max_occupancy]])]),e("div",Et,[e("div",null,[t[63]||(t[63]=e("label",{for:"max_adults",class:"block text-sm font-medium text-gray-700"},"Max Adults",-1)),w(e("input",{type:"number",id:"max_adults","onUpdate:modelValue":t[22]||(t[22]=s=>o(n).max_adults=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(n).max_adults]])]),e("div",null,[t[64]||(t[64]=e("label",{for:"max_children",class:"block text-sm font-medium text-gray-700"},"Max Children",-1)),w(e("input",{type:"number",id:"max_children","onUpdate:modelValue":t[23]||(t[23]=s=>o(n).max_children=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(n).max_children]])]),e("div",null,[t[65]||(t[65]=e("label",{for:"max_infants",class:"block text-sm font-medium text-gray-700"},"Max Infants",-1)),w(e("input",{type:"number",id:"max_infants","onUpdate:modelValue":t[24]||(t[24]=s=>o(n).max_infants=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1"},null,512),[[C,o(n).max_infants]])])]),e("div",null,[t[66]||(t[66]=e("label",{for:"edit_bed_desc",class:"block text-sm font-medium text-gray-700"},"Bed Desc",-1)),w(e("textarea",{id:"edit_bed_desc","onUpdate:modelValue":t[25]||(t[25]=s=>o(n).bed_desc=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"2"},null,512),[[C,o(n).bed_desc]])]),e("div",null,[t[67]||(t[67]=e("label",{for:"edit_description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),w(e("textarea",{id:"edit_description","onUpdate:modelValue":t[26]||(t[26]=s=>o(n).description=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3"},null,512),[[C,o(n).description]])]),e("div",null,[t[73]||(t[73]=e("label",{class:"block text-sm font-medium text-gray-700"},"Images",-1)),e("div",Lt,[e("div",St,[t[70]||(t[70]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",Nt,[e("label",Ot,[t[68]||(t[68]=e("span",null,"Upload images",-1)),e("input",{id:"edit_images",type:"file",multiple:"",accept:"image/*",class:"sr-only",onChange:t[27]||(t[27]=s=>Q(s,"editRoomTypeForm"))},null,32)]),t[69]||(t[69]=e("p",{class:"pl-1"},"or drag and drop",-1))]),t[71]||(t[71]=e("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 2MB each",-1))])]),o(n).images.length>0?(l(),u("div",qt,[(l(!0),u(O,null,q(o(n).images,(s,d)=>(l(),u("div",{key:d,class:"relative"},[e("img",{src:te(s),class:"h-24 w-full object-cover rounded-lg",alt:"Room type image"},null,8,Gt),e("button",{type:"button",onClick:j=>Z(d,"editRoomTypeForm"),class:"absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600"},t[72]||(t[72]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Ht)]))),128))])):T("",!0)])])]),_:1},8,["max-adults","max-children","max-infants","max-pax","disabled-pax-combinations"]),e("div",Kt,[e("button",{type:"button",onClick:le,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:o(n).processing}," Update Room Type ",8,Wt)])],32)])]),_:1},8,["show"])])}}},ts=he(zt,[["__scopeId","data-v-7749d853"]]);export{ts as default};

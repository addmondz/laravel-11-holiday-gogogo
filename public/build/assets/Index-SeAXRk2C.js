import{r as C,W as u,g as i,o as a,a as n,u as d,m as S,w as c,b as e,P as v,f as b,h as m,t as l,j as B,q as D,F as w,y as A}from"./app-FfNZBocX.js";import{A as N}from"./AuthenticatedLayout-cJtEudnj.js";import{h as Y}from"./moment-C5S46NFB.js";import{d as E}from"./debounce-CaVWaxUF.js";import{P as U}from"./Pagination-BSmulVhi.js";import{S as f}from"./sweetalert2.esm.all-B0Dix5B2.js";import"./ApplicationLogo-BSHsWFks.js";import"./LoadingComponent-UEHJGlmh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-CSeWqUs1.js";const V={class:"pb-12 pt-6"},j={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},P={class:"p-6 text-gray-900"},T={class:"flex justify-between items-center mb-6"},F={class:"mb-6"},I={key:0,class:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert"},L={class:"block sm:inline"},O={key:1,class:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"},W={class:"block sm:inline"},$={class:"flex gap-4"},q={class:"flex-1"},z={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-white divide-y divide-gray-200"},J={key:0},K={class:"px-6 py-4 whitespace-nowrap"},Q={class:"text-sm font-medium text-gray-900"},R={class:"px-6 py-4 whitespace-nowrap"},X={class:"text-sm text-gray-900"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"text-sm text-gray-900"},te={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},se=["onClick"],re={class:"mt-6"},ge={__name:"Index",props:{users:Object,filters:Object},setup(o){var g;const p=C(((g=o.filters)==null?void 0:g.search)||""),x=E(s=>{u.get(route("users.index"),{search:s.target.value},{preserveState:!0,preserveScroll:!0})},1e3),_=s=>{f.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e3342f",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&u.delete(route("users.destroy",s),{preserveScroll:!0,onSuccess:()=>{f.fire("Deleted!","User has been deleted.","success"),u.visit(route("users.index"))},onError:()=>{f.fire("Error!","Failed to delete user.","error")}})})},k=s=>Y(s).format("DD MMM YYYY");return(s,t)=>(a(),i(w,null,[n(d(S),{title:"Users"}),n(N,null,{header:c(()=>t[2]||(t[2]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:c(()=>{var h,y;return[e("div",V,[e("div",j,[e("div",M,[e("div",P,[e("div",T,[t[4]||(t[4]=e("h3",{class:"text-lg font-medium"},"All Users",-1)),n(d(v),{href:s.route("users.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 hover:ring hover:ring-indigo-600"},{default:c(()=>t[3]||(t[3]=[b(" Create User ")])),_:1},8,["href"])]),e("div",F,[(h=s.flash)!=null&&h.success?(a(),i("div",I,[e("span",L,l(s.flash.success),1)])):m("",!0),(y=s.flash)!=null&&y.error?(a(),i("div",O,[e("span",W,l(s.flash.error),1)])):m("",!0),e("div",$,[e("div",q,[B(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>p.value=r),placeholder:"Search users...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onInput:t[1]||(t[1]=(...r)=>d(x)&&d(x)(...r))},null,544),[[D,p.value]])])])]),e("div",z,[e("table",G,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created At "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",H,[o.users.length===0?(a(),i("tr",J,t[5]||(t[5]=[e("td",{colspan:"4",class:"px-6 py-4 text-center text-gray-500"}," No users found ",-1)]))):(a(!0),i(w,{key:1},A(o.users.data,r=>(a(),i("tr",{key:r.id},[e("td",K,[e("div",Q,l(r.name),1)]),e("td",R,[e("div",X,l(r.email),1)]),e("td",Z,[e("div",ee,l(k(r.created_at)),1)]),e("td",te,[n(d(v),{href:s.route("users.edit",r.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:c(()=>t[6]||(t[6]=[b(" Edit ")])),_:2},1032,["href"]),r.id!==s.$page.props.auth.user.id?(a(),i("button",{key:0,onClick:ie=>_(r.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,se)):m("",!0)])]))),128))])])]),e("div",re,[n(U,{links:o.users.links,from:o.users.from,to:o.users.to,total:o.users.total},null,8,["links","from","to","total"])])])])])])]}),_:1})],64))}};export{ge as default};

import{k as u,i as _,g as a,o,a as P,u as T,m as E,w as S,b as e,P as R,f as U,j as b,F as r,s as d,t as i,q as h,h as C,y as $}from"./app-Bvcs0gQQ.js";import{_ as j}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-jgeyzVuY.js";import"./ApplicationLogo-C1Ad-eBL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"pb-12 pt-6"},I={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"p-6 text-gray-900"},L={class:"flex justify-between items-center mb-6"},z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},G=["value"],H=["value"],J=["value"],K=["value"],O={class:"flex mb-8 space-x-4"},Q=["disabled"],W={key:0,class:"space-y-8"},X={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-gray-200"},Z={class:"bg-gray-50"},ee={class:"bg-white divide-y divide-gray-200"},te={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},se={key:0,class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200"},oe={class:"bg-gray-50"},re={class:"bg-white divide-y divide-gray-200"},le={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},de={key:1,class:"overflow-x-auto"},ie={class:"min-w-full divide-y divide-gray-200"},ne={class:"bg-gray-50"},ue={class:"bg-white divide-y divide-gray-200"},ce={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ge={key:1,class:"text-center py-8 text-gray-600 border b-a border-solid border-gray-600 rounded-md"},me={key:2,class:"text-center py-8 text-gray-500 bg-gray-50 rounded-md"},fe={__name:"Index",props:{packages:Array,seasons:Array,dateTypes:Array,roomTypes:Array},setup(f){const c=u(""),g=u(""),m=u(""),y=u(""),p=u(!1),x=u(!1),v=u([]),A=_(()=>c.value&&g.value&&m.value&&y.value),V=_(()=>v.value.some(l=>l.type==="sur_charge")),N=_(()=>v.value.some(l=>l.type==="ext_charge")),D=()=>{$.post(route("configuration-prices.fetchPricesSearchIndex"),{package_configuration_id:c.value,season_id:g.value,date_type_id:m.value,room_type:y.value}).then(l=>{l.data&&l.data.length>0?(v.value=l.data[0].prices,p.value=!0,x.value=!0):(p.value=!0,x.value=!1)}).catch(l=>{console.error("Error fetching prices:",l),p.value=!0,x.value=!1})},w=(l,s,t)=>{const n=v.value.find(k=>k.number_of_adults===l&&k.number_of_children===s&&k.type===t);return n?`$${n.adult_price}`:"-"},B=()=>{c.value="",g.value="",m.value="",y.value="",p.value=!1,x.value=!1,v.value=[]};return(l,s)=>(o(),a(r,null,[P(T(E),{title:"Configuration Prices"}),P(j,null,{header:S(()=>s[4]||(s[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:S(()=>[e("div",F,[e("div",I,[e("div",M,[e("div",q,[e("div",L,[s[6]||(s[6]=e("h3",{class:"text-lg font-medium text-gray-900"}," All Prices ",-1)),P(T(R),{href:l.route("configuration-prices.create"),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"},{default:S(()=>s[5]||(s[5]=[U(" Create New Price ")])),_:1},8,["href"])]),e("div",z,[e("div",null,[s[8]||(s[8]=e("label",{for:"package",class:"block text-sm font-medium text-gray-700"},"Package",-1)),b(e("select",{id:"package","onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[7]||(s[7]=e("option",{value:""},"Select Package",-1)),(o(!0),a(r,null,d(f.packages,t=>(o(),a("option",{key:t.id,value:t.id},i(t.name),9,G))),128))],512),[[h,c.value]])]),e("div",null,[s[10]||(s[10]=e("label",{for:"season",class:"block text-sm font-medium text-gray-700"},"Season",-1)),b(e("select",{id:"season","onUpdate:modelValue":s[1]||(s[1]=t=>g.value=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[9]||(s[9]=e("option",{value:""},"Select Season",-1)),(o(!0),a(r,null,d(f.seasons,t=>(o(),a("option",{key:t.id,value:t.id},i(t.type.name),9,H))),128))],512),[[h,g.value]])]),e("div",null,[s[12]||(s[12]=e("label",{for:"dateType",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),b(e("select",{id:"dateType","onUpdate:modelValue":s[2]||(s[2]=t=>m.value=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[11]||(s[11]=e("option",{value:""},"Select Date Type",-1)),(o(!0),a(r,null,d(f.dateTypes,t=>(o(),a("option",{key:t.id,value:t.id},i(t.name),9,J))),128))],512),[[h,m.value]])]),e("div",null,[s[14]||(s[14]=e("label",{for:"roomType",class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),b(e("select",{id:"roomType","onUpdate:modelValue":s[3]||(s[3]=t=>y.value=t),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[s[13]||(s[13]=e("option",{value:""},"Select Room Type",-1)),(o(!0),a(r,null,d(f.roomTypes,t=>(o(),a("option",{key:t,value:t},i(t),9,K))),128))],512),[[h,y.value]])])]),e("div",O,[e("button",{onClick:D,disabled:!A.value,class:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Search Prices ",8,Q),e("button",{onClick:B,class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"}," Reset ")]),x.value?(o(),a("div",W,[e("div",X,[s[16]||(s[16]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Base Charges",-1)),e("table",Y,[e("thead",Z,[e("tr",null,[s[15]||(s[15]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(o(),a(r,null,d(6,t=>e("th",{key:t-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},i(t-1)+" Children ",1)),64))])]),e("tbody",ee,[(o(),a(r,null,d(6,t=>e("tr",{key:t},[e("td",te,i(t)+" Adults ",1),(o(),a(r,null,d(6,n=>e("td",{key:n-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},i(w(t,n-1,"base_charge")),1)),64))])),64))])])]),V.value?(o(),a("div",se,[s[18]||(s[18]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Surcharges",-1)),e("table",ae,[e("thead",oe,[e("tr",null,[s[17]||(s[17]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(o(),a(r,null,d(6,t=>e("th",{key:t-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},i(t-1)+" Children ",1)),64))])]),e("tbody",re,[(o(),a(r,null,d(6,t=>e("tr",{key:t},[e("td",le,i(t)+" Adults ",1),(o(),a(r,null,d(6,n=>e("td",{key:n-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},i(w(t,n-1,"sur_charge")),1)),64))])),64))])])])):C("",!0),N.value?(o(),a("div",de,[s[20]||(s[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Extra Charges",-1)),e("table",ie,[e("thead",ne,[e("tr",null,[s[19]||(s[19]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(o(),a(r,null,d(6,t=>e("th",{key:t-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},i(t-1)+" Children ",1)),64))])]),e("tbody",ue,[(o(),a(r,null,d(6,t=>e("tr",{key:t},[e("td",ce,i(t)+" Adults ",1),(o(),a(r,null,d(6,n=>e("td",{key:n-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},i(w(t,n-1,"ext_charge")),1)),64))])),64))])])])):C("",!0)])):p.value?(o(),a("div",ge," No prices found for the selected criteria. ")):(o(),a("div",me," Please select all options and click search to view the price matrix. "))])])])])]),_:1})],64))}};export{fe as default};

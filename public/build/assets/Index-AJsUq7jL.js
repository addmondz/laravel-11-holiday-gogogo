import{r as n,g as l,o as c,a as u,u as w,m as j,w as g,b as t,P as C,f as p,j as k,q as _,s as U,h as $,t as a,F,y as I,W as x}from"./app-C1-YVJKV.js";import{A as K}from"./AuthenticatedLayout-Bu82CIdP.js";import{S as P}from"./sweetalert2.esm.all-B0Dix5B2.js";import{P as O}from"./Pagination-tDCmOMnC.js";import{h as f}from"./moment-C5S46NFB.js";import"./ApplicationLogo-B42phjx_.js";import"./LoadingComponent-BISFBWVe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-CoiKaPik.js";const W={class:"pb-12 pt-6"},q={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},R={class:"p-6 text-gray-900"},z={class:"flex justify-between items-center mb-6"},G={class:"mb-6"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 bg-white rounded-lg shadow-sm pb-4"},J={class:"md:col-span-1 lg:col-span-2 space-y-2"},Q={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},X={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-gray-200"},tt={class:"bg-gray-50"},et={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},st={key:0,class:"text-indigo-600"},ot={class:"bg-white divide-y divide-gray-200"},at={key:0},it={class:"px-6 py-4 whitespace-nowrap"},rt={class:"text-sm font-medium text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap"},dt={class:"text-sm text-gray-900"},lt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"text-sm text-gray-900"},ut={class:"px-6 py-4 whitespace-nowrap"},mt={class:"text-sm text-gray-900"},gt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"text-sm text-gray-900"},xt={class:"text-sm text-gray-500"},ft={class:"px-6 py-4 whitespace-nowrap"},yt={class:"text-sm text-gray-900"},vt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},bt=["onClick"],ht=["onClick"],wt={class:"mt-6"},Nt={__name:"Index",props:{packages:Object,filters:Object},setup(i){const r=i,y=n(r.filters.search||""),S=n(r.filters.status||""),m=n(r.filters.sort||"created_at"),d=n(r.filters.direction||"desc"),v=n(r.filters.dateFrom||""),b=n(r.filters.dateTo||""),h=()=>{x.get(route("packages.index"),{search:y.value,status:S.value,sort:m.value,direction:d.value,dateFrom:v.value,dateTo:b.value},{preserveState:!0,preserveScroll:!0,replace:!0})},Y=o=>{m.value===o?d.value=d.value==="asc"?"desc":"asc":(m.value=o,d.value="asc"),h()},M=o=>{P.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e3342f",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&x.delete(route("packages.destroy",o),{onSuccess:()=>{P.fire("Deleted!","Package has been deleted.","success")}})})},N=o=>{x.visit(route("packages.duplicate-form",o))},T=o=>{const e=parseFloat(o);return isNaN(e)?"0.00":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},V=()=>{x.get(route("packages.index"),{},{preserveState:!1,preserveScroll:!1})},D=o=>f(o).format("DD MMM YYYY"),B=o=>f(o).format("DD MMM YYYY, h:mm A"),A=(o,e)=>f(e).diff(f(o),"days")+1;return(o,e)=>(c(),l(F,null,[u(w(j),{title:"Packages"}),u(K,null,{header:g(()=>e[4]||(e[4]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:g(()=>[t("div",W,[t("div",q,[t("div",E,[t("div",R,[t("div",z,[e[6]||(e[6]=t("h3",{class:"text-lg font-medium"},"All Packages",-1)),u(w(C),{href:o.route("packages.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 hover:ring hover:ring-indigo-600"},{default:g(()=>e[5]||(e[5]=[p(" Create Package ")])),_:1},8,["href"])]),t("div",G,[t("div",H,[t("div",J,[t("div",Q,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),k(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>v.value=s),class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[_,v.value]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date To",-1)),k(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>b.value=s),class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[_,b.value]])])]),e[9]||(e[9]=t("p",{class:"text-sm text-gray-600"},[p(" ðŸ’¡ "),t("strong",{class:"font-semibold text-gray-800"},"Date Filter:"),p(" Find packages available during your travel dates. Leave empty to see all packages. ")],-1))]),t("div",{onKeyup:U(h,["enter"])},[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search Packages",-1)),k(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>y.value=s),placeholder:"Search packages...",class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[_,y.value]])],32)]),t("div",{class:"mt-4 flex justify-start items-center gap-2"},[t("button",{onClick:h,class:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Search "),t("button",{onClick:V,class:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Clear Filters ")])]),t("div",X,[t("table",Z,[t("thead",tt,[t("tr",null,[t("th",et,[t("button",{onClick:e[3]||(e[3]=s=>Y("name")),class:"flex items-center space-x-1"},[e[11]||(e[11]=t("span",null,"Name",-1)),m.value==="name"?(c(),l("span",st,a(d.value==="asc"?"â†‘":"â†“"),1)):$("",!0)])]),e[12]||(e[12]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Package ID",-1)),e[13]||(e[13]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Location",-1)),e[14]||(e[14]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Price",-1)),e[15]||(e[15]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Period",-1)),e[16]||(e[16]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Last Modified",-1)),e[17]||(e[17]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",ot,[i.packages.data.length===0?(c(),l("tr",at,e[18]||(e[18]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"}," No packages found ",-1)]))):(c(!0),l(F,{key:1},I(i.packages.data,s=>(c(),l("tr",{key:s.id},[t("td",it,[t("div",rt,a(s.name),1)]),t("td",nt,[t("div",dt,a(s.uuid),1)]),t("td",lt,[t("div",ct,a(s.location),1)]),t("td",ut,[t("div",mt,"RM "+a(T(s.display_price_adult)),1)]),t("td",gt,[t("div",pt,a(D(s.package_start_date))+" - "+a(D(s.package_end_date)),1),t("div",xt,a(A(s.package_start_date,s.package_end_date))+" days ",1)]),t("td",ft,[t("div",yt,a(B(s.last_modified_at)),1)]),t("td",vt,[u(w(C),{href:o.route("packages.show",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:g(()=>e[19]||(e[19]=[p(" View ")])),_:2},1032,["href"]),t("button",{onClick:L=>M(s.id),class:"text-red-600 hover:text-red-900 mr-3"}," Delete ",8,bt),t("button",{onClick:L=>N(s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Duplicate ",8,ht)])]))),128))])])]),t("div",wt,[u(O,{links:i.packages.links,from:i.packages.from,to:i.packages.to,total:i.packages.total},null,8,["links","from","to","total"])])])])])])]),_:1})],64))}};export{Nt as default};

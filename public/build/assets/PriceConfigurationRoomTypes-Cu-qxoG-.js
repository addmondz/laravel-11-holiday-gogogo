import{a as $,l as m,i as U,g as a,o as n,b as s,h as w,j as b,q as k,F as c,s as y,f as R,u as X,t as u,v as z,y as F,n as Z,k as K}from"./app-BVOZ-4-A.js";import{S}from"./sweetalert2.esm.all-B0Dix5B2.js";import{L as ve}from"./LoadingComponent-CpRpWlwP.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as be}from"./AntdIcon-BI6Xqf10.js";var xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};function ee(p){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?Object(arguments[v]):{},f=Object.keys(g);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(g).filter(function(h){return Object.getOwnPropertyDescriptor(g,h).enumerable}))),f.forEach(function(h){he(p,h,g[h])})}return p}function he(p,v,g){return v in p?Object.defineProperty(p,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[v]=g,p}var B=function(v,g){var f=ee({},v,g.attrs);return $(be,ee({},f,{icon:xe}),null)};B.displayName="CopyOutlined";B.inheritAttrs=!1;const _e={class:"space-y-6"},Te={class:"bg-white shadow rounded-lg p-6"},Ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ke=["value"],Se=["value"],we=["value"],De={class:"mt-6 flex gap-2"},Ve=["disabled"],Re={key:0},Ae={key:1},Ue={key:0,class:"bg-white shadow rounded-lg p-6"},Oe={key:0,class:"flex items-center justify-center min-h-[300px]"},Pe={key:1,class:"text-center text-gray-500"},Me={key:2,class:"space-y-10"},$e={class:"flex items-center justify-between"},Be={class:"space-x-2"},Ie=["disabled"],je={key:0},Ne={key:1,class:"px-3 py-2"},Le={key:0,class:"mb-4"},qe={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Ee={class:"flex items-start space-x-3"},ze={class:"flex-1"},Fe={class:"text-sm text-blue-700"},He={class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},Ye=["data-package-config-id"],Je={class:"flex items-center justify-between"},Qe={class:"font-medium text-gray-900"},We={style:{"margin-top":"10px"}},Ge={class:"overflow-x-auto border rounded-lg"},Xe={class:"min-w-full text-sm"},Ze={class:"bg-gray-200"},Ke=["colspan"],et={class:"px-4 py-2 align-middle whitespace-nowrap font-medium text-gray-800"},tt={class:"flex flex-col items-start justify-start w-32"},st={class:"text-xs text-gray-600"},ot={key:0,class:"flex items-center rounded-md shadow-sm border border-gray-300 focus-within:ring-2 focus-within:ring-indigo-500"},at=["onUpdate:modelValue"],nt=["onClick"],lt={key:1,class:"mt-1 font-medium"},rt={key:0,style:{"margin-top":"0"}},it={class:"overflow-x-auto border rounded-lg"},ut={class:"min-w-full text-sm"},dt={class:"bg-gray-200"},ct={class:"px-4 py-3 font-medium text-gray-800 whitespace-nowrap"},pt=["onUpdate:modelValue"],gt={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",style:{"margin-top":"0"}},mt={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white"},yt={class:"mt-3"},vt={class:"space-y-6"},ft={class:"bg-gray-50 p-4 rounded-lg"},bt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},xt=["value"],ht=["value"],_t=["value"],Tt={class:"bg-green-50 p-4 rounded-lg"},Ct={class:"flex items-center justify-between"},kt={class:"text-sm text-gray-500 mr-2"},St=["onUpdate:modelValue"],wt=["value"],Dt=["onUpdate:modelValue"],Vt=["value"],Rt={class:"flex gap-2"},At=["onUpdate:modelValue"],Ut=["value"],Ot=["onClick"],Pt={key:0,class:"bg-green-50 p-4 rounded-lg"},Mt={class:"space-y-2 max-h-48 overflow-y-auto"},$t=["id","value"],Bt=["for"],It={class:"text-gray-500"},jt={class:"bg-yellow-50 p-4 rounded-lg"},Nt={class:"space-y-2"},Lt={class:"flex items-center"},qt={class:"flex items-center"},Et={class:"flex justify-end space-x-3 pt-4"},zt=["disabled"],Ft={key:0},Ht={key:1},Yt={__name:"PriceConfigurationRoomTypes",props:{packageId:{type:Number,required:!0},seasonTypes:{type:Array,required:!0},dateTypes:{type:Array,required:!0},packageUniqueRoomTypes:{type:Object,required:!0},allSeasonTypes:{type:Array,required:!0},allDateTypes:{type:Array,required:!0},assignedSeasonTypes:{type:Array,required:!0},assignedDateTypes:{type:Array,required:!0}},setup(p){const v=p,g=m(""),f=m(""),h=m(""),A=m(!1),I=m(!1),_=m(!1),O=m(!1),j=m(!1),P=m(!1);m(!1),m(!1);const M=m([]),N=m([]),r=m({sourceSeason:"",sourceDateType:"",sourceRoomType:"",selectedSourceConfig:null,targetConfigurations:[{season:"",dateType:"",roomType:""}],includeBaseCharges:!0,includeSurcharges:!0}),D=m(1),te=()=>{r.value.targetConfigurations.push({season:"",dateType:"",roomType:""}),D.value++},se=l=>{r.value.targetConfigurations.length>1&&(r.value.targetConfigurations.splice(l,1),D.value--)},oe=()=>{me(),j.value=!0},C=m([]),H=m({}),ae=U(()=>!!g.value&&!!f.value),Y=l=>Number(l??0).toFixed(2);U(()=>r.value.sourceSeason&&r.value.sourceDateType),U(()=>r.value.targetSeason&&r.value.targetDateType),U(()=>g.value&&f.value&&C.value.length>0);const J=U(()=>r.value.targetConfigurations.some(e=>e.season&&e.dateType)?r.value.targetConfigurations.some(e=>e.season===r.value.sourceSeason&&e.dateType===r.value.sourceDateType&&e.roomType===r.value.sourceRoomType)?(S.fire({icon:"error",title:"Error",text:"Source and target cannot be the same"}),!1):!0:!1),ne=/^(\d+)_a_(\d+)_c_(\d+)_i$/,L=l=>{var e;const t=(e=l==null?void 0:l.match)==null?void 0:e.call(l,ne);return t?{a:+t[1],c:+t[2],i:+t[3]}:null},Q=l=>{const t=L(l);if(!t)return l||"";const e=(o,i,x)=>`${o} ${o===1?i:x||i+"s"}`;return`${e(t.a,"Adult")} + ${e(t.c,"Child","Children")} + ${e(t.i,"Infant")}`},le=l=>[...l].sort((t,e)=>{const o=L(t)||{a:0,c:0,i:0},i=L(e)||{a:0,c:0,i:0};return o.a!==i.a?i.a-o.a:o.c!==i.c?i.c-o.c:i.i-o.i}),W=l=>{const t=Object.keys(l||{});return le(t).map(o=>[o,l[o]])},re=l=>l==="a"||l==="c"||l==="i",G=l=>{const t=Object.keys(l??{}),e=o=>{const i=o[0],d=!re(o)?parseInt(o.slice(1),10)||0:-1;return({a:1,c:2,i:3}[i]||9)*100+d};return t.sort((o,i)=>e(o)-e(i))},ie=l=>{if(!l)return"";const t=l[0],e=l.slice(1);return t==="a"?`Adult ${e}`:t==="c"?`Child ${e}`:t==="i"?`Infant ${e}`:l},ue=(l,t,e)=>{var T;if(!l||!t||!e)return;const o=(T=l.base)==null?void 0:T[t];if(!o)return;const i=o[e];if(i==null||i==="")return;const x=String(e)[0];let d=0;Object.keys(o).forEach(V=>{V.startsWith(x)&&(o[V]=Number(i),d++)});try{S.fire({toast:!0,timer:1200,timerProgressBar:!0,showConfirmButton:!1,icon:"success",title:`Updated ${d} ${x==="a"?"Adult":x==="c"?"Child":"Infant"} slot(s).`,text:"Please click on the save button to save the changes.",didOpen:V=>{V.addEventListener("mouseenter",S.stopTimer),V.addEventListener("mouseleave",S.resumeTimer)}})}catch{}},de=l=>l==="a"?"Adult (per pax)":l==="c"?"Child (per pax)":"Infant (per pax)",q=()=>{A.value=!0,I.value=!0,_.value=!1,F.post(route("configuration-prices.fetchPricesRoomTypes"),{package_id:v.packageId,season_type_id:g.value,date_type_id:f.value,room_type_id:h.value||void 0}).then(l=>{let t=l==null?void 0:l.data;if(typeof t=="string"){const e=t.replace(/,\s*(?=[}\]])/g,"");try{t=JSON.parse(e)}catch(o){console.error("Failed to parse API string after sanitizing:",o),t=[]}}t=Array.isArray(t)?t:[],H.value=t.reduce((e,o)=>{var d,T;const i=(o==null?void 0:o.room_type_id)??((d=o==null?void 0:o.room_type)==null?void 0:d.id),x=(T=o==null?void 0:o.room_type)==null?void 0:T.name;return i&&x&&(e[i]=x),e},{}),C.value=t.map(e=>{var i;const o=Array.isArray(e==null?void 0:e.prices)&&e.prices.length?e.prices[0]:null;return{room_type_id:(e==null?void 0:e.room_type_id)??((i=e==null?void 0:e.room_type)==null?void 0:i.id)??0,room_type_capacity:(e==null?void 0:e.room_type_capacity)??0,room_type_name:(e==null?void 0:e.room_type_name)??"",id:(e==null?void 0:e.id)??0,base:(o==null?void 0:o.base)??{},surch:(o==null?void 0:o.surch)??{}}})}).catch(l=>{console.error(l),S.fire({icon:"error",title:"Error",text:"Failed to fetch price configurations"}),C.value=[]}).finally(()=>{A.value=!1})},ce=()=>{g.value="",f.value="",h.value="",C.value=[],H.value={},I.value=!1,_.value=!1},pe=()=>{_.value=!1,q()},ge=()=>{O.value=!0;const l=C.value.map(e=>({package_configuration_id:Number(e.id)||null,room_type_id:Number(e.room_type_id)||null,base:e.base??{},surch:e.surch??{}})),t={package_id:v.packageId,season_type_id:g.value,date_type_id:f.value,rooms:l};F.put(route("configuration-prices.updateRoomTypePrices"),t).then(()=>{_.value=!1,S.fire({icon:"success",title:"Saved",timer:1200,showConfirmButton:!1}),q()}).catch(e=>{var o,i;console.error(e),S.fire({icon:"error",title:"Error",text:((i=(o=e.response)==null?void 0:o.data)==null?void 0:i.message)||"Failed to save"})}).finally(()=>{O.value=!1})},E=()=>{j.value=!1,M.value=[],N.value=[],r.value={sourceSeason:"",sourceDateType:"",sourceRoomType:"",selectedSourceConfig:null,targetConfigurations:[{season:"",dateType:"",roomType:""}],includeBaseCharges:!0,includeSurcharges:!0},D.value=1},me=()=>{r.value.sourceSeason=g.value,r.value.sourceDateType=f.value,r.value.sourceRoomType=h.value,M.value=C.value.map(l=>({id:l.id,room_type_id:l.room_type_id,room_type_capacity:l.room_type_capacity,room_type_name:l.room_type_name,base:l.base,surch:l.surch})),M.value.length===1&&(r.value.selectedSourceConfig=M.value[0])},ye=async()=>{var l,t;if(J.value){P.value=!0;try{const e=r.value.targetConfigurations.filter(i=>i.season&&i.dateType),o={package_id:v.packageId,source_season_type_id:r.value.sourceSeason,source_date_type_id:r.value.sourceDateType,source_room_type_id:r.value.sourceRoomType,target_configurations:e.map(i=>({season_type_id:i.season,date_type_id:i.dateType,room_type_id:i.roomType})),include_base_charges:r.value.includeBaseCharges,include_surcharges:r.value.includeSurcharges};await F.post(route("configuration-prices.duplicateToMultiple"),o),await S.fire({icon:"success",title:"Duplication Successful",text:`Price configuration duplicated to ${e.length} target configuration(s)`,timer:2e3,showConfirmButton:!1}),E()}catch(e){console.error("Duplication error:",e),await S.fire({icon:"error",title:"Duplication Failed",text:((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||"Failed to duplicate price configuration"})}finally{P.value=!1}}};return(l,t)=>(n(),a("div",_e,[s("div",Te,[s("div",Ce,[s("div",null,[t[11]||(t[11]=s("label",{class:"block text-sm font-medium text-gray-700"},"Season",-1)),b(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[10]||(t[10]=s("option",{value:""},"Select Season",-1)),(n(!0),a(c,null,y(p.assignedSeasonTypes,e=>(n(),a("option",{key:e.id,value:e.id},u(e.name),9,ke))),128))],512),[[k,g.value]])]),s("div",null,[t[13]||(t[13]=s("label",{class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),b(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[12]||(t[12]=s("option",{value:""},"Select Date Type",-1)),(n(!0),a(c,null,y(p.assignedDateTypes,e=>(n(),a("option",{key:e.id,value:e.id},u(e.name),9,Se))),128))],512),[[k,f.value]])]),s("div",null,[t[15]||(t[15]=s("label",{class:"block text-sm font-medium text-gray-700"},"Room Type (Optional)",-1)),b(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>h.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[14]||(t[14]=s("option",{value:""},"All Room Types",-1)),(n(!0),a(c,null,y(p.packageUniqueRoomTypes,(e,o)=>(n(),a("option",{key:o,value:o},u(e),9,we))),128))],512),[[k,h.value]])])]),s("div",De,[s("button",{onClick:q,disabled:!ae.value||A.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs disabled:opacity-50 disabled:cursor-not-allowed"},[A.value?(n(),a("span",Re,"Loading...")):(n(),a("span",Ae,"Search Prices"))],8,Ve),s("button",{onClick:ce,class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Reset ")])]),I.value?(n(),a("div",Ue,[A.value?(n(),a("div",Oe,[$(ve)])):C.value.length?(n(),a("div",Me,[s("div",$e,[t[16]||(t[16]=s("div",null,[s("h2",{class:"text-lg font-semibold"},"Price Matrix"),s("p",{class:"text-xs text-gray-500"}," Base charge applies to each slot (Adult 1, Adult 2, Child 1, …). Surcharge applies per person (Adult / Child / Infant). ")],-1)),s("div",Be,[_.value?w("",!0):(n(),a("button",{key:0,onClick:t[3]||(t[3]=e=>_.value=!0),class:"px-5 py-2 rounded bg-indigo-600 text-white text-sm"}," Edit All Prices ")),!_.value&&C.value.length>0?(n(),a("button",{key:1,onClick:oe,class:"px-5 py-2 rounded bg-green-600 text-white text-sm hover:bg-green-700"}," Duplicate to Multiple ")):(n(),a(c,{key:2},[s("button",{onClick:pe,class:"px-3 py-2 rounded bg-gray-100 text-gray-700 text-sm"}," Cancel "),s("button",{onClick:ge,class:"px-3 py-2 rounded bg-indigo-600 text-white text-sm",disabled:O.value},[O.value?(n(),a("span",je,"Saving...")):(n(),a("span",Ne,"Save"))],8,Ie)],64))])]),_.value?(n(),a("div",Le,[s("div",qe,[s("div",Ee,[t[22]||(t[22]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"h-5 w-5 text-blue-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),s("div",ze,[t[20]||(t[20]=s("h3",{class:"text-sm font-medium text-blue-800 mb-1"}," Quick Copy Feature ",-1)),s("p",Fe,[t[18]||(t[18]=R(" Click the ")),s("span",He,[$(X(B),{class:"h-3 w-3 mr-1"}),t[17]||(t[17]=R(" copy icon "))]),t[19]||(t[19]=R(" next to any price to automatically apply that value to the same row with the same person type. "))]),t[21]||(t[21]=s("div",{class:"mt-2 text-xs text-blue-600"},[s("span",{class:"font-medium"},"Person types:"),R(" Adult, Child, Infant ")],-1))])])])])):w("",!0),(n(!0),a(c,null,y(C.value,e=>(n(),a("div",{key:e.room_type_id,class:"space-y-8","data-package-config-id":e.id},[s("div",Je,[s("h3",Qe,u(e.room_type_name)+" ( "+u(e.room_type_capacity)+" pax ) ",1)]),s("section",We,[s("div",Ge,[s("table",Xe,[s("thead",Ze,[s("tr",null,[s("th",{class:"px-4 py-2 text-left",colspan:G(e.base).length}," Base Charge ",8,Ke)])]),s("tbody",null,[(n(!0),a(c,null,y(W(e.base),([o,i],x)=>(n(),a("tr",{key:o,class:Z(x%2?"bg-white":"bg-gray-50")},[s("td",et,u(Q(o)),1),(n(!0),a(c,null,y(G(i),d=>(n(),a("td",{class:"px-4 py-2",key:d},[s("div",tt,[s("span",st,u(ie(d)),1),_.value?(n(),a("div",ot,[b(s("input",{type:"number",step:"0.01",class:"w-full rounded-l-md border-none focus:ring-0 px-3 py-2","onUpdate:modelValue":T=>e.base[o][d]=T},null,8,at),[[K,e.base[o][d],void 0,{number:!0}]]),s("button",{type:"button",class:"flex items-center justify-center px-2 border-l border-gray-300 text-gray-500 hover:text-indigo-600 hover:bg-gray-50 rounded-r-md",title:"Copy this pax type's value across this row",onClick:T=>ue(e,o,d)},[$(X(B),{class:"h-5 w-5"})],8,nt)])):(n(),a("span",lt,"MYR "+u(Y(e.base[o][d])),1))])]))),128))],2))),128))])])])]),e.surch&&Object.keys(e.surch||{}).length?(n(),a("section",rt,[s("div",it,[s("table",ut,[s("thead",dt,[s("tr",null,[t[23]||(t[23]=s("th",{class:"px-4 py-2 text-left"},"Surcharge",-1)),(n(),a(c,null,y(["a","c","i"],o=>s("th",{key:o,class:"px-4 py-2 text-left"},u(de(o)),1)),64))])]),s("tbody",null,[(n(!0),a(c,null,y(W(e.surch),([o,i],x)=>(n(),a("tr",{key:o,class:Z(x%2?"bg-white":"bg-gray-50")},[s("td",ct,u(Q(o)),1),(n(),a(c,null,y(["a","c","i"],d=>s("td",{key:d,class:"px-4 py-2"},[i[d]!==void 0?(n(),a(c,{key:0},[_.value?b((n(),a("input",{key:0,type:"number",step:"0.01",class:"w-24 rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":T=>e.surch[o][d]=T},null,8,pt)),[[K,e.surch[o][d],void 0,{number:!0}]]):(n(),a(c,{key:1},[R(" MYR "+u(Y(i[d])),1)],64))],64)):w("",!0)])),64))],2))),128))])])])])):w("",!0)],8,Ye))),128))])):(n(),a("div",Pe," No price configurations found for the selected filters. "))])):w("",!0),j.value?(n(),a("div",gt,[s("div",mt,[s("div",yt,[s("div",{class:"flex items-center justify-between"},[t[25]||(t[25]=s("h3",{class:"text-lg font-medium text-gray-900"},"Duplicate Price Configuration",-1)),s("button",{onClick:E,class:"text-gray-400 hover:text-gray-600"},t[24]||(t[24]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t[44]||(t[44]=s("small",{class:"text-gray-500 mb-4 block"},' If you wish to duplicate to all room types, please select "All Room Types" for both target room type and source room type. ',-1)),s("div",vt,[s("div",ft,[t[32]||(t[32]=s("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Source Configuration (Copy From)",-1)),s("div",bt,[s("div",null,[t[27]||(t[27]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Season",-1)),b(s("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.value.sourceSeason=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[26]||(t[26]=s("option",{value:""},"Select Season",-1)),(n(!0),a(c,null,y(p.assignedSeasonTypes,e=>(n(),a("option",{key:e.id,value:e.id},u(e.name),9,xt))),128))],512),[[k,r.value.sourceSeason]])]),s("div",null,[t[29]||(t[29]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date Type",-1)),b(s("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.value.sourceDateType=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[28]||(t[28]=s("option",{value:""},"Select Date Type",-1)),(n(!0),a(c,null,y(p.assignedDateTypes,e=>(n(),a("option",{key:e.id,value:e.id},u(e.name),9,ht))),128))],512),[[k,r.value.sourceDateType]])]),s("div",null,[t[31]||(t[31]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Room Type (Optional)",-1)),b(s("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.value.sourceRoomType=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[30]||(t[30]=s("option",{value:""},"All Room Types",-1)),(n(!0),a(c,null,y(p.packageUniqueRoomTypes,(e,o)=>(n(),a("option",{key:o,value:o},u(e),9,_t))),128))],512),[[k,r.value.sourceRoomType]])])])]),s("div",Tt,[s("div",Ct,[t[33]||(t[33]=s("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Target Configuration (Copy To)",-1)),s("div",null,[s("span",kt,"Target Count: "+u(D.value),1),s("button",{onClick:te,class:"px-2 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-xs"}," Add Target ")])]),(n(!0),a(c,null,y(D.value,e=>(n(),a("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",key:e},[s("div",null,[t[35]||(t[35]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Season",-1)),b(s("select",{"onUpdate:modelValue":o=>r.value.targetConfigurations[e-1].season=o,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[34]||(t[34]=s("option",{value:""},"Select Season",-1)),(n(!0),a(c,null,y(p.assignedSeasonTypes,o=>(n(),a("option",{key:o.id,value:o.id},u(o.name),9,wt))),128))],8,St),[[k,r.value.targetConfigurations[e-1].season]])]),s("div",null,[t[37]||(t[37]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date Type",-1)),b(s("select",{"onUpdate:modelValue":o=>r.value.targetConfigurations[e-1].dateType=o,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[36]||(t[36]=s("option",{value:""},"Select Date Type",-1)),(n(!0),a(c,null,y(p.assignedDateTypes,o=>(n(),a("option",{key:o.id,value:o.id},u(o.name),9,Vt))),128))],8,Dt),[[k,r.value.targetConfigurations[e-1].dateType]])]),s("div",null,[t[39]||(t[39]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Room Type (Optional)",-1)),s("div",Rt,[b(s("select",{"onUpdate:modelValue":o=>r.value.targetConfigurations[e-1].roomType=o,class:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[38]||(t[38]=s("option",{value:""},"All Room Types",-1)),(n(!0),a(c,null,y(p.packageUniqueRoomTypes,(o,i)=>(n(),a("option",{key:i,value:i},u(o),9,Ut))),128))],8,At),[[k,r.value.targetConfigurations[e-1].roomType]]),D.value>1?(n(),a("button",{key:0,onClick:o=>se(e-1),class:"px-2 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-xs",title:"Remove this target"}," × ",8,Ot)):w("",!0)])])]))),128))]),N.value.length>0?(n(),a("div",Pt,[t[40]||(t[40]=s("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Target Configurations to Update",-1)),s("div",Mt,[(n(!0),a(c,null,y(N.value,e=>(n(),a("div",{key:`${e.room_type_id}-${e.id}`,class:"flex items-center"},[b(s("input",{type:"checkbox",id:`target-${e.room_type_id}-${e.id}`,value:e,"onUpdate:modelValue":t[7]||(t[7]=o=>r.value.selectedTargetConfigs=o),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,$t),[[z,r.value.selectedTargetConfigs]]),s("label",{for:`target-${e.room_type_id}-${e.id}`,class:"ml-2 text-sm text-gray-700"},[R(u(e.room_type_name)+" ("+u(e.room_type_capacity)+" pax) ",1),s("span",It,"- ID: "+u(e.id),1)],8,Bt)]))),128))])])):w("",!0),s("div",jt,[t[43]||(t[43]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Duplicate Options",-1)),s("div",Nt,[s("label",Lt,[b(s("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>r.value.includeBaseCharges=e),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:""},null,512),[[z,r.value.includeBaseCharges]]),t[41]||(t[41]=s("span",{class:"ml-2 text-sm text-gray-700"},"Include Base Charges",-1))]),s("label",qt,[b(s("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=e=>r.value.includeSurcharges=e),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:""},null,512),[[z,r.value.includeSurcharges]]),t[42]||(t[42]=s("span",{class:"ml-2 text-sm text-gray-700"},"Include Surcharges",-1))])])]),s("div",Et,[s("button",{onClick:E,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400"}," Cancel "),s("button",{onClick:ye,disabled:!J.value||P.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[P.value?(n(),a("span",Ft,"Duplicating...")):(n(),a("span",Ht,"Duplicate Configuration"))],8,zt)])])])])])):w("",!0)]))}},Zt=fe(Yt,[["__scopeId","data-v-d2375448"]]);export{Zt as default};

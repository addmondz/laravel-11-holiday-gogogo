import{k as m,l as N,y as V,C as A,B as P,g as r,o as n,c as R,w as Y,b as t,a as q,T as G,F as y,s as w,t as a,e as U,h as z,j as x,x as f,u as d,n as k}from"./app-BtResTgg.js";import{L as F}from"./LoadingComponent-DMAiR16D.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"min-h-screen bg-gray-100"},W={class:"flex justify-center items-center h-full min-h-screen"},E={key:1,class:"min-h-screen flex items-center justify-center"},$={key:2,class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",style:{"padding-bottom":"50px"}},O={class:"mb-8"},J={class:"relative"},K={class:"overflow-hidden rounded-lg shadow-lg"},Q={class:"relative mt-10",style:{height:"500px"}},T=["src","alt"],X={class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-20"},Z=["onClick","aria-label"],tt={class:"bg-white rounded-lg shadow-lg p-6 mb-8"},et={class:"text-3xl font-bold text-gray-900 mb-4"},st={class:"text-gray-600 mb-6"},ot={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},at={class:"text-gray-600"},lt={class:"text-gray-600"},it={class:"text-gray-600"},nt={class:"text-gray-600"},dt={class:"mt-6"},rt={class:"text-gray-600"},ut={class:"bg-white rounded-lg shadow-lg p-6"},ct={class:"space-y-4"},gt={key:0,class:"text-center py-4"},mt={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pt=["onClick"],xt={class:"flex items-start justify-between"},ft={class:"text-lg font-semibold text-gray-900"},bt={class:"text-sm text-gray-600 mt-1"},vt={class:"text-right"},ht={class:"text-lg font-bold text-indigo-600"},_t={class:"mt-4 text-sm text-indigo-600"},yt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},wt=["min","max"],kt=["min","max"],Dt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Mt={key:0,class:"bg-gray-50 rounded-lg p-4"},Ct={class:"text-2xl font-bold text-indigo-600"},Bt={class:"flex justify-end"},jt=["disabled"],Ht={__name:"WithHash",props:{uuid:String},setup(C){const B=C,o=m(null),c=m(0),b=m(null),v=m([]),D=m(null),h=m(!0);N(async()=>{try{const i=await V.post(route("api.fetch-package-by-uuid"),{uuid:B.uuid});i.data.success&&i.data.package?(o.value={...i.data.package,images:g},v.value=i.data.room_types):o.value=null,h.value=!1}catch(i){console.error("Error fetching package:",i),o.value=null,h.value=!1}I()});const g=["https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80","https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80","https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"],l=A({start_date:"",end_date:"",adults:1,children:0,room_type_id:null}),p=i=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i),M=()=>{c.value=(c.value+1)%g.length},j=()=>{c.value=(c.value-1+g.length)%g.length},H=()=>{b.value=0},I=()=>{const i=setInterval(()=>{M()},5e3);P(()=>{clearInterval(i)})};return(i,e)=>(n(),r("div",S,[h.value?(n(),R(G,{key:0,name:"fade"},{default:Y(()=>[t("div",W,[q(F)])]),_:1})):o.value?(n(),r("div",$,[t("div",O,[t("div",J,[t("div",K,[t("div",Q,[(n(),r(y,null,w(g,(s,u)=>{var _;return t("img",{key:u,src:s,class:k(["absolute inset-0 w-full h-full object-cover transition-opacity duration-500  h-[500px]",c.value===u?"opacity-100 z-10":"opacity-0 z-0"]),alt:((_=o.value)==null?void 0:_.name)||"Package Image"},null,10,T)}),64)),t("button",{onClick:j,class:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 z-20","aria-label":"Previous image"},e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("button",{onClick:M,class:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 z-20","aria-label":"Next image"},e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])]),t("div",X,[(n(),r(y,null,w(g,(s,u)=>t("button",{key:u,onClick:_=>c.value=u,class:k(["w-3 h-3 rounded-full transition-colors duration-200",c.value===u?"bg-white":"bg-white/50 hover:bg-white/75"]),"aria-label":`Go to image ${u+1}`},null,10,Z)),64))])])]),t("div",tt,[t("h1",et,a(o.value.name),1),t("p",st,a(o.value.description),1),t("div",ot,[t("div",null,[e[7]||(e[7]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Location",-1)),t("p",at,a(o.value.location),1)]),t("div",null,[e[8]||(e[8]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Duration",-1)),t("p",lt,a(o.value.package_min_days)+" - "+a(o.value.package_max_days)+" days",1)]),t("div",null,[e[9]||(e[9]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Display Prices",-1)),t("p",it,"Adult: MYR "+a(p(o.value.display_price_adult)),1),t("p",nt,"Child: MYR "+a(p(o.value.display_price_child)),1)])]),t("div",dt,[e[10]||(e[10]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Terms and Conditions",-1)),t("p",rt,a(o.value.terms_and_conditions),1)])]),t("div",ut,[e[19]||(e[19]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Book Your Stay",-1)),t("form",{onSubmit:U(H,["prevent"]),class:"space-y-6"},[t("div",ct,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),v.value.length===0?(n(),r("div",gt,e[11]||(e[11]=[t("p",{class:"text-gray-600"},"No room types available for this package.",-1)]))):(n(),r("div",mt,[(n(!0),r(y,null,w(v.value,s=>(n(),r("div",{key:s.id,class:k(["border rounded-lg p-4 cursor-pointer transition-all duration-200",D.value===s.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-400"]),onClick:u=>{D.value=s.id,d(l).room_type_id=s.id}},[t("div",xt,[t("div",null,[t("h3",ft,a(s.name),1),t("p",bt,a(s.description),1)]),t("div",vt,[t("p",ht," MYR "+a(p(s.price_per_night)),1),e[12]||(e[12]=t("p",{class:"text-sm text-gray-500"},"per night",-1))])]),t("div",_t,[t("p",null,"Max Occupancy: "+a(s.max_occupancy)+" persons",1)])],10,pt))),128))]))]),t("div",yt,[t("div",null,[e[14]||(e[14]=t("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),x(t("input",{type:"date",id:"start_date","onUpdate:modelValue":e[0]||(e[0]=s=>d(l).start_date=s),min:o.value.package_start_date,max:o.value.package_end_date,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,8,wt),[[f,d(l).start_date]])]),t("div",null,[e[15]||(e[15]=t("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),x(t("input",{type:"date",id:"end_date","onUpdate:modelValue":e[1]||(e[1]=s=>d(l).end_date=s),min:d(l).start_date,max:o.value.package_end_date,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,8,kt),[[f,d(l).end_date]])])]),t("div",Dt,[t("div",null,[e[16]||(e[16]=t("label",{for:"adults",class:"block text-sm font-medium text-gray-700"},"Number of Adults",-1)),x(t("input",{type:"number",id:"adults","onUpdate:modelValue":e[2]||(e[2]=s=>d(l).adults=s),min:"1",max:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[f,d(l).adults]])]),t("div",null,[e[17]||(e[17]=t("label",{for:"children",class:"block text-sm font-medium text-gray-700"},"Number of Children",-1)),x(t("input",{type:"number",id:"children","onUpdate:modelValue":e[3]||(e[3]=s=>d(l).children=s),min:"0",max:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[f,d(l).children]])])]),b.value!==null?(n(),r("div",Mt,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Estimated Price",-1)),t("p",Ct,"MYR "+a(p(b.value)),1)])):z("",!0),t("div",Bt,[t("button",{type:"submit",class:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:d(l).processing}," Calculate Price ",8,jt)])],32)])])):(n(),r("div",E,e[4]||(e[4]=[t("div",{class:"text-center"},[t("div",{class:"text-6xl mb-4"},"üîç"),t("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"Package Not Found"),t("p",{class:"text-gray-600 mb-8"},"We couldn't find the package you're looking for, please check the URL or contact us for assistance.")],-1)])))]))}},At=L(Ht,[["__scopeId","data-v-331b074b"]]);export{At as default};

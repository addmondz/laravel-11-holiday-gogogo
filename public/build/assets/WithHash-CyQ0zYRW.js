import{k as x,l as N,y as A,C as E,p as W,B as F,g as r,o as d,b as t,c as G,a as B,w as L,T as U,F as k,s as D,t as s,e as z,h as p,j as M,x as j,u as _,n as y,f as T}from"./app-B_-c_j32.js";import{L as O}from"./LoadingComponent-D3KjZCJT.js";import{_ as $}from"./ApplicationLogo-CaF11dPh.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"min-h-screen bg-gray-100"},Q={class:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200",style:{height:"80px"}},X={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",style:{display:"flex","flex-direction":"column","justify-content":"center",height:"100%"}},Z={class:"flex justify-between h-16"},tt={class:"flex items-center"},et={class:"flex justify-center items-center h-full min-h-screen"},st={key:1,class:"min-h-screen flex items-center justify-center"},at={key:2,class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",style:{"padding-top":"80px","padding-bottom":"50px"}},lt={class:"mb-8"},ot={class:"relative"},nt={class:"overflow-hidden rounded-lg shadow-lg"},dt={class:"relative mt-10",style:{height:"500px"}},it=["src","alt"],rt={class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-20"},ut=["onClick","aria-label"],ct={class:"bg-white rounded-lg shadow-lg p-6 mb-8"},gt={class:"text-3xl font-bold text-gray-900 mb-4"},mt={class:"text-gray-600 mb-6"},pt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},_t={class:"text-gray-600"},xt={class:"text-gray-600"},vt={class:"text-gray-600"},ft={class:"text-gray-600"},yt={class:"mt-6"},ht={class:"text-gray-600"},bt={class:"bg-white rounded-lg shadow-lg p-6"},wt={class:"space-y-4"},kt={key:0,class:"text-center py-4"},Dt={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Mt=["onClick"],jt={class:"flex items-start justify-between"},Ct={class:"text-lg font-semibold text-gray-900"},Rt={class:"text-sm text-gray-600 mt-1"},St={class:"text-right"},Yt={class:"text-lg font-bold text-indigo-600"},At={class:"mt-4 text-sm text-indigo-600"},Bt={key:2,class:"mt-1 text-sm text-red-600"},Tt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qt=["min"],It={key:0,class:"mt-1 text-sm text-red-600"},Pt=["min"],Vt={key:0,class:"mt-1 text-sm text-red-600"},Ht={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Nt={key:0,class:"mt-1 text-sm text-red-600"},Et={key:0,class:"bg-gray-50 rounded-lg p-4"},Wt={key:0,class:"mb-6 border-b pb-4"},Ft={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Gt={class:"font-medium text-gray-900"},Lt={class:"font-medium text-gray-900"},Ut={key:0,class:"ml-2 text-sm text-indigo-600"},zt={class:"font-medium text-gray-900"},Ot={class:"font-medium text-gray-900"},$t={class:"font-medium text-gray-900"},Jt={class:"font-medium text-gray-900"},Kt={class:"font-medium text-gray-900"},Qt={key:0},Xt={class:"text-2xl font-bold text-indigo-600"},Zt={key:1,class:"mt-4 space-y-4"},te={class:"border-t pt-4"},ee={class:"space-y-1 text-sm text-gray-600"},se={class:"flex justify-between"},ae={class:"flex justify-between"},le={class:"flex justify-between font-medium text-gray-900"},oe={key:0,class:"border-t pt-4"},ne={class:"space-y-1 text-sm text-gray-600"},de={class:"flex justify-between"},ie={class:"flex justify-between"},re={class:"flex justify-between font-medium text-gray-900"},ue={key:1,class:"border-t pt-4"},ce={class:"space-y-1 text-sm text-gray-600"},ge={class:"flex justify-between"},me={class:"flex justify-between"},pe={class:"flex justify-between font-medium text-gray-900"},_e={key:2,class:"border-t pt-4"},xe={class:"space-y-3"},ve={class:"font-medium text-gray-900"},fe={class:"space-y-1 mt-1"},ye={class:"flex justify-between"},he={class:"flex justify-between"},be={class:"flex justify-between font-medium text-gray-900"},we={class:"flex justify-between font-medium text-gray-900 border-t pt-2"},ke={class:"border-t pt-4"},De={class:"flex justify-between text-lg font-bold text-gray-900"},Me={class:"flex justify-end"},je=["disabled"],Ce={__name:"WithHash",props:{uuid:String},setup(q){const I=q,g=x(null),v=x(0),h=x(null),i=x(null),b=x([]),R=x(null),C=x(!0),n=x(null);x("");const c=x({room_type:"",start_date:"",end_date:"",adults:""});N(async()=>{try{const l=await A.post(route("api.fetch-package-by-uuid"),{uuid:I.uuid});l.data.success&&l.data.package?(g.value={...l.data.package,images:f},b.value=l.data.room_types):g.value=null,C.value=!1}catch(l){console.error("Error fetching package:",l),g.value=null,C.value=!1}V()});const f=["https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80","https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80","https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"],a=E({start_date:"",end_date:"",adults:1,children:0,room_type_id:null}),S=()=>{let l=!0;if(c.value={room_type:"",start_date:"",end_date:"",adults:""},a.room_type_id||(c.value.room_type="Please select a room type",l=!1),a.start_date||(c.value.start_date="Please select a start date",l=!1),a.end_date||(c.value.end_date="Please select an end date",l=!1),a.start_date&&a.end_date){const e=new Date(a.start_date),m=new Date(a.end_date)-e;Math.ceil(m/(1e3*60*60*24))<1&&(c.value.end_date="End date must be at least 1 day after start date",l=!1)}return(!a.adults||a.adults<1)&&(c.value.adults="Please select at least 1 adult",l=!1),l},P=async()=>{if(S())try{const l=await A.post(route("api.package-calculate-price"),{package_id:g.value.id,room_type:a.room_type_id,start_date:a.start_date,end_date:a.end_date,adults:a.adults,children:a.children});l.data.success&&(h.value=parseFloat(l.data.total),i.value=l.data.breakdown,n.value={roomType:b.value.find(e=>e.id===a.room_type_id),startDate:a.start_date,endDate:a.end_date,adults:a.adults,children:a.children,nights:Math.ceil((new Date(a.end_date)-new Date(a.start_date))/(1e3*60*60*24)),season:l.data.season,seasonType:l.data.season_type,dateType:l.data.date_type,isWeekend:l.data.is_weekend})}catch(l){console.error("Error calculating price:",l),h.value=null,i.value=null,n.value=null}};W([()=>a.start_date,()=>a.end_date],()=>{S()});const V=()=>{const l=setInterval(()=>{Y()},5e3);F(()=>{clearInterval(l)})},Y=()=>{v.value=(v.value+1)%f.length},H=()=>{v.value=(v.value-1+f.length)%f.length},u=l=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l);return(l,e)=>(d(),r("div",K,[t("header",Q,[t("div",X,[t("div",Z,[t("div",tt,[B($,{class:"block h-9 w-auto fill-current text-gray-800",style:{"max-width":"100px"}})]),e[4]||(e[4]=t("div",{class:"flex items-center"},[t("button",{class:"bg-sky-600 text-white px-4 py-2 hover:bg-sky-700",style:{"border-radius":"50px 50px 50px 50px",height:"40px",width:"118px"}}," Enquiry ")],-1))])])]),C.value?(d(),G(U,{key:0,name:"fade"},{default:L(()=>[t("div",et,[B(O)])]),_:1})):g.value?(d(),r("div",at,[t("div",lt,[t("div",ot,[t("div",nt,[t("div",dt,[(d(),r(k,null,D(f,(o,m)=>{var w;return t("img",{key:m,src:o,class:y(["absolute inset-0 w-full h-full object-cover transition-opacity duration-500  h-[500px]",v.value===m?"opacity-100 z-10":"opacity-0 z-0"]),alt:((w=g.value)==null?void 0:w.name)||"Package Image"},null,10,it)}),64)),t("button",{onClick:H,class:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 z-20","aria-label":"Previous image"},e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("button",{onClick:Y,class:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 z-20","aria-label":"Next image"},e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])]),t("div",rt,[(d(),r(k,null,D(f,(o,m)=>t("button",{key:m,onClick:w=>v.value=m,class:y(["w-3 h-3 rounded-full transition-colors duration-200",v.value===m?"bg-white":"bg-white/50 hover:bg-white/75"]),"aria-label":`Go to image ${m+1}`},null,10,ut)),64))])])]),t("div",ct,[t("h1",gt,s(g.value.name),1),t("p",mt,s(g.value.description),1),t("div",pt,[t("div",null,[e[8]||(e[8]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Location",-1)),t("p",_t,s(g.value.location),1)]),t("div",null,[e[9]||(e[9]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Duration",-1)),t("p",xt,s(g.value.package_min_days)+" - "+s(g.value.package_max_days)+" days",1)]),t("div",null,[e[10]||(e[10]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Display Prices",-1)),t("p",vt,"Adult: MYR "+s(u(g.value.display_price_adult)),1),t("p",ft,"Child: MYR "+s(u(g.value.display_price_child)),1)])]),t("div",yt,[e[11]||(e[11]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Terms and Conditions",-1)),t("p",ht,s(g.value.terms_and_conditions),1)])]),t("div",bt,[e[38]||(e[38]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Book Your Stay",-1)),t("form",{onSubmit:z(P,["prevent"]),class:"space-y-6"},[t("div",wt,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),b.value.length===0?(d(),r("div",kt,e[12]||(e[12]=[t("p",{class:"text-gray-600"},"No room types available for this package.",-1)]))):(d(),r("div",Dt,[(d(!0),r(k,null,D(b.value,o=>(d(),r("div",{key:o.id,class:y(["border rounded-lg p-4 cursor-pointer transition-all duration-200",R.value===o.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-400"]),onClick:m=>{R.value=o.id,_(a).room_type_id=o.id}},[t("div",jt,[t("div",null,[t("h3",Ct,s(o.name),1),t("p",Rt,s(o.description),1)]),t("div",St,[t("p",Yt," MYR "+s(u(o.price_per_night)),1),e[13]||(e[13]=t("p",{class:"text-sm text-gray-500"},"per night",-1))])]),t("div",At,[t("p",null,"Max Occupancy: "+s(o.max_occupancy)+" persons",1)])],10,Mt))),128))])),c.value.room_type?(d(),r("p",Bt,s(c.value.room_type),1)):p("",!0)]),t("div",Tt,[t("div",null,[e[15]||(e[15]=t("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),M(t("input",{type:"date",id:"start_date","onUpdate:modelValue":e[0]||(e[0]=o=>_(a).start_date=o),min:new Date().toISOString().split("T")[0],class:y(["mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",c.value.start_date?"border-red-500":"border-gray-300"]),required:""},null,10,qt),[[j,_(a).start_date]]),c.value.start_date?(d(),r("p",It,s(c.value.start_date),1)):p("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),M(t("input",{type:"date",id:"end_date","onUpdate:modelValue":e[1]||(e[1]=o=>_(a).end_date=o),min:_(a).start_date?new Date(new Date(_(a).start_date).getTime()+864e5).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],class:y(["mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",c.value.end_date?"border-red-500":"border-gray-300"]),required:""},null,10,Pt),[[j,_(a).end_date]]),c.value.end_date?(d(),r("p",Vt,s(c.value.end_date),1)):p("",!0)])]),t("div",Ht,[t("div",null,[e[17]||(e[17]=t("label",{for:"adults",class:"block text-sm font-medium text-gray-700"},"Number of Adults",-1)),M(t("input",{type:"number",id:"adults","onUpdate:modelValue":e[2]||(e[2]=o=>_(a).adults=o),min:"1",max:"4",class:y(["mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",c.value.adults?"border-red-500":"border-gray-300"]),required:""},null,2),[[j,_(a).adults]]),c.value.adults?(d(),r("p",Nt,s(c.value.adults),1)):p("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{for:"children",class:"block text-sm font-medium text-gray-700"},"Number of Children",-1)),M(t("input",{type:"number",id:"children","onUpdate:modelValue":e[3]||(e[3]=o=>_(a).children=o),min:"0",max:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[j,_(a).children]])])]),h.value!==null?(d(),r("div",Et,[n.value?(d(),r("div",Wt,[e[26]||(e[26]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Booking Summary",-1)),t("div",Ft,[t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm text-gray-600"},"Season",-1)),t("p",Gt,s(n.value.seasonType),1)]),t("div",null,[e[20]||(e[20]=t("p",{class:"text-sm text-gray-600"},"Date Type",-1)),t("p",Lt,[T(s(n.value.dateType.charAt(0).toUpperCase()+n.value.dateType.slice(1))+" ",1),n.value.isWeekend?(d(),r("span",Ut,"(Weekend Rate)")):p("",!0)])]),t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm text-gray-600"},"Room Type",-1)),t("p",zt,s(n.value.roomType.name),1)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-sm text-gray-600"},"Check-in",-1)),t("p",Ot,s(new Date(n.value.startDate).toLocaleDateString()),1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-sm text-gray-600"},"Check-out",-1)),t("p",$t,s(new Date(n.value.endDate).toLocaleDateString()),1)]),t("div",null,[e[24]||(e[24]=t("p",{class:"text-sm text-gray-600"},"Duration",-1)),t("p",Jt,s(n.value.nights)+" nights",1)]),t("div",null,[e[25]||(e[25]=t("p",{class:"text-sm text-gray-600"},"Guests",-1)),t("p",Kt,[T(s(n.value.adults)+" Adult"+s(n.value.adults>1?"s":"")+" ",1),n.value.children>0?(d(),r("span",Qt," , "+s(n.value.children)+" Child"+s(n.value.children>1?"ren":""),1)):p("",!0)])])])])):p("",!0),e[37]||(e[37]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Estimated Price",-1)),t("p",Xt,"MYR "+s(u(h.value)),1),i.value?(d(),r("div",Zt,[t("div",te,[e[28]||(e[28]=t("h4",{class:"font-medium text-gray-900 mb-2"},"Base Charge (per night)",-1)),t("div",ee,[t("div",se,[t("span",null,"Adults ("+s(i.value.base_charge.adult_qty)+")",1),t("span",null,"MYR "+s(u(i.value.base_charge.per_adult))+" × "+s(n.value.nights)+" nights",1)]),t("div",ae,[t("span",null,"Children ("+s(i.value.base_charge.child_qty)+")",1),t("span",null,"MYR "+s(u(i.value.base_charge.per_child))+" × "+s(n.value.nights)+" nights",1)]),t("div",le,[e[27]||(e[27]=t("span",null,"Subtotal",-1)),t("span",null,"MYR "+s(u(i.value.base_charge.total)),1)])])]),i.value.surcharge.total!=="0.00"?(d(),r("div",oe,[e[30]||(e[30]=t("h4",{class:"font-medium text-gray-900 mb-2"},"Surcharge (per night)",-1)),t("div",ne,[t("div",de,[t("span",null,"Adults ("+s(i.value.surcharge.adult_qty)+")",1),t("span",null,"MYR "+s(u(i.value.surcharge.per_adult))+" × "+s(n.value.nights)+" nights",1)]),t("div",ie,[t("span",null,"Children ("+s(i.value.surcharge.child_qty)+")",1),t("span",null,"MYR "+s(u(i.value.surcharge.per_child))+" × "+s(n.value.nights)+" nights",1)]),t("div",re,[e[29]||(e[29]=t("span",null,"Subtotal",-1)),t("span",null,"MYR "+s(u(i.value.surcharge.total)),1)])])])):p("",!0),i.value.extra_charges.total!=="0.00"?(d(),r("div",ue,[e[32]||(e[32]=t("h4",{class:"font-medium text-gray-900 mb-2"},"Extra Charges (per night)",-1)),t("div",ce,[t("div",ge,[t("span",null,"Adults ("+s(i.value.extra_charges.adult_qty)+")",1),t("span",null,"MYR "+s(u(i.value.extra_charges.per_adult))+" × "+s(n.value.nights)+" nights",1)]),t("div",me,[t("span",null,"Children ("+s(i.value.extra_charges.child_qty)+")",1),t("span",null,"MYR "+s(u(i.value.extra_charges.per_child))+" × "+s(n.value.nights)+" nights",1)]),t("div",pe,[e[31]||(e[31]=t("span",null,"Subtotal",-1)),t("span",null,"MYR "+s(u(i.value.extra_charges.total)),1)])])])):p("",!0),i.value.add_ons.items.length>0?(d(),r("div",_e,[e[35]||(e[35]=t("h4",{class:"font-medium text-gray-900 mb-2"},"Add-ons (per night)",-1)),t("div",xe,[(d(!0),r(k,null,D(i.value.add_ons.items,(o,m)=>(d(),r("div",{key:m,class:"text-sm text-gray-600"},[t("div",ve,s(o.name),1),t("div",fe,[t("div",ye,[t("span",null,"Adults ("+s(o.adult_qty)+")",1),t("span",null,"MYR "+s(u(o.adult_price))+" × "+s(n.value.nights)+" nights",1)]),t("div",he,[t("span",null,"Children ("+s(o.child_qty)+")",1),t("span",null,"MYR "+s(u(o.child_price))+" × "+s(n.value.nights)+" nights",1)]),t("div",be,[e[33]||(e[33]=t("span",null,"Subtotal",-1)),t("span",null,"MYR "+s(u(o.total)),1)])])]))),128)),t("div",we,[e[34]||(e[34]=t("span",null,"Add-ons Total",-1)),t("span",null,"MYR "+s(u(i.value.add_ons.total)),1)])])])):p("",!0),t("div",ke,[t("div",De,[e[36]||(e[36]=t("span",null,"Total",-1)),t("span",null,"MYR "+s(u(h.value)),1)])])])):p("",!0)])):p("",!0),t("div",Me,[t("button",{type:"submit",class:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:_(a).processing}," Calculate Price ",8,je)])],32)])])):(d(),r("div",st,e[5]||(e[5]=[t("div",{class:"text-center"},[t("div",{class:"text-6xl mb-4"},"🔍"),t("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"Package Not Found"),t("p",{class:"text-gray-600 mb-8"},"We couldn't find the package you're looking for, please check the URL or contact us for assistance.")],-1)])))]))}},Be=J(Ce,[["__scopeId","data-v-8a54e8e7"]]);export{Be as default};

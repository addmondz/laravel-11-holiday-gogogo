import{l as x,W as f,g as d,o as l,a,u as r,m as B,w as c,b as t,P as h,f as v,j as F,k as V,h as A,t as u,F as k,p as j}from"./app-dD2YvLEX.js";import{A as L}from"./AuthenticatedLayout-Cr7WMtHG.js";import{S as b}from"./sweetalert2.esm.all-B0Dix5B2.js";import{P as T}from"./Pagination-DeaKkiuc.js";import{d as U}from"./debounce-BdcTKPma.js";import"./ApplicationLogo-DqGXNPxf.js";import"./LoadingComponent-wt9sqAVP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-Dbc2amL3.js";const $={class:"pb-12 pt-6"},E={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},M={class:"p-6 text-gray-900"},O={class:"flex justify-between items-center mb-6"},W={class:"mb-6"},Y={class:"flex gap-4"},R={class:"flex-1"},q={class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-gray-200"},G={class:"bg-gray-50"},H={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},J={key:0,class:"text-indigo-600"},K={class:"bg-white divide-y divide-gray-200"},Q={key:0},X={class:"px-6 py-4 whitespace-nowrap"},Z={class:"text-sm font-medium text-gray-900"},tt={class:"px-6 py-4 whitespace-nowrap"},et={class:"text-sm text-gray-900"},st={class:"px-6 py-4 whitespace-nowrap"},ot={class:"text-sm text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap"},at={class:"text-sm text-gray-900"},rt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},nt=["onClick"],dt=["onClick"],lt={class:"mt-6"},yt={__name:"Index",props:{packages:Object,filters:Object},setup(i){const m=i,g=x(m.filters.search||""),_=x(m.filters.status||""),p=x(m.filters.sort||"created_at"),n=x(m.filters.direction||"desc"),y=U(()=>{w()},1e3),w=()=>{f.get(route("packages.index"),{search:g.value,status:_.value,sort:p.value,direction:n.value},{preserveState:!0,preserveScroll:!0,replace:!0})},C=o=>{p.value===o?n.value=n.value==="asc"?"desc":"asc":(p.value=o,n.value="asc"),w()},P=o=>{b.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e3342f",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&f.delete(route("packages.destroy",o),{onSuccess:()=>{b.fire("Deleted!","Package has been deleted.","success")}})})},S=o=>{f.visit(route("packages.duplicate-form",o))},N=o=>{const e=parseFloat(o);return isNaN(e)?"0.00":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})};return(o,e)=>(l(),d(k,null,[a(r(B),{title:"Packages"}),a(L,null,{header:c(()=>e[3]||(e[3]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:c(()=>[t("div",$,[t("div",E,[t("div",I,[t("div",M,[t("div",O,[e[5]||(e[5]=t("h3",{class:"text-lg font-medium"},"All Packages",-1)),a(r(h),{href:o.route("packages.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 hover:ring hover:ring-indigo-600"},{default:c(()=>e[4]||(e[4]=[v(" Create Package ")])),_:1},8,["href"])]),t("div",W,[t("div",Y,[t("div",R,[F(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>g.value=s),placeholder:"Search packages...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onInput:e[1]||(e[1]=(...s)=>r(y)&&r(y)(...s))},null,544),[[V,g.value]])])])]),t("div",q,[t("table",z,[t("thead",G,[t("tr",null,[t("th",H,[t("button",{onClick:e[2]||(e[2]=s=>C("name")),class:"flex items-center space-x-1"},[e[6]||(e[6]=t("span",null,"Name",-1)),p.value==="name"?(l(),d("span",J,u(n.value==="asc"?"↑":"↓"),1)):A("",!0)])]),e[7]||(e[7]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Uid",-1)),e[8]||(e[8]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Location",-1)),e[9]||(e[9]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Price",-1)),e[10]||(e[10]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",K,[i.packages.data.length===0?(l(),d("tr",Q,e[11]||(e[11]=[t("td",{colspan:"4",class:"px-6 py-4 text-center text-gray-500"}," No packages found ",-1)]))):(l(!0),d(k,{key:1},j(i.packages.data,s=>(l(),d("tr",{key:s.id},[t("td",X,[t("div",Z,u(s.name),1)]),t("td",tt,[t("div",et,u(s.uuid),1)]),t("td",st,[t("div",ot,u(s.location),1)]),t("td",it,[t("div",at,"RM "+u(N(s.display_price_adult)),1)]),t("td",rt,[a(r(h),{href:o.route("packages.show",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:c(()=>e[12]||(e[12]=[v(" View ")])),_:2},1032,["href"]),a(r(h),{href:o.route("packages.edit",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:c(()=>e[13]||(e[13]=[v(" Edit ")])),_:2},1032,["href"]),t("button",{onClick:D=>P(s.id),class:"text-red-600 hover:text-red-900 mr-3"}," Delete ",8,nt),t("button",{onClick:D=>S(s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Duplicate ",8,dt)])]))),128))])])]),t("div",lt,[a(T,{links:i.packages.links,from:i.packages.from,to:i.packages.to,total:i.packages.total},null,8,["links","from","to","total"])])])])])])]),_:1})],64))}};export{yt as default};

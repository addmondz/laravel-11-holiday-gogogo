import{C as w,l as T,g as d,o as i,a as x,u as s,m as V,w as k,b as t,j as c,h as y,n as _,F as n,s as m,t as l,q as f,x as v,P as $,f as C}from"./app-z90A8Z80.js";import{_ as S}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DPOyX3Ur.js";import"./ApplicationLogo-DQ4JJPmM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"pb-12 pt-6"},U={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-6 text-gray-900"},j={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},B=["value"],D={key:0,class:"mt-2 text-sm text-red-600"},N=["value"],M={key:0,class:"mt-2 text-sm text-red-600"},F=["value"],I={key:0,class:"mt-2 text-sm text-red-600"},O=["value"],R={key:0,class:"mt-2 text-sm text-red-600"},q={class:"mb-8"},z={key:0,class:"mt-2 text-sm text-red-600"},L={class:"overflow-x-auto mb-8"},G={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-gray-50"},J={class:"bg-white divide-y divide-gray-200"},K={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Q={class:"flex flex-col space-y-2"},W=["onUpdate:modelValue"],X=["onUpdate:modelValue"],Y={class:"flex justify-end space-x-4"},Z=["disabled"],se={__name:"Edit",props:{price:Object,packages:Array,seasons:Array,dateTypes:Array,roomTypes:Array},setup(g){const p=g,r=w({package_id:p.price.package_id,season_id:p.price.season_id,date_type_id:p.price.date_type_id,room_type:p.price.room_type,type:p.price.type,prices:{}});for(let a=1;a<=6;a++)for(let e=0;e<=5;e++)r.prices[`${a}-${e}`]={adult_price:"",child_price:""};T(()=>{p.price.prices.forEach(a=>{const e=`${a.number_of_adults}-${a.number_of_children}`;r.prices[e]={adult_price:a.adult_price,child_price:a.child_price}})});const h=()=>{Object.entries(r.prices).map(([a,e])=>{const[o,u]=a.split("-");return{number_of_adults:parseInt(o),number_of_children:parseInt(u),adult_price:e.adult_price,child_price:e.child_price}}),r.put(route("configuration-prices.update",p.price.id),{preserveScroll:!0,onSuccess:()=>{window.location.href=route("configuration-prices.index")}})};return(a,e)=>(i(),d(n,null,[x(s(V),{title:"Edit Configuration Price"}),x(S,null,{header:k(()=>e[5]||(e[5]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Configuration Price ",-1)])),default:k(()=>[t("div",P,[t("div",U,[t("div",A,[t("div",E,[t("div",j,[t("div",null,[e[7]||(e[7]=t("label",{for:"package",class:"block text-sm font-medium text-gray-700"},"Package",-1)),c(t("select",{id:"package","onUpdate:modelValue":e[0]||(e[0]=o=>s(r).package_id=o),class:_(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":s(r).errors.package_id}])},[e[6]||(e[6]=t("option",{value:""},"Select Package",-1)),(i(!0),d(n,null,m(g.packages,o=>(i(),d("option",{key:o.id,value:o.id},l(o.name),9,B))),128))],2),[[f,s(r).package_id]]),s(r).errors.package_id?(i(),d("p",D,l(s(r).errors.package_id),1)):y("",!0)]),t("div",null,[e[9]||(e[9]=t("label",{for:"season",class:"block text-sm font-medium text-gray-700"},"Season",-1)),c(t("select",{id:"season","onUpdate:modelValue":e[1]||(e[1]=o=>s(r).season_id=o),class:_(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":s(r).errors.season_id}])},[e[8]||(e[8]=t("option",{value:""},"Select Season",-1)),(i(!0),d(n,null,m(g.seasons,o=>(i(),d("option",{key:o.id,value:o.id},l(o.type.name),9,N))),128))],2),[[f,s(r).season_id]]),s(r).errors.season_id?(i(),d("p",M,l(s(r).errors.season_id),1)):y("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{for:"dateType",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),c(t("select",{id:"dateType","onUpdate:modelValue":e[2]||(e[2]=o=>s(r).date_type_id=o),class:_(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":s(r).errors.date_type_id}])},[e[10]||(e[10]=t("option",{value:""},"Select Date Type",-1)),(i(!0),d(n,null,m(g.dateTypes,o=>(i(),d("option",{key:o.id,value:o.id},l(o.name),9,F))),128))],2),[[f,s(r).date_type_id]]),s(r).errors.date_type_id?(i(),d("p",I,l(s(r).errors.date_type_id),1)):y("",!0)]),t("div",null,[e[13]||(e[13]=t("label",{for:"roomType",class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),c(t("select",{id:"roomType","onUpdate:modelValue":e[3]||(e[3]=o=>s(r).room_type=o),class:_(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":s(r).errors.room_type}])},[e[12]||(e[12]=t("option",{value:""},"Select Room Type",-1)),(i(!0),d(n,null,m(g.roomTypes,o=>(i(),d("option",{key:o,value:o},l(o),9,O))),128))],2),[[f,s(r).room_type]]),s(r).errors.room_type?(i(),d("p",R,l(s(r).errors.room_type),1)):y("",!0)])]),t("div",q,[e[15]||(e[15]=t("label",{for:"priceType",class:"block text-sm font-medium text-gray-700"},"Price Type",-1)),c(t("select",{id:"priceType","onUpdate:modelValue":e[4]||(e[4]=o=>s(r).type=o),class:_(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":s(r).errors.type}])},e[14]||(e[14]=[t("option",{value:""},"Select Price Type",-1),t("option",{value:"base_charge"},"Base Charge",-1),t("option",{value:"sur_charge"},"Surcharge",-1),t("option",{value:"ext_charge"},"Extra Charge",-1)]),2),[[f,s(r).type]]),s(r).errors.type?(i(),d("p",z,l(s(r).errors.type),1)):y("",!0)]),t("div",L,[t("table",G,[t("thead",H,[t("tr",null,[e[16]||(e[16]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(i(),d(n,null,m(6,o=>t("th",{key:o-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},l(o-1)+" Children ",1)),64))])]),t("tbody",J,[(i(),d(n,null,m(6,o=>t("tr",{key:o},[t("td",K,l(o)+" Adults ",1),(i(),d(n,null,m(6,u=>t("td",{key:u-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},[t("div",Q,[c(t("input",{type:"number","onUpdate:modelValue":b=>s(r).prices[`${o}-${u-1}`].adult_price=b,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Adult Price",step:"0.01",min:"0"},null,8,W),[[v,s(r).prices[`${o}-${u-1}`].adult_price]]),c(t("input",{type:"number","onUpdate:modelValue":b=>s(r).prices[`${o}-${u-1}`].child_price=b,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Child Price",step:"0.01",min:"0"},null,8,X),[[v,s(r).prices[`${o}-${u-1}`].child_price]])])])),64))])),64))])])]),t("div",Y,[x(s($),{href:a.route("configuration-prices.index"),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"},{default:k(()=>e[17]||(e[17]=[C(" Cancel ")])),_:1},8,["href"]),t("button",{onClick:h,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:s(r).processing}," Update Prices ",8,Z)])])])])])]),_:1})],64))}};export{se as default};

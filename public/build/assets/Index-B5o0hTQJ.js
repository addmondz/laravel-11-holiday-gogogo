import{l as u,i as S,g as o,o as a,a as k,u as T,m as D,w as _,b as e,P as B,f as R,j as b,F as l,p as d,t as i,x as h,h as U,y as j}from"./app-6922nsEY.js";import{A as E}from"./AuthenticatedLayout-Do28nOtU.js";import"./ApplicationLogo-C-RbXyH0.js";import"./AntdIcon-vB1rjkQ6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"pb-12 pt-6"},I={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},L={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},M={class:"p-6 text-gray-900"},$={class:"flex justify-between items-center mb-6"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},z=["value"],G=["value"],H=["value"],J=["value"],K={class:"flex mb-8 space-x-4"},O=["disabled"],Q={key:0,class:"space-y-8"},W={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-gray-50"},Z={class:"bg-white divide-y divide-gray-200"},ee={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},te={key:0,class:"overflow-x-auto"},se={class:"min-w-full divide-y divide-gray-200"},oe={class:"bg-gray-50"},ae={class:"bg-white divide-y divide-gray-200"},re={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},le={key:1,class:"text-center py-8 text-gray-600 border b-a border-solid border-gray-600 rounded-md"},de={key:2,class:"text-center py-8 text-gray-500 bg-gray-50 rounded-md"},me={__name:"Index",props:{packages:Array,seasons:Array,dateTypes:Array,roomTypes:Array},setup(v){const c=u(""),g=u(""),m=u(""),p=u(""),y=u(!1),x=u(!1),f=u([]),A=S(()=>c.value&&g.value&&m.value&&p.value),C=S(()=>f.value.some(r=>r.type==="sur_charge")),V=()=>{j.post(route("configuration-prices.fetchPricesSearchIndex"),{package_configuration_id:c.value,season_id:g.value,date_type_id:m.value,room_type:p.value}).then(r=>{r.data&&r.data.length>0?(f.value=r.data[0].prices,y.value=!0,x.value=!0):(y.value=!0,x.value=!1)}).catch(r=>{console.error("Error fetching prices:",r),y.value=!0,x.value=!1})},P=(r,t,s)=>{const n=f.value.find(w=>w.number_of_adults===r&&w.number_of_children===t&&w.type===s);return n?`$${n.adult_price}`:"-"},N=()=>{c.value="",g.value="",m.value="",p.value="",y.value=!1,x.value=!1,f.value=[]};return(r,t)=>(a(),o(l,null,[k(T(D),{title:"Configuration Prices"}),k(E,null,{header:_(()=>t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:_(()=>[e("div",F,[e("div",I,[e("div",L,[e("div",M,[e("div",$,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium text-gray-900"}," All Prices ",-1)),k(T(B),{href:r.route("configuration-prices.create"),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"},{default:_(()=>t[5]||(t[5]=[R(" Create New Price ")])),_:1},8,["href"])]),e("div",q,[e("div",null,[t[8]||(t[8]=e("label",{for:"package",class:"block text-sm font-medium text-gray-700"},"Package",-1)),b(e("select",{id:"package","onUpdate:modelValue":t[0]||(t[0]=s=>c.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[7]||(t[7]=e("option",{value:""},"Select Package",-1)),(a(!0),o(l,null,d(v.packages,s=>(a(),o("option",{key:s.id,value:s.id},i(s.name),9,z))),128))],512),[[h,c.value]])]),e("div",null,[t[10]||(t[10]=e("label",{for:"season",class:"block text-sm font-medium text-gray-700"},"Season",-1)),b(e("select",{id:"season","onUpdate:modelValue":t[1]||(t[1]=s=>g.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[9]||(t[9]=e("option",{value:""},"Select Season",-1)),(a(!0),o(l,null,d(v.seasons,s=>(a(),o("option",{key:s.id,value:s.id},i(s.type.name),9,G))),128))],512),[[h,g.value]])]),e("div",null,[t[12]||(t[12]=e("label",{for:"dateType",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),b(e("select",{id:"dateType","onUpdate:modelValue":t[2]||(t[2]=s=>m.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[11]||(t[11]=e("option",{value:""},"Select Date Type",-1)),(a(!0),o(l,null,d(v.dateTypes,s=>(a(),o("option",{key:s.id,value:s.id},i(s.name),9,H))),128))],512),[[h,m.value]])]),e("div",null,[t[14]||(t[14]=e("label",{for:"roomType",class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),b(e("select",{id:"roomType","onUpdate:modelValue":t[3]||(t[3]=s=>p.value=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[13]||(t[13]=e("option",{value:""},"Select Room Type",-1)),(a(!0),o(l,null,d(v.roomTypes,s=>(a(),o("option",{key:s,value:s},i(s),9,J))),128))],512),[[h,p.value]])])]),e("div",K,[e("button",{onClick:V,disabled:!A.value,class:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"}," Search Prices ",8,O),e("button",{onClick:N,class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"}," Reset ")]),x.value?(a(),o("div",Q,[e("div",W,[t[16]||(t[16]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Base Charges",-1)),e("table",X,[e("thead",Y,[e("tr",null,[t[15]||(t[15]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(a(),o(l,null,d(6,s=>e("th",{key:s-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},i(s-1)+" Children ",1)),64))])]),e("tbody",Z,[(a(),o(l,null,d(6,s=>e("tr",{key:s},[e("td",ee,i(s)+" Adults ",1),(a(),o(l,null,d(6,n=>e("td",{key:n-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},i(P(s,n-1,"base_charge")),1)),64))])),64))])])]),C.value?(a(),o("div",te,[t[18]||(t[18]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Surcharges",-1)),e("table",se,[e("thead",oe,[e("tr",null,[t[17]||(t[17]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(a(),o(l,null,d(6,s=>e("th",{key:s-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},i(s-1)+" Children ",1)),64))])]),e("tbody",ae,[(a(),o(l,null,d(6,s=>e("tr",{key:s},[e("td",re,i(s)+" Adults ",1),(a(),o(l,null,d(6,n=>e("td",{key:n-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},i(P(s,n-1,"sur_charge")),1)),64))])),64))])])])):U("",!0)])):y.value?(a(),o("div",le," No prices found for the selected criteria. ")):(a(),o("div",de," Please select all options and click search to view the price matrix. "))])])])])]),_:1})],64))}};export{me as default};

import{r as p,g as n,o as r,a as g,u as w,m as j,w as x,b as t,P,f,j as C,q as D,s as U,h as m,t as a,F as S,y as E,W as v}from"./app-J-OugY80.js";import{A as I}from"./AuthenticatedLayout-B5C7EzjY.js";import{S as Y}from"./sweetalert2.esm.all-B0Dix5B2.js";import{P as K}from"./Pagination-B9Sm_3uu.js";import{h as y}from"./moment-C5S46NFB.js";import"./ApplicationLogo-DVkkVBAV.js";import"./LoadingComponent-DJnqL-ux.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-Bt44NrfY.js";const O={class:"pb-12 pt-6"},W={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},R={class:"p-6 text-gray-900"},z={class:"flex justify-between items-center mb-6"},G={class:"mb-6"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 bg-white rounded-lg shadow-sm pb-4"},J={class:"md:col-span-1 lg:col-span-2 space-y-2"},Q={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},X={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-gray-200"},tt={class:"bg-gray-50"},et={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},st={key:0,class:"text-indigo-600"},ot={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},at={key:0,class:"text-indigo-600"},it={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},nt={key:0,class:"text-indigo-600"},rt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},lt={key:0,class:"text-indigo-600"},dt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ct={key:0,class:"text-indigo-600"},ut={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},pt={key:0,class:"text-indigo-600"},mt={class:"bg-white divide-y divide-gray-200"},gt={key:0},xt={class:"px-6 py-4 whitespace-nowrap"},ft={class:"text-sm font-medium text-gray-900"},vt={class:"px-6 py-4 whitespace-nowrap"},yt={class:"text-sm text-gray-900"},bt={class:"px-6 py-4 whitespace-nowrap"},ht={class:"text-sm text-gray-900"},_t={class:"px-6 py-4 whitespace-nowrap"},kt={class:"text-sm text-gray-900"},wt={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"text-sm text-gray-900"},Dt={class:"text-sm text-gray-500"},Ft={class:"px-6 py-4 whitespace-nowrap"},Pt={class:"text-sm text-gray-900"},St={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Yt=["onClick"],Mt=["onClick"],Nt=["href"],Tt={class:"mt-6"},Kt={__name:"Index",props:{packages:Object,filters:Object},setup(d){const c=d,b=p(c.filters.search||""),M=p(c.filters.status||""),l=p(c.filters.sort||"last_modified_at"),i=p(c.filters.direction||"desc"),h=p(c.filters.dateFrom||""),_=p(c.filters.dateTo||""),k=()=>{v.get(route("packages.index"),{search:b.value,status:M.value,sort:l.value,direction:i.value,dateFrom:h.value,dateTo:_.value},{preserveState:!0,preserveScroll:!0,replace:!0})},u=o=>{l.value===o?i.value=i.value==="asc"?"desc":"asc":(l.value=o,i.value="asc"),k()},N=o=>{Y.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e3342f",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&v.delete(route("packages.destroy",o),{onSuccess:()=>{Y.fire("Deleted!","Package has been deleted.","success")}})})},T=o=>{v.visit(route("packages.duplicate-form",o))},V=o=>{const e=parseFloat(o);return isNaN(e)?"0.00":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},$=()=>{v.get(route("packages.index"),{},{preserveState:!1,preserveScroll:!1})},F=o=>y(o).format("DD MMM YYYY"),B=o=>y(o).format("DD MMM YYYY, h:mm A"),A=(o,e)=>y(e).diff(y(o),"days")+1;return(o,e)=>(r(),n(S,null,[g(w(j),{title:"Packages"}),g(I,null,{header:x(()=>e[9]||(e[9]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:x(()=>[t("div",O,[t("div",W,[t("div",q,[t("div",R,[t("div",z,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium"},"All Packages",-1)),g(w(P),{href:o.route("packages.create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 hover:ring hover:ring-indigo-600"},{default:x(()=>e[10]||(e[10]=[f(" Create Package ")])),_:1},8,["href"])]),t("div",G,[t("div",H,[t("div",J,[t("div",Q,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),C(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>h.value=s),class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[D,h.value]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date To",-1)),C(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>_.value=s),class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[D,_.value]])])]),e[14]||(e[14]=t("p",{class:"text-sm text-gray-600"},[f(" ðŸ’¡ "),t("strong",{class:"font-semibold text-gray-800"},"Date Filter:"),f(" Find packages available during your travel dates. Leave empty to see all packages. ")],-1))]),t("div",{onKeyup:U(k,["enter"])},[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search Packages",-1)),C(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>b.value=s),placeholder:"Search packages...",class:"w-full rounded-md border border-gray-300 shadow-sm px-3 py-2 focus:border-indigo-500 focus:ring-indigo-500 text-sm"},null,512),[[D,b.value]])],32)]),t("div",{class:"mt-4 flex justify-start items-center gap-2"},[t("button",{onClick:k,class:"px-6 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," Search "),t("button",{onClick:$,class:"px-6 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Clear Filters ")])]),t("div",X,[t("table",Z,[t("thead",tt,[t("tr",null,[t("th",et,[t("button",{onClick:e[3]||(e[3]=s=>u("name")),class:"flex items-center space-x-1"},[e[16]||(e[16]=t("span",null,"Name",-1)),l.value==="name"?(r(),n("span",st,a(i.value==="asc"?"â†‘":"â†“"),1)):m("",!0)])]),t("th",ot,[t("button",{onClick:e[4]||(e[4]=s=>u("uuid")),class:"flex items-center space-x-1"},[e[17]||(e[17]=t("span",null,"Package ID",-1)),l.value==="uuid"?(r(),n("span",at,a(i.value==="asc"?"â†‘":"â†“"),1)):m("",!0)])]),t("th",it,[t("button",{onClick:e[5]||(e[5]=s=>u("location")),class:"flex items-center space-x-1"},[e[18]||(e[18]=t("span",null,"Location",-1)),l.value==="location"?(r(),n("span",nt,a(i.value==="asc"?"â†‘":"â†“"),1)):m("",!0)])]),t("th",rt,[t("button",{onClick:e[6]||(e[6]=s=>u("display_price_adult")),class:"flex items-center space-x-1"},[e[19]||(e[19]=t("span",null,"Price",-1)),l.value==="display_price_adult"?(r(),n("span",lt,a(i.value==="asc"?"â†‘":"â†“"),1)):m("",!0)])]),t("th",dt,[t("button",{onClick:e[7]||(e[7]=s=>u("package_start_date")),class:"flex items-center space-x-1"},[e[20]||(e[20]=t("span",null,"Period",-1)),l.value==="package_start_date"?(r(),n("span",ct,a(i.value==="asc"?"â†‘":"â†“"),1)):m("",!0)])]),t("th",ut,[t("button",{onClick:e[8]||(e[8]=s=>u("last_modified_at")),class:"flex items-center space-x-1"},[e[21]||(e[21]=t("span",null,"Last Modified",-1)),l.value==="last_modified_at"?(r(),n("span",pt,a(i.value==="asc"?"â†‘":"â†“"),1)):m("",!0)])]),e[22]||(e[22]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),t("tbody",mt,[d.packages.data.length===0?(r(),n("tr",gt,e[23]||(e[23]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"}," No packages found ",-1)]))):(r(!0),n(S,{key:1},E(d.packages.data,s=>(r(),n("tr",{key:s.id},[t("td",xt,[t("div",ft,a(s.name),1)]),t("td",vt,[t("div",yt,a(s.uuid),1)]),t("td",bt,[t("div",ht,a(s.location),1)]),t("td",_t,[t("div",kt,"RM "+a(V(s.display_price_adult)),1)]),t("td",wt,[t("div",Ct,a(F(s.package_start_date))+" - "+a(F(s.package_end_date)),1),t("div",Dt,a(A(s.package_start_date,s.package_end_date))+" days ",1)]),t("td",Ft,[t("div",Pt,a(B(s.last_modified_at)),1)]),t("td",St,[g(w(P),{href:o.route("packages.show",s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"},{default:x(()=>e[24]||(e[24]=[f(" View ")])),_:2},1032,["href"]),t("button",{onClick:L=>N(s.id),class:"text-red-600 hover:text-red-900 mr-3"}," Delete ",8,Yt),t("button",{onClick:L=>T(s.id),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Duplicate ",8,Mt),t("a",{href:o.route("packages.export",s.id),class:"text-green-600 hover:text-green-900 mr-3"}," Export ",8,Nt)])]))),128))])])]),t("div",Tt,[g(K,{links:d.packages.links,from:d.packages.from,to:d.packages.to,total:d.packages.total},null,8,["links","from","to","total"])])])])])])]),_:1})],64))}};export{Kt as default};

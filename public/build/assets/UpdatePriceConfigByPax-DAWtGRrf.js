import{K as B,i as U,l as y,y as x,g as s,o as d,b as l,j as r,p,F as f,q as m,k as u,x as S,t as b}from"./app-D6ae3YGU.js";import{S as h}from"./sweetalert2.esm.all-B0Dix5B2.js";const V={class:"max-w-2xl bg-white space-y-8"},M={class:"space-y-6"},P={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},O=["value"],A=["value"],I=["value"],R={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},D={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},T={__name:"UpdatePriceConfigByPax",props:{package:Object},setup(v){const w=v,g=[{adults:1,children:0,infants:0},{adults:1,children:0,infants:1},{adults:1,children:0,infants:2},{adults:1,children:0,infants:3},{adults:1,children:1,infants:0},{adults:1,children:1,infants:1},{adults:1,children:1,infants:2},{adults:1,children:2,infants:0},{adults:1,children:2,infants:1},{adults:1,children:3,infants:0},{adults:2,children:0,infants:0},{adults:2,children:0,infants:1},{adults:2,children:0,infants:2},{adults:2,children:1,infants:0},{adults:2,children:1,infants:1},{adults:2,children:2,infants:0},{adults:2,children:0,infants:2},{adults:3,children:0,infants:0},{adults:3,children:0,infants:1},{adults:3,children:1,infants:0},{adults:4,children:0,infants:0}],n=B({package_id:w.package.id,adult:1,child:0,infant:0,adult_base_charge:0,child_base_charge:0,infant_base_charge:0,adult_surcharge:0,child_surcharge:0,infant_surcharge:0}),C=U(()=>[...new Set(g.map(t=>t.adults))].sort((t,e)=>t-e)),o=y([]),c=y([]),i=()=>{o.value=[...new Set(g.filter(a=>a.adults===n.adult).map(a=>a.children))].sort((a,t)=>a-t),o.value.includes(n.child)||(n.child=o.value[0]??0),c.value=[...new Set(g.filter(a=>a.adults===n.adult&&a.children===n.child).map(a=>a.infants))].sort((a,t)=>a-t),c.value.includes(n.infant)||(n.infant=c.value[0]??0)};i(),x(()=>n.adult,i),x(()=>n.child,i);const _=async()=>{var t,e;if((await h.fire({title:"Confirm Update?",text:"Do you want to save these pax prices?",icon:"question",showCancelButton:!0,confirmButtonColor:"#4f46e5",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, update it!"})).isConfirmed)try{await S.post(route("configuration-prices.updatePriceConfigurationByPax"),n),h.fire({title:"Success!",text:"Price configuration updated successfully.",icon:"success",confirmButtonColor:"#4f46e5"})}catch(k){h.fire({title:"Error!",text:((e=(t=k.response)==null?void 0:t.data)==null?void 0:e.message)||"Something went wrong.",icon:"error",confirmButtonColor:"#e11d48"})}};return(a,t)=>(d(),s("div",V,[t[18]||(t[18]=l("h3",{class:"text-md font-medium text-gray-900"},"Update Price Config by Pax",-1)),l("div",M,[l("div",P,[l("div",null,[t[9]||(t[9]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"adult"},"Adult",-1)),r(l("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.adult=e),onChange:i,class:"w-full rounded-lg border-gray-300 px-3 py-2"},[(d(!0),s(f,null,m(C.value,e=>(d(),s("option",{key:e,value:e},b(e),9,O))),128))],544),[[p,n.adult]])]),l("div",null,[t[10]||(t[10]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"child"},"Child",-1)),r(l("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.child=e),onChange:i,class:"w-full rounded-lg border-gray-300 px-3 py-2"},[(d(!0),s(f,null,m(o.value,e=>(d(),s("option",{key:e,value:e},b(e),9,A))),128))],544),[[p,n.child]])]),l("div",null,[t[11]||(t[11]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"infant"},"Infant",-1)),r(l("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.infant=e),onChange:i,class:"w-full rounded-lg border-gray-300 px-3 py-2"},[(d(!0),s(f,null,m(c.value,e=>(d(),s("option",{key:e,value:e},b(e),9,I))),128))],544),[[p,n.infant]])])]),l("div",R,[l("div",null,[t[12]||(t[12]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"adult_amount"},"Adult Base Charge (RM)",-1)),r(l("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.adult_base_charge=e),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 120"},null,512),[[u,n.adult_base_charge,void 0,{number:!0}]])]),l("div",null,[t[13]||(t[13]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"child_amount"},"Child Base Charge (RM)",-1)),r(l("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.child_base_charge=e),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 90"},null,512),[[u,n.child_base_charge,void 0,{number:!0}]])]),l("div",null,[t[14]||(t[14]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"infant_amount"},"Infant Base Charge (RM)",-1)),r(l("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.infant_base_charge=e),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 50"},null,512),[[u,n.infant_base_charge,void 0,{number:!0}]])])]),l("div",D,[l("div",null,[t[15]||(t[15]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"adult_surcharge"},"Adult Surcharge (RM)",-1)),r(l("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>n.adult_surcharge=e),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 120"},null,512),[[u,n.adult_surcharge,void 0,{number:!0}]])]),l("div",null,[t[16]||(t[16]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"child_surcharge"},"Child Surcharge (RM)",-1)),r(l("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>n.child_surcharge=e),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 90"},null,512),[[u,n.child_surcharge,void 0,{number:!0}]])]),l("div",null,[t[17]||(t[17]=l("label",{class:"block text-sm text-gray-600 mb-1",for:"infant_surcharge"},"Infant Surcharge (RM)",-1)),r(l("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>n.infant_surcharge=e),type:"number",class:"w-full rounded-lg border-gray-300 px-3 py-2",placeholder:"e.g. 50"},null,512),[[u,n.infant_surcharge,void 0,{number:!0}]])])])]),l("div",null,[l("button",{onClick:_,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"}," Update ")])]))}};export{T as default};

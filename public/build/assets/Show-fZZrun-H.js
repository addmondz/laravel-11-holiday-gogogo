import{l as _,i as J,C as K,s as be,g as d,o as a,a as T,u as r,m as Ge,w as M,b as t,F as p,p as y,n as P,t as n,h as f,P as We,f as ze,c as ge,j as x,x as N,T as Je,e as H,k as C,W as ve,L as Q}from"./app-CMp5IOVw.js";import{A as Qe}from"./AuthenticatedLayout-CKdX3gyp.js";import{_ as Xe}from"./BreadcrumbComponent-3oUeJitP.js";import{h as I}from"./moment-C5S46NFB.js";import{_ as X}from"./Modal.vue_vue_type_script_setup_true_lang-Br9xQA1h.js";import{P as _e}from"./Pagination-CwG0R_cW.js";import{S as w}from"./sweetalert2.esm.all-B0Dix5B2.js";import{L as Ze}from"./LoadingComponent-CtUdb0Fg.js";import et from"./PriceConfigurationRoomTypes-LhWgDhSE.js";import tt from"./DateBlockers-CR-JXXTb.js";import{_ as ot}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B6gg4T0n.js";import"./AntdIcon-DmepX-cm.js";const st={class:"pb-12 pt-6"},rt={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},at={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},it={class:"p-6 text-gray-900"},dt={class:"border-b border-gray-200"},nt={class:"-mb-px flex space-x-8","aria-label":"Tabs"},lt=["onClick"],ut={class:"mt-6 border p-4 rounded"},ct={key:0,class:"space-y-6"},mt={class:"grid grid-cols-1 gap-6"},pt={class:"flex justify-between items-center"},gt={class:"grid grid-cols-2 gap-6"},yt={class:"mt-1 text-sm text-gray-900"},ft={class:"mt-1 text-sm text-gray-900"},xt={class:"mt-1 text-sm text-gray-900"},bt={class:"mt-1"},vt={class:"text-sm text-gray-900"},_t={class:"mt-1 text-sm text-gray-900"},kt={class:"mt-1 text-sm text-gray-900"},ht={class:"grid grid-cols-2 gap-6"},wt={class:"mt-1 text-sm text-gray-900"},Ct={class:"mt-1 text-sm text-gray-900"},Tt={class:"mt-1 text-sm text-gray-900"},Dt={class:"mt-1 flex items-center space-x-2"},Bt=["href"],St={key:1,class:"space-y-6",style:{position:"relative"}},Et={class:"flex justify-between items-center"},At={class:"overflow-x-auto"},Pt={class:"min-w-full divide-y divide-gray-200"},Rt={class:"bg-white divide-y divide-gray-200"},Mt={class:"px-6 py-4 whitespace-nowrap"},Ft={key:0,class:"flex space-x-2"},Ut=["src","onClick"],Yt={key:1,class:"text-gray-400 text-sm"},Vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$t={class:"px-6 py-4 text-sm text-gray-900"},Ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Nt=["onClick"],It=["onClick"],qt={key:0},Lt={class:"mt-4"},Kt={key:2,class:"space-y-6",style:{position:"relative"}},Ht={class:"flex justify-between items-center"},Gt={class:"overflow-x-auto"},Wt={class:"min-w-full divide-y divide-gray-200"},zt={class:"bg-white divide-y divide-gray-200"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Qt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Zt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},eo=["onClick"],to=["onClick"],oo={key:0},so={class:"mt-4"},ro={key:3,class:"space-y-6",style:{position:"relative"}},ao={class:"flex justify-between items-center"},io={class:"space-x-3"},no={class:"overflow-x-auto"},lo={class:"min-w-full divide-y divide-gray-200"},uo={class:"bg-white divide-y divide-gray-200"},co={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},mo={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},po={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},go={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},yo=["onClick"],fo=["onClick"],xo={key:0},bo={class:"mt-4"},vo={key:4,class:"space-y-6"},_o={key:0},ko={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4"},ho=["value"],wo=["value"],Co=["value"],To={class:"flex mb-8 space-x-2"},Do=["disabled"],Bo={class:"flex justify-center items-center h-full min-h-[400px]"},So={key:1,class:"space-y-8"},Eo={class:"overflow-x-auto"},Ao={class:"min-w-full divide-y divide-gray-200"},Po={class:"bg-gray-50"},Ro={class:"bg-white divide-y divide-gray-200"},Mo={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Fo={key:0},Uo={key:1},Yo={key:2},Vo={key:3},jo={class:"overflow-x-auto"},$o={class:"min-w-full divide-y divide-gray-200"},Oo={class:"bg-gray-50"},No={class:"bg-white divide-y divide-gray-200"},Io={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},qo={key:0},Lo={key:1},Ko={key:2},Ho={key:3},Go={class:"mt-4 flex justify-end"},Wo={key:2,class:"text-center py-8 text-gray-600 border b-a border-solid border-gray-600 rounded-md"},zo={key:3,class:"text-center py-8 text-gray-500 bg-gray-50 rounded-md"},Jo={key:1,class:"space-y-6"},Qo={class:"flex justify-between items-center"},Xo={class:"text-lg font-medium text-gray-900"},Zo={key:0},es={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},ts=["value"],os=["value"],ss=["value"],rs={class:"space-y-8"},as={class:"overflow-x-auto"},is={class:"min-w-full divide-y divide-gray-200"},ds={class:"bg-gray-50"},ns={class:"bg-white divide-y divide-gray-200"},ls={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},us={key:0,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-3 py-2 border border-solid bg-gray-100"},cs=["onUpdate:modelValue"],ms={key:2,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-3 py-2 border border-solid bg-gray-100"},ps=["onUpdate:modelValue"],gs={class:"overflow-x-auto"},ys={class:"min-w-full divide-y divide-gray-200"},fs={class:"bg-gray-50"},xs={class:"bg-white divide-y divide-gray-200"},bs={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},vs={key:0,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-3 py-2 border border-solid bg-gray-100"},_s=["onUpdate:modelValue"],ks={key:2,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 px-3 py-2 border border-solid bg-gray-100"},hs=["onUpdate:modelValue"],ws={class:"mt-6 flex justify-end space-x-3"},Cs=["disabled"],Ts={key:5,class:"space-y-6"},Ds={key:6,class:"space-y-6"},Bs={class:"p-6"},Ss={class:"space-y-4"},Es={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},As={class:"space-y-1 text-center"},Ps={class:"flex text-sm text-gray-600"},Rs={for:"images",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},Ms={key:0,class:"mt-4 grid grid-cols-3 gap-4"},Fs=["src"],Us=["onClick"],Ys={class:"mt-6 flex justify-end space-x-3"},Vs=["disabled"],js={class:"p-6"},$s={class:"space-y-4"},Os={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},Ns={class:"space-y-1 text-center"},Is={class:"flex text-sm text-gray-600"},qs={for:"edit_images",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},Ls={key:0,class:"mt-4 grid grid-cols-3 gap-4"},Ks=["src"],Hs=["onClick"],Gs={class:"mt-6 flex justify-end space-x-3"},Ws=["disabled"],zs={class:"p-6"},Js={class:"space-y-4"},Qs={class:"mt-1 block w-full rounded-md border border-gray-300 bg-gray-100 p-2 not-allowed"},Xs={key:0,class:"mt-1 text-sm text-red-600"},Zs={key:0,class:"mt-1 text-sm text-red-600"},er={class:"mt-6 flex justify-end space-x-3"},tr=["disabled"],or={class:"p-6"},sr={key:0,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},rr={class:"space-y-4"},ar=["value"],ir={key:0,class:"mt-1 text-sm text-red-600"},dr={key:0,class:"mt-1 text-sm text-red-600"},nr={key:0,class:"mt-1 text-sm text-red-600"},lr={class:"mt-6 flex justify-end space-x-3"},ur=["disabled"],cr={class:"p-6"},mr={key:0,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},pr={class:"space-y-4"},gr=["value"],yr={key:0,class:"mt-1 text-sm text-red-600"},fr={key:0,class:"mt-1 text-sm text-red-600"},xr={key:0,class:"mt-1 text-sm text-red-600"},br={class:"mt-6 flex justify-end space-x-3"},vr=["disabled"],_r={class:"p-6"},kr={class:"space-y-4"},hr={class:"mt-1 block w-full rounded-md border border-gray-300 bg-gray-100 p-2 not-allowed"},wr={key:0,class:"mt-1 text-sm text-red-600"},Cr={key:0,class:"mt-1 text-sm text-red-600"},Tr={class:"mt-6 flex justify-end space-x-3"},Dr=["disabled"],Br={__name:"Show",props:{pkg:Object,distinctRoomTypes:Array,seasons:Object,seasonTypes:Array,dateTypeRanges:Object,dateTypes:Array,priceConfigSeasonChoice:Array,priceConfigDateTypeChoice:Array},setup(c){const b=c,F=_("details"),G=_(0),De=[{id:"details",name:"Details"},{id:"room-types",name:"Room Types"},{id:"season-types",name:"Season Types"},{id:"date-types-ranges",name:"Date Types"},{id:"price-configuration",name:"Price Configuration"},{id:"price-configuration-room-types",name:"Price Configuration Room Types"},{id:"date-blockers",name:"Date Blockers"}],Be=J(()=>[{title:"Packages",link:route("packages.index")},{title:b.pkg.name}]);function Se(s){return s==null||s===""?"0.00":Number(s).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}const ae=_(!1),D=K({name:"",description:"",max_occupancy:2,package_id:b.pkg.id,return_to_package:!0,images:[],delete_images:[]}),Z=_(!1),l=K({id:null,name:"",description:"",max_occupancy:2,package_id:b.pkg.id,return_to_package:!0,images:[],delete_images:[]}),ee=_(!1),k=K({id:null,season_type_id:"",start_date:"",end_date:"",package_id:b.pkg.id}),q=_(!1),g=K({season_type_id:"",start_date:"",end_date:"",package_id:b.pkg.id}),L=_(!1),m=K({date_type_id:"",start_date:"",end_date:"",return_to_package:!0,package_id:b.pkg.id}),W=_(!1),h=K({id:null,date_type_id:"",start_date:"",end_date:"",return_to_package:!0,package_id:b.pkg.id}),R=_(b.pkg.load_room_types),Y=_(b.seasons),V=_(b.dateTypeRanges),ie=_(""),te=_(""),de=J(()=>({links:R.value.links,from:R.value.from,to:R.value.to,total:R.value.total})),ne=J(()=>({links:Y.value.links,from:Y.value.from,to:Y.value.to,total:Y.value.total})),le=J(()=>({links:V.value.links,from:V.value.from,to:V.value.to,total:V.value.total})),ye=async s=>{try{const e=await Q.get(route("packages.room-types",b.pkg.id),{params:{page:s}});R.value={...R.value,data:e.data.data,links:e.data.links,from:e.data.from,to:e.data.to,total:e.data.total,current_page:e.data.current_page,last_page:e.data.last_page,per_page:e.data.per_page},G.value++}catch(e){console.error("Error fetching room types:",e)}},Ee=s=>{w.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e3342f",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",showConfirmButton:!0,showCloseButton:!0}).then(e=>{e.isConfirmed&&ve.delete(route("seasons.destroy",s),{data:{return_to_package:!0,package_id:b.pkg.id},preserveState:!0,preserveScroll:!0,onSuccess:()=>{w.fire({title:"Deleted!",text:"Season has been deleted.",icon:"success",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),ue(1)}})})},ue=async s=>{try{const e=await Q.get(route("packages.seasons",b.pkg.id),{params:{page:s}});Y.value={...Y.value,data:e.data.data,links:e.data.links,from:e.data.from,to:e.data.to,total:e.data.total,current_page:e.data.current_page,last_page:e.data.last_page,per_page:e.data.per_page},G.value++}catch(e){console.error("Error fetching seasons:",e)}},Ae=s=>{k.id=s.id,k.season_type_id=s.season_type_id,k.start_date=ce(s.start_date),k.end_date=ce(s.end_date),ee.value=!0},ce=s=>s?s.split("T")[0]:"",Pe=()=>{k.put(route("seasons.update",k.id),{onSuccess:()=>{ee.value=!1,k.reset(),k.return_to_package=!0,k.package_id=b.pkg.id,ue(1)}})},Re=()=>{g.post(route("seasons.store"),{preserveScroll:!0,onSuccess:()=>{q.value=!1,g.reset(),g.return_to_package=!0,g.package_id=b.pkg.id,ue(1)},onError:()=>{q.value=!0,ie.value=g.errors.date_range}})},Me=s=>{h.id=s.id,h.date_type_id=s.date_type_id,h.start_date=ce(s.start_date),h.end_date=ce(s.end_date),W.value=!0},Fe=()=>{m.post(route("date-type-ranges.store"),{onSuccess:()=>{L.value=!1,m.reset(),m.return_to_package=!0,m.package_id=b.pkg.id,me(1)},onError:s=>{L.value=!0,console.log(m.errors),te.value=m.errors.date_range}})},Ue=()=>{h.put(route("date-type-ranges.update",h.id),{onSuccess:()=>{W.value=!1,h.reset(),h.return_to_package=!0,h.package_id=b.pkg.id,me(1)},onError:s=>{W.value=!0,console.log(m.errors),te.value=m.errors.date_range}})},Ye=s=>{w.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e3342f",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",showConfirmButton:!0,showCloseButton:!0}).then(e=>{e.isConfirmed&&ve.delete(route("date-type-ranges.destroy",s),{data:{return_to_package:!0,package_id:b.pkg.id},preserveState:!0,preserveScroll:!0,onSuccess:()=>{w.fire({title:"Deleted!",text:"Date range has been deleted.",icon:"success",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),me(1)}})})},me=async s=>{try{const e=await Q.get(route("packages.date-type-ranges",b.pkg.id),{params:{page:s}});V.value={...V.value,data:e.data.data,links:e.data.links,from:e.data.from,to:e.data.to,total:e.data.total,current_page:e.data.current_page,last_page:e.data.last_page,per_page:e.data.per_page},G.value++}catch(e){console.error("Error fetching date type ranges:",e)}},Ve=s=>{l.reset(),l.id=s.id,l.name=s.name||"",l.description=s.description||"",l.max_occupancy=parseInt(s.max_occupancy)||2,l.package_id=parseInt(b.pkg.id),l.images=Array.isArray(s.images)?[...s.images]:[],l.delete_images=[],l.return_to_package=!0,console.log("Edit Room Type Form Data:",{id:l.id,name:l.name,max_occupancy:l.max_occupancy,package_id:l.package_id,images:l.images}),Z.value=!0},je=()=>{var e,o;if(!((e=l.name)!=null&&e.trim())){w.fire({icon:"error",title:"Validation Error",text:"Room type name is required",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"});return}if(!l.max_occupancy||l.max_occupancy<1){w.fire({icon:"error",title:"Validation Error",text:"Max occupancy must be at least 1",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"});return}if(!l.package_id){w.fire({icon:"error",title:"Validation Error",text:"Package ID is required",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"});return}const s={id:l.id,name:l.name.trim(),description:((o=l.description)==null?void 0:o.trim())||"",max_occupancy:parseInt(l.max_occupancy),package_id:parseInt(l.package_id),images:l.images,delete_images:l.delete_images,return_to_package:!0};console.log("Updating Room Type with data:",s),l.put(route("room-types.update",l.id),s,{onSuccess:()=>{Z.value=!1,l.reset(),l.return_to_package=!0,ye(1),w.fire({icon:"success",title:"Success!",text:"Room type updated successfully",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})},onError:i=>{console.error("Error updating room type:",i);let v="Failed to update room type.";i.images?v=Array.isArray(i.images)?i.images.join(`
`):i.images:i.name?v=i.name:i.max_occupancy?v=i.max_occupancy:i.package_id&&(v=i.package_id),w.fire({icon:"error",title:"Error",text:v,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}})},$e=s=>{w.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#e3342f",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",showConfirmButton:!0,showCloseButton:!0}).then(e=>{e.isConfirmed&&ve.delete(route("room-types.destroy",s),{data:{return_to_package:!0},preserveState:!0,preserveScroll:!0,onSuccess:()=>{w.fire({title:"Deleted!",text:"Room type has been deleted.",icon:"success",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),ye(1)}})})},B=_(""),S=_(""),E=_(""),oe=_(!1),se=_(!1),z=_([]);_([]);const re=_(!1),Oe=J(()=>B.value&&S.value&&E.value);J(()=>z.value.some(s=>s.type==="sur_charge"));const fe=()=>{re.value=!0,Q.post(route("configuration-prices.fetchPricesSearchIndex"),{package_id:b.pkg.id,season_type_id:B.value,date_type_id:S.value,room_type_id:E.value}).then(s=>{s.data&&s.data.length>0?(s.data[0].id,Object.keys(u.prices).forEach(e=>{u.prices[e]=[]}),s.data[0].prices.forEach(e=>{u.prices[e.type].push({id:e.id,package_configuration_id:e.package_configuration_id,type:e.type,number_of_adults:e.number_of_adults,number_of_children:e.number_of_children,adult_price:e.adult_price,child_price:e.child_price})}),z.value=s.data[0].prices,oe.value=!0,se.value=!0,j.value=!1,re.value=!1):(oe.value=!0,se.value=!1,j.value=!1,re.value=!1)}).catch(s=>{console.error("Error fetching prices:",s),oe.value=!0,se.value=!1,j.value=!1,re.value=!1})},pe=(s,e,o,i)=>{const v=z.value.find(A=>A.number_of_adults===s&&A.number_of_children===e&&A.type===o);return v?`MYR ${v[i+"_price"]}`:"-"},Ne=()=>{B.value="",S.value="",E.value="",oe.value=!1,se.value=!1,j.value=!1,$.value=!1,z.value=[],u.reset()},j=_(!1),$=_(!1),u=K({package_id:b.pkg.id,season_id:B.value,date_type_id:S.value,room_type:E.value,prices:{base_charge:[],sur_charge:[]}}),U=(s,e,o)=>(s-1)*4+e,ke=s=>{$.value=s==="edit",$.value&&z.value.length>0?(Object.keys(u.prices).forEach(e=>{u.prices[e]=Array(16).fill().map((o,i)=>({number_of_adults:Math.floor(i/4)+1,number_of_children:i%4,adult_price:"",child_price:""}))}),z.value.forEach(e=>{const o=U(e.number_of_adults,e.number_of_children,e.type);u.prices[e.type][o]={id:e.id,package_configuration_id:e.package_configuration_id,type:e.type,number_of_adults:e.number_of_adults,number_of_children:e.number_of_children,adult_price:e.adult_price,child_price:e.child_price}})):Object.keys(u.prices).forEach(e=>{u.prices[e]=Array(16).fill().map((o,i)=>({number_of_adults:Math.floor(i/4)+1,number_of_children:i%4,adult_price:"",child_price:""}))}),j.value=!0},xe=()=>{j.value=!1,$.value=!1,u.reset()},Ie=()=>{if($.value){const s={package_id:b.pkg.id,season_type_id:B.value,date_type_id:S.value,room_type:E.value,prices:u.prices};Q.put(route("configuration-prices.updatePrices",1),s).then(()=>{xe(),fe(),w.fire({icon:"success",title:"Success!",text:"Prices updated successfully",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}).catch(e=>{var o,i;console.error("Error updating prices:",e),w.fire({icon:"error",title:"Error",text:((i=(o=e.response)==null?void 0:o.data)==null?void 0:i.message)||"Failed to update prices",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})})}else{const s={package_id:b.pkg.id,season_type_id:B.value,date_type_id:S.value,room_type:E.value,prices:u.prices};Q.post(route("configuration-prices.store"),s).then(()=>{xe(),fe(),w.fire({icon:"success",title:"Success!",text:"Prices created successfully",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}).catch(e=>{var o,i;console.error("Error creating prices:",e),w.fire({icon:"error",title:"Error",text:((i=(o=e.response)==null?void 0:o.data)==null?void 0:i.message)||"Failed to create prices",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})})}};be([B,S,E],([s,e,o])=>{u.season_id=s,u.date_type_id=e,u.room_type=o}),be(q,s=>{s||setTimeout(()=>{g.reset(),g.clearErrors(),ie.value=""},500)}),be(L,s=>{s||setTimeout(()=>{m.reset(),m.clearErrors(),te.value=""},500)});const qe=s=>{navigator.clipboard.writeText(s).then(()=>{w.fire({icon:"success",title:"Copied!",text:"Link has been copied to clipboard",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})}).catch(()=>{w.fire({icon:"error",title:"Error",text:"Failed to copy link",showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"})})},Le=()=>{if(!u.prices.base_charge||u.prices.base_charge.length===0)return;const s=u.prices.base_charge[0];s&&(u.prices.base_charge=u.prices.base_charge.map((e,o)=>({number_of_adults:Math.floor(o/4)+1,number_of_children:o%4,adult_price:s.adult_price,child_price:s.child_price})))},Ke=()=>{if(!u.prices.sur_charge||u.prices.sur_charge.length===0)return;const s=u.prices.sur_charge[0];s&&(u.prices.sur_charge=u.prices.sur_charge.map((e,o)=>({number_of_adults:Math.floor(o/4)+1,number_of_children:o%4,adult_price:s.adult_price,child_price:s.child_price})))},O=(s,e,o,i=!1)=>{const A=[{adults:1,children:0},{adults:1,children:1},{adults:1,children:2},{adults:1,children:3},{adults:2,children:0},{adults:2,children:1},{adults:2,children:2},{adults:3,children:0},{adults:3,children:1},{adults:4,children:0}].some(Te=>Te.adults===s&&Te.children===e);return s==1&&e==0&&i?!0:!(!A||o=="child"&&e==0)},he=(s,e)=>{const o=Array.from(s.target.files),i=e==="roomTypeForm"?D:l,v=o.filter(A=>A.type.startsWith("image/")?A.size>2*1024*1024?(w.fire({icon:"error",title:"File Too Large",text:`${A.name} is larger than 2MB.`,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),!1):!0:(w.fire({icon:"error",title:"Invalid File Type",text:`${A.name} is not an image file.`,showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:"#4F46E5"}),!1));i.images=[...i.images,...v]},we=(s,e)=>{const o=e==="roomTypeForm"?D:l,i=o.images[s];typeof i=="string"&&o.delete_images.push(i),o.images.splice(s,1)},Ce=s=>s.startsWith("storage/")?`/${s}`:s.startsWith("room-types/")?`/storage/${s}`:`/storage/${s}`,He=s=>{w.fire({imageUrl:Ce(s),imageAlt:"Room image",showConfirmButton:!1,showCloseButton:!0,customClass:{container:"image-modal",popup:"max-w-4xl",closeButton:"text-gray-500 hover:text-gray-700",image:"max-h-[80vh] object-contain"},background:"#f8f9fa",padding:"1rem",width:"auto",backdrop:"rgba(0,0,0,0.8)"})};return(s,e)=>(a(),d(p,null,[T(r(Ge),{title:"Package Details"}),T(Qe,null,{header:M(()=>e[43]||(e[43]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Package Details ",-1)])),default:M(()=>[t("div",st,[t("div",rt,[t("div",at,[t("div",it,[T(Xe,{breadcrumbs:Be.value,class:"mb-6"},null,8,["breadcrumbs"]),t("div",dt,[t("nav",nt,[(a(),d(p,null,y(De,o=>t("button",{key:o.id,onClick:i=>F.value=o.id,class:P([F.value===o.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm"])},n(o.name),11,lt)),64))])]),t("div",ut,[F.value==="details"?(a(),d("div",ct,[t("div",mt,[t("div",pt,[e[45]||(e[45]=t("h3",{class:"text-md font-medium text-gray-900"},"Package Details",-1)),T(r(We),{href:s.route("packages.edit",c.pkg.id),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"},{default:M(()=>e[44]||(e[44]=[ze(" Edit Package ")])),_:1},8,["href"])]),e[56]||(e[56]=t("div",{class:"flex items-start"},null,-1)),t("div",gt,[t("div",null,[e[46]||(e[46]=t("h4",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("p",yt,n(c.pkg.name),1)]),t("div",null,[e[47]||(e[47]=t("h4",{class:"mt-4 text-sm font-medium text-gray-500"},"Location",-1)),t("p",ft,n(c.pkg.location),1)]),t("div",null,[e[48]||(e[48]=t("h4",{class:"text-sm font-medium text-gray-500"},"Description",-1)),t("p",xt,n(c.pkg.description),1)]),t("div",null,[e[49]||(e[49]=t("h4",{class:"text-sm font-medium text-gray-500"},"Display Prices",-1)),t("div",bt,[t("p",vt,"MYR "+n(Se(c.pkg.display_price_adult)),1)])]),t("div",null,[e[50]||(e[50]=t("h4",{class:"text-sm font-medium text-gray-500"},"Duration",-1)),t("p",_t,n(c.pkg.package_max_days+1)+" Days "+n(c.pkg.package_max_days)+" "+n(c.pkg.package_max_days>1?"Nights":"Night"),1)])]),t("div",null,[e[51]||(e[51]=t("h4",{class:"text-sm font-medium text-gray-500"},"Terms and Conditions",-1)),t("p",kt,n(c.pkg.terms_and_conditions),1)]),t("div",ht,[t("div",null,[e[52]||(e[52]=t("h4",{class:"text-sm font-medium text-gray-500"},"Package Date",-1)),t("p",wt,n(r(I)(c.pkg.package_start_date).format("DD/MM/YYYY"))+" - "+n(r(I)(c.pkg.package_end_date).format("DD/MM/YYYY")),1)])]),t("div",null,[e[53]||(e[53]=t("h4",{class:"text-sm font-medium text-gray-500"},"Created At",-1)),t("p",Ct,n(r(I)(c.pkg.created_at).format("DD-MM-YYYY HH:mm:ss A")),1)]),t("div",null,[e[54]||(e[54]=t("h4",{class:"text-sm font-medium text-gray-500"},"Updated At",-1)),t("p",Tt,n(r(I)(c.pkg.updated_at).format("DD-MM-YYYY HH:mm:ss A")),1)]),t("div",null,[e[55]||(e[55]=t("h4",{class:"text-sm font-medium text-gray-500"},"Link",-1)),t("div",Dt,[t("a",{href:s.route("quotation.with-hash",c.pkg.uuid),target:"_blank",class:"text-sm text-indigo-600 hover:text-indigo-900 break-all"},n(s.route("quotation.with-hash",c.pkg.uuid)),9,Bt),t("button",{onClick:e[0]||(e[0]=o=>qe(s.route("quotation.with-hash",c.pkg.uuid))),class:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Copy ")])])])])):f("",!0),F.value==="room-types"?(a(),d("div",St,[t("div",Et,[e[57]||(e[57]=t("h3",{class:"text-md font-medium text-gray-900"},"Room Types",-1)),t("button",{onClick:e[1]||(e[1]=o=>ae.value=!0),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"}," Add Room Type ")]),t("div",At,[t("table",Pt,[e[59]||(e[59]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Images"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Max Occupancy"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Description"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",Rt,[(a(!0),d(p,null,y(R.value.data,o=>(a(),d("tr",{key:o.id},[t("td",Mt,[o.images&&o.images.length>0?(a(),d("div",Ft,[(a(!0),d(p,null,y(o.images,(i,v)=>(a(),d("div",{key:v,class:"relative"},[t("img",{src:Ce(i),class:"h-16 w-16 object-cover rounded-lg cursor-pointer",onClick:A=>He(i),alt:"Room type image"},null,8,Ut)]))),128))])):(a(),d("span",Yt,"No images"))]),t("td",Vt,n(o.name),1),t("td",jt,n(o.max_occupancy),1),t("td",$t,n(o.description),1),t("td",Ot,[t("button",{onClick:i=>Ve(o),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Edit ",8,Nt),t("button",{onClick:i=>$e(o.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,It)])]))),128)),R.value.data.length===0?(a(),d("tr",qt,e[58]||(e[58]=[t("td",{colspan:"5",class:"text-center text-gray-500 py-4 border-t border-b border-gray-300"},"No room types found",-1)]))):f("",!0)])])]),t("div",Lt,[(a(),ge(_e,{links:de.value.links,from:de.value.from,to:de.value.to,total:de.value.total,"component-loading":!0,onPageChange:ye,key:G.value},null,8,["links","from","to","total"]))])])):f("",!0),F.value==="season-types"?(a(),d("div",Kt,[t("div",Ht,[e[60]||(e[60]=t("h3",{class:"text-md font-medium text-gray-900"},"Season Dates",-1)),t("button",{onClick:e[2]||(e[2]=o=>q.value=!0),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"}," Add Season ")]),t("div",Gt,[t("table",Wt,[e[62]||(e[62]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Season Type"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Start Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"End Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",zt,[(a(!0),d(p,null,y(Y.value.data,o=>(a(),d("tr",{key:o.id},[t("td",Jt,n(o.type.name),1),t("td",Qt,n(r(I)(o.start_date).format("DD/MM/YYYY")),1),t("td",Xt,n(r(I)(o.end_date).format("DD/MM/YYYY")),1),t("td",Zt,[t("button",{onClick:i=>Ae(o),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Edit ",8,eo),t("button",{onClick:i=>Ee(o.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,to)])]))),128)),Y.value.data.length===0?(a(),d("tr",oo,e[61]||(e[61]=[t("td",{colspan:"4",class:"text-center text-gray-500 py-4 border-t border-b border-gray-300"},"No seasons found",-1)]))):f("",!0)])])]),t("div",so,[(a(),ge(_e,{links:ne.value.links,from:ne.value.from,to:ne.value.to,total:ne.value.total,"component-loading":!0,onPageChange:ue,key:G.value},null,8,["links","from","to","total"]))])])):f("",!0),F.value==="date-types-ranges"?(a(),d("div",ro,[t("div",ao,[e[63]||(e[63]=t("h3",{class:"text-md font-medium text-gray-900"},"Date Type Ranges",-1)),t("div",io,[t("button",{onClick:e[3]||(e[3]=o=>L.value=!0),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"}," Add Date Range ")])]),t("div",no,[t("table",lo,[e[65]||(e[65]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date Type"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Start Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"End Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",uo,[(a(!0),d(p,null,y(V.value.data,o=>(a(),d("tr",{key:o.id},[t("td",co,n(o.date_type.name),1),t("td",mo,n(r(I)(o.start_date).format("DD/MM/YYYY")),1),t("td",po,n(r(I)(o.end_date).format("DD/MM/YYYY")),1),t("td",go,[t("button",{onClick:i=>Me(o),class:"text-indigo-600 hover:text-indigo-900 mr-3"}," Edit ",8,yo),t("button",{onClick:i=>Ye(o.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,fo)])]))),128)),V.value.data.length===0?(a(),d("tr",xo,e[64]||(e[64]=[t("td",{colspan:"4",class:"text-center text-gray-500 py-4 border-t border-b border-gray-300"},"No date type ranges found",-1)]))):f("",!0)])])]),t("div",bo,[(a(),ge(_e,{links:le.value.links,from:le.value.from,to:le.value.to,total:le.value.total,"component-loading":!0,onPageChange:me,key:G.value},null,8,["links","from","to","total"]))])])):f("",!0),F.value==="price-configuration"?(a(),d("div",vo,[j.value?f("",!0):(a(),d("div",_o,[t("div",ko,[t("div",null,[e[67]||(e[67]=t("label",{for:"season",class:"block text-sm font-medium text-gray-700"},"Season",-1)),x(t("select",{id:"season","onUpdate:modelValue":e[4]||(e[4]=o=>B.value=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[e[66]||(e[66]=t("option",{value:""},"Select Season",-1)),(a(!0),d(p,null,y(c.priceConfigSeasonChoice,o=>(a(),d("option",{key:o.id,value:o.id},n(o.name),9,ho))),128))],512),[[N,B.value]])]),t("div",null,[e[69]||(e[69]=t("label",{for:"dateType",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),x(t("select",{id:"dateType","onUpdate:modelValue":e[5]||(e[5]=o=>S.value=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[e[68]||(e[68]=t("option",{value:""},"Select Date Type",-1)),(a(!0),d(p,null,y(c.priceConfigDateTypeChoice,o=>(a(),d("option",{key:o.id,value:o.id},n(o.name),9,wo))),128))],512),[[N,S.value]])]),t("div",null,[e[71]||(e[71]=t("label",{for:"roomType",class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),x(t("select",{id:"roomType","onUpdate:modelValue":e[6]||(e[6]=o=>E.value=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[e[70]||(e[70]=t("option",{value:""},"Select Room Type",-1)),(a(!0),d(p,null,y(R.value.data,o=>(a(),d("option",{key:o.id,value:o.id},n(o.name),9,Co))),128))],512),[[N,E.value]])])]),t("div",To,[t("button",{onClick:fe,disabled:!Oe.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs disabled:opacity-50 disabled:cursor-not-allowed"}," Search Prices ",8,Do),t("button",{onClick:Ne,class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Reset ")]),re.value?(a(),ge(Je,{key:0,name:"fade"},{default:M(()=>[t("div",Bo,[T(Ze)])]),_:1})):se.value?(a(),d("div",So,[t("div",Eo,[e[74]||(e[74]=t("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Base Charges",-1)),t("table",Ao,[t("thead",Po,[t("tr",null,[e[72]||(e[72]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(a(),d(p,null,y(4,o=>t("th",{key:o-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},n(o-1)+" Children ",1)),64))])]),t("tbody",Ro,[(a(),d(p,null,y(4,o=>t("tr",{key:o},[t("td",Mo,n(o)+" Adults ",1),(a(),d(p,null,y(4,i=>t("td",{key:i-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},[O(o,i-1,"adult")?(a(),d("span",Uo,"Adult: "+n(pe(o,i-1,"base_charge","adult")),1)):(a(),d("span",Fo,"Adult: -")),e[73]||(e[73]=t("br",null,null,-1)),O(o,i-1,"child")?(a(),d("span",Vo,"Child: "+n(pe(o,i-1,"base_charge","child")),1)):(a(),d("span",Yo,"Child: -"))])),64))])),64))])])]),t("div",jo,[e[77]||(e[77]=t("h3",{class:"text-md font-medium text-gray-900 mb-4"},"Surcharges",-1)),t("table",$o,[t("thead",Oo,[t("tr",null,[e[75]||(e[75]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(a(),d(p,null,y(4,o=>t("th",{key:o-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},n(o-1)+" Children ",1)),64))])]),t("tbody",No,[(a(),d(p,null,y(4,o=>t("tr",{key:o},[t("td",Io,n(o)+" Adults ",1),(a(),d(p,null,y(4,i=>t("td",{key:i-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},[O(o,i-1,"adult")?(a(),d("span",Lo,"Adult: "+n(pe(o,i-1,"sur_charge","adult")),1)):(a(),d("span",qo,"Adult: -")),e[76]||(e[76]=t("br",null,null,-1)),O(o,i-1,"child")?(a(),d("span",Ho,"Child: "+n(pe(o,i-1,"sur_charge","child")),1)):(a(),d("span",Ko,"Child: -"))])),64))])),64))])])]),t("div",Go,[t("button",{onClick:e[7]||(e[7]=o=>ke("edit")),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs"}," Edit Prices ")])])):oe.value?(a(),d("div",Wo,[e[78]||(e[78]=t("p",{class:"mb-4"},"No prices found for the selected criteria.",-1)),t("button",{onClick:e[8]||(e[8]=o=>ke("create")),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-sm"}," Create Now ")])):(a(),d("div",zo," Please select all options and click search to view the price matrix. "))])),j.value?(a(),d("div",Jo,[t("div",Qo,[t("h3",Xo,n($.value?"Edit Prices":"Create Prices"),1)]),$.value?(a(),d("div",Zo,[t("div",es,[t("div",null,[e[80]||(e[80]=t("label",{for:"season",class:"block text-sm font-medium text-gray-700"},"Season",-1)),x(t("select",{id:"season","onUpdate:modelValue":e[9]||(e[9]=o=>B.value=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 disabled:opacity-50",disabled:""},[e[79]||(e[79]=t("option",{value:""},"Select Season",-1)),(a(!0),d(p,null,y(c.priceConfigSeasonChoice,o=>(a(),d("option",{key:o.id,value:o.id},n(o.name),9,ts))),128))],512),[[N,B.value]])]),t("div",null,[e[82]||(e[82]=t("label",{for:"dateType",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),x(t("select",{id:"dateType","onUpdate:modelValue":e[10]||(e[10]=o=>S.value=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:""},[e[81]||(e[81]=t("option",{value:""},"Select Date Type",-1)),(a(!0),d(p,null,y(c.priceConfigDateTypeChoice,o=>(a(),d("option",{key:o.id,value:o.id},n(o.name),9,os))),128))],512),[[N,S.value]])]),t("div",null,[e[84]||(e[84]=t("label",{for:"roomType",class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),x(t("select",{id:"roomType","onUpdate:modelValue":e[11]||(e[11]=o=>E.value=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:""},[e[83]||(e[83]=t("option",{value:""},"Select Room Type",-1)),(a(!0),d(p,null,y(R.value.data,o=>(a(),d("option",{key:o.id,value:o.id},n(o.name),9,ss))),128))],512),[[N,E.value]])])])])):f("",!0),t("form",{onSubmit:H(Ie,["prevent"])},[t("div",rs,[t("div",as,[t("div",{class:"flex justify-between items-center mb-4"},[e[85]||(e[85]=t("h3",{class:"text-md font-medium text-gray-900"},"Base Charges",-1)),t("button",{type:"button",onClick:Le,class:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 hover:bg-yellow-200 rounded-md transition-colors duration-200 border border-yellow-300 hover:border-yellow-400"}," Apply 1st Price To All ")]),t("table",is,[t("thead",ds,[t("tr",null,[e[86]||(e[86]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(a(),d(p,null,y(4,o=>t("th",{key:o-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},n(o-1)+" Children ",1)),64))])]),t("tbody",ns,[(a(),d(p,null,y(4,o=>t("tr",{key:o},[t("td",ls,n(o)+" Adults ",1),(a(),d(p,null,y(4,i=>t("td",{key:i-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center"},[e[87]||(e[87]=t("span",{class:"text-xs text-gray-500"},"Adults:",-1)),O(o,i-1,"adult",!0)?x((a(),d("input",{key:1,type:"number","onUpdate:modelValue":v=>r(u).prices.base_charge[U(o,i-1,"base_charge")].adult_price=v,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Adult Price",step:"0.01"},null,8,cs)),[[C,r(u).prices.base_charge[U(o,i-1,"base_charge")].adult_price]]):(a(),d("span",us,"-")),e[88]||(e[88]=t("div",{class:"text-xs text-gray-500 mt-2 block"},"Child:",-1)),O(o,i-1,"child",!0)?x((a(),d("input",{key:3,type:"number","onUpdate:modelValue":v=>r(u).prices.base_charge[U(o,i-1,"base_charge")].child_price=v,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Child Price",step:"0.01"},null,8,ps)),[[C,r(u).prices.base_charge[U(o,i-1,"base_charge")].child_price]]):(a(),d("span",ms,"-"))])),64))])),64))])])]),t("div",gs,[t("div",{class:"flex justify-between items-center mb-4"},[e[89]||(e[89]=t("h3",{class:"text-md font-medium text-gray-900"},"Surcharges",-1)),t("button",{type:"button",onClick:Ke,class:"px-2 py-1 text-xs font-medium text-yellow-800 bg-yellow-100 hover:bg-yellow-200 rounded-md transition-colors duration-200 border border-yellow-300 hover:border-yellow-400"}," Apply 1st Price To All ")]),t("table",ys,[t("thead",fs,[t("tr",null,[e[90]||(e[90]=t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults",-1)),(a(),d(p,null,y(4,o=>t("th",{key:o-1,class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},n(o-1)+" Children ",1)),64))])]),t("tbody",xs,[(a(),d(p,null,y(4,o=>t("tr",{key:o},[t("td",bs,n(o)+" Adults ",1),(a(),d(p,null,y(4,i=>t("td",{key:i-1,class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},[e[91]||(e[91]=t("div",{class:"text-xs text-gray-500 mt-4 block"},"Adults:",-1)),O(o,i-1,"adult",!0)?x((a(),d("input",{key:1,type:"number","onUpdate:modelValue":v=>r(u).prices.sur_charge[U(o,i-1,"sur_charge")].adult_price=v,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",step:"0.01",placeholder:"Adult Price"},null,8,_s)),[[C,r(u).prices.sur_charge[U(o,i-1,"sur_charge")].adult_price]]):(a(),d("span",vs,"-")),e[92]||(e[92]=t("div",{class:"text-xs text-gray-500 mt-2 block"},"Child:",-1)),O(o,i-1,"child",!0)?x((a(),d("input",{key:3,type:"number","onUpdate:modelValue":v=>r(u).prices.sur_charge[U(o,i-1,"sur_charge")].child_price=v,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",step:"0.01",placeholder:"Child Price"},null,8,hs)),[[C,r(u).prices.sur_charge[U(o,i-1,"sur_charge")].child_price]]):(a(),d("span",ks,"-"))])),64))])),64))])])])]),t("div",ws,[t("button",{type:"button",onClick:xe,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:r(u).processing},n($.value?"Update Prices":"Create Prices"),9,Cs)])],32)])):f("",!0)])):f("",!0),F.value==="price-configuration-room-types"?(a(),d("div",Ts,[T(et,{"package-id":c.pkg.id,"season-types":c.priceConfigSeasonChoice,"date-types":c.priceConfigDateTypeChoice},null,8,["package-id","season-types","date-types"])])):f("",!0),F.value==="date-blockers"?(a(),d("div",Ds,[T(tt,{"package-id":c.pkg.id},null,8,["package-id"])])):f("",!0)])])])])]),T(X,{show:ae.value,onClose:e[18]||(e[18]=o=>ae.value=!1)},{default:M(()=>[t("div",Bs,[e[102]||(e[102]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Add Room Type",-1)),t("form",{onSubmit:e[17]||(e[17]=H((...o)=>s.submitRoomType&&s.submitRoomType(...o),["prevent"]))},[t("div",Ss,[t("div",null,[e[93]||(e[93]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),x(t("input",{type:"text",id:"name","onUpdate:modelValue":e[12]||(e[12]=o=>r(D).name=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[C,r(D).name]])]),t("div",null,[e[94]||(e[94]=t("label",{for:"max_occupancy",class:"block text-sm font-medium text-gray-700"},"Max Occupancy",-1)),x(t("input",{type:"number",id:"max_occupancy","onUpdate:modelValue":e[13]||(e[13]=o=>r(D).max_occupancy=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",required:""},null,512),[[C,r(D).max_occupancy]])]),t("div",null,[e[95]||(e[95]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),x(t("textarea",{id:"description","onUpdate:modelValue":e[14]||(e[14]=o=>r(D).description=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3"},null,512),[[C,r(D).description]])]),t("div",null,[e[101]||(e[101]=t("label",{class:"block text-sm font-medium text-gray-700"},"Images",-1)),t("div",Es,[t("div",As,[e[98]||(e[98]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[t("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),t("div",Ps,[t("label",Rs,[e[96]||(e[96]=t("span",null,"Upload images",-1)),t("input",{id:"images",type:"file",multiple:"",accept:"image/*",class:"sr-only",onChange:e[15]||(e[15]=o=>he(o,"roomTypeForm"))},null,32)]),e[97]||(e[97]=t("p",{class:"pl-1"},"or drag and drop",-1))]),e[99]||(e[99]=t("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 2MB each",-1))])]),r(D).images.length>0?(a(),d("div",Ms,[(a(!0),d(p,null,y(r(D).images,(o,i)=>(a(),d("div",{key:i,class:"relative"},[t("img",{src:s.getImagePreviewUrl(o),class:"h-24 w-full object-cover rounded-lg",alt:"Room type image"},null,8,Fs),t("button",{type:"button",onClick:v=>we(i,"roomTypeForm"),class:"absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600"},e[100]||(e[100]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Us)]))),128))])):f("",!0)])]),t("div",Ys,[t("button",{type:"button",onClick:e[16]||(e[16]=o=>ae.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:r(D).processing}," Create Room Type ",8,Vs)])],32)])]),_:1},8,["show"]),T(X,{show:Z.value,onClose:e[24]||(e[24]=o=>Z.value=!1)},{default:M(()=>[t("div",js,[e[112]||(e[112]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Edit Room Type",-1)),t("form",{onSubmit:H(je,["prevent"])},[t("div",$s,[t("div",null,[e[103]||(e[103]=t("label",{for:"edit_name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),x(t("input",{type:"text",id:"edit_name","onUpdate:modelValue":e[19]||(e[19]=o=>r(l).name=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[C,r(l).name]])]),t("div",null,[e[104]||(e[104]=t("label",{for:"edit_max_occupancy",class:"block text-sm font-medium text-gray-700"},"Max Occupancy",-1)),x(t("input",{type:"number",id:"edit_max_occupancy","onUpdate:modelValue":e[20]||(e[20]=o=>r(l).max_occupancy=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",required:""},null,512),[[C,r(l).max_occupancy]])]),t("div",null,[e[105]||(e[105]=t("label",{for:"edit_description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),x(t("textarea",{id:"edit_description","onUpdate:modelValue":e[21]||(e[21]=o=>r(l).description=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3"},null,512),[[C,r(l).description]])]),t("div",null,[e[111]||(e[111]=t("label",{class:"block text-sm font-medium text-gray-700"},"Images",-1)),t("div",Os,[t("div",Ns,[e[108]||(e[108]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[t("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),t("div",Is,[t("label",qs,[e[106]||(e[106]=t("span",null,"Upload images",-1)),t("input",{id:"edit_images",type:"file",multiple:"",accept:"image/*",class:"sr-only",onChange:e[22]||(e[22]=o=>he(o,"editRoomTypeForm"))},null,32)]),e[107]||(e[107]=t("p",{class:"pl-1"},"or drag and drop",-1))]),e[109]||(e[109]=t("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 2MB each",-1))])]),r(l).images.length>0?(a(),d("div",Ls,[(a(!0),d(p,null,y(r(l).images,(o,i)=>(a(),d("div",{key:i,class:"relative"},[t("img",{src:s.getImagePreviewUrl(o),class:"h-24 w-full object-cover rounded-lg",alt:"Room type image"},null,8,Ks),t("button",{type:"button",onClick:v=>we(i,"editRoomTypeForm"),class:"absolute top-0 right-0 -mt-2 -mr-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600"},e[110]||(e[110]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Hs)]))),128))])):f("",!0)])]),t("div",Gs,[t("button",{type:"button",onClick:e[23]||(e[23]=o=>Z.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:r(l).processing}," Update Room Type ",8,Ws)])],32)])]),_:1},8,["show"]),T(X,{show:ee.value,onClose:e[28]||(e[28]=o=>ee.value=!1)},{default:M(()=>{var o;return[t("div",zs,[e[116]||(e[116]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Edit Season",-1)),t("form",{onSubmit:H(Pe,["prevent"])},[t("div",Js,[t("div",null,[e[113]||(e[113]=t("label",{for:"edit_season_type_id",class:"block text-sm font-medium text-gray-700"},"Season Type",-1)),t("span",Qs,n(((o=c.seasonTypes.find(i=>i.id===r(k).season_type_id))==null?void 0:o.name)||"N/A"),1)]),t("div",null,[e[114]||(e[114]=t("label",{for:"edit_start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),x(t("input",{type:"date",id:"edit_start_date","onUpdate:modelValue":e[25]||(e[25]=i=>r(k).start_date=i),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(k).errors.start_date}]),required:""},null,2),[[C,r(k).start_date]]),r(k).errors.start_date?(a(),d("div",Xs,n(r(k).errors.start_date),1)):f("",!0)]),t("div",null,[e[115]||(e[115]=t("label",{for:"edit_end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),x(t("input",{type:"date",id:"edit_end_date","onUpdate:modelValue":e[26]||(e[26]=i=>r(k).end_date=i),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(k).errors.end_date}]),required:""},null,2),[[C,r(k).end_date]]),r(k).errors.end_date?(a(),d("div",Zs,n(r(k).errors.end_date),1)):f("",!0)])]),t("div",er,[t("button",{type:"button",onClick:e[27]||(e[27]=i=>ee.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:r(k).processing}," Update Season ",8,tr)])],32)])]}),_:1},8,["show"]),T(X,{show:q.value,onClose:e[33]||(e[33]=()=>{q.value=!1,r(g).reset(),r(g).clearErrors()})},{default:M(()=>[t("div",or,[e[121]||(e[121]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Add Season",-1)),ie.value?(a(),d("div",sr,n(ie.value),1)):f("",!0),t("form",{onSubmit:H(Re,["prevent"])},[t("div",rr,[t("div",null,[e[118]||(e[118]=t("label",{for:"season_type_id",class:"block text-sm font-medium text-gray-700"},"Season Type",-1)),x(t("select",{id:"season_type_id","onUpdate:modelValue":e[29]||(e[29]=o=>r(g).season_type_id=o),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(g).errors.season_type_id}]),required:""},[e[117]||(e[117]=t("option",{value:""},"Select a season type",-1)),(a(!0),d(p,null,y(c.seasonTypes,o=>(a(),d("option",{key:o.id,value:o.id},n(o.name),9,ar))),128))],2),[[N,r(g).season_type_id]]),r(g).errors.season_type_id?(a(),d("div",ir,n(r(g).errors.season_type_id),1)):f("",!0)]),t("div",null,[e[119]||(e[119]=t("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),x(t("input",{type:"date",id:"start_date","onUpdate:modelValue":e[30]||(e[30]=o=>r(g).start_date=o),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(g).errors.start_date}]),required:""},null,2),[[C,r(g).start_date]]),r(g).errors.start_date?(a(),d("div",dr,n(r(g).errors.start_date),1)):f("",!0)]),t("div",null,[e[120]||(e[120]=t("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),x(t("input",{type:"date",id:"end_date","onUpdate:modelValue":e[31]||(e[31]=o=>r(g).end_date=o),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(g).errors.end_date}]),required:""},null,2),[[C,r(g).end_date]]),r(g).errors.end_date?(a(),d("div",nr,n(r(g).errors.end_date),1)):f("",!0)])]),t("div",lr,[t("button",{type:"button",onClick:e[32]||(e[32]=()=>{q.value=!1,r(g).reset(),r(g).clearErrors()}),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:r(g).processing}," Create Season ",8,ur)])],32)])]),_:1},8,["show"]),T(X,{show:L.value,onClose:e[38]||(e[38]=()=>{L.value=!1,r(m).reset(),r(m).clearErrors()})},{default:M(()=>[t("div",cr,[e[126]||(e[126]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Add Date Range",-1)),te.value?(a(),d("div",mr,n(te.value),1)):f("",!0),t("form",{onSubmit:H(Fe,["prevent"])},[t("div",pr,[t("div",null,[e[123]||(e[123]=t("label",{for:"date_type_id",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),x(t("select",{id:"date_type_id","onUpdate:modelValue":e[34]||(e[34]=o=>r(m).date_type_id=o),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(m).errors.date_type_id}]),required:""},[e[122]||(e[122]=t("option",{value:""},"Select a date type",-1)),(a(!0),d(p,null,y(c.dateTypes,o=>(a(),d("option",{key:o.id,value:o.id},n(o.name),9,gr))),128))],2),[[N,r(m).date_type_id]]),r(m).errors.date_type_id?(a(),d("div",yr,n(r(m).errors.date_type_id),1)):f("",!0)]),t("div",null,[e[124]||(e[124]=t("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),x(t("input",{type:"date",id:"start_date","onUpdate:modelValue":e[35]||(e[35]=o=>r(m).start_date=o),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(m).errors.start_date}]),required:""},null,2),[[C,r(m).start_date]]),r(m).errors.start_date?(a(),d("div",fr,n(r(m).errors.start_date),1)):f("",!0)]),t("div",null,[e[125]||(e[125]=t("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),x(t("input",{type:"date",id:"end_date","onUpdate:modelValue":e[36]||(e[36]=o=>r(m).end_date=o),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(m).errors.end_date}]),required:""},null,2),[[C,r(m).end_date]]),r(m).errors.end_date?(a(),d("div",xr,n(r(m).errors.end_date),1)):f("",!0)])]),t("div",br,[t("button",{type:"button",onClick:e[37]||(e[37]=o=>L.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:r(m).processing}," Create Date Range ",8,vr)])],32)])]),_:1},8,["show"]),T(X,{show:W.value,onClose:e[42]||(e[42]=o=>W.value=!1)},{default:M(()=>{var o;return[t("div",_r,[e[130]||(e[130]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Edit Date Range",-1)),t("form",{onSubmit:H(Ue,["prevent"])},[t("div",kr,[t("div",null,[e[127]||(e[127]=t("label",{for:"edit_date_type_id",class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),t("span",hr,n(((o=c.dateTypes.find(i=>i.id===r(h).date_type_id))==null?void 0:o.name)||"N/A"),1)]),t("div",null,[e[128]||(e[128]=t("label",{for:"edit_start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),x(t("input",{type:"date",id:"edit_start_date","onUpdate:modelValue":e[39]||(e[39]=i=>r(h).start_date=i),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(h).errors.start_date}]),required:""},null,2),[[C,r(h).start_date]]),r(h).errors.start_date?(a(),d("div",wr,n(r(h).errors.start_date),1)):f("",!0)]),t("div",null,[e[129]||(e[129]=t("label",{for:"edit_end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),x(t("input",{type:"date",id:"edit_end_date","onUpdate:modelValue":e[40]||(e[40]=i=>r(h).end_date=i),class:P(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(h).errors.end_date}]),required:""},null,2),[[C,r(h).end_date]]),r(h).errors.end_date?(a(),d("div",Cr,n(r(h).errors.end_date),1)):f("",!0)])]),t("div",Tr,[t("button",{type:"button",onClick:e[41]||(e[41]=i=>W.value=!1),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"}," Cancel "),t("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:r(h).processing}," Update Date Range ",8,Dr)])],32)])]}),_:1},8,["show"])]),_:1})],64))}},Nr=ot(Br,[["__scopeId","data-v-072783d5"]]);export{Nr as default};

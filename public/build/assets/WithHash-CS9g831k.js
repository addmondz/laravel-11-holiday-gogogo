import{k as v,l as H,y as A,C as N,p as W,B as E,g as r,o as d,c as F,w as G,b as t,a as L,T as U,F as k,s as D,t as s,e as z,h as p,j as M,x as C,u as _,n as y,f as B}from"./app-CsJLUj4_.js";import{L as O}from"./LoadingComponent-BKp8iDAb.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"min-h-screen bg-gray-100"},K={class:"flex justify-center items-center h-full min-h-screen"},Q={key:1,class:"min-h-screen flex items-center justify-center"},X={key:2,class:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",style:{"padding-bottom":"50px"}},Z={class:"mb-8"},tt={class:"relative"},et={class:"overflow-hidden rounded-lg shadow-lg"},st={class:"relative mt-10",style:{height:"500px"}},at=["src","alt"],lt={class:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 z-20"},ot=["onClick","aria-label"],nt={class:"bg-white rounded-lg shadow-lg p-6 mb-8"},dt={class:"text-3xl font-bold text-gray-900 mb-4"},it={class:"text-gray-600 mb-6"},rt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ut={class:"text-gray-600"},ct={class:"text-gray-600"},gt={class:"text-gray-600"},mt={class:"text-gray-600"},pt={class:"mt-6"},_t={class:"text-gray-600"},vt={class:"bg-white rounded-lg shadow-lg p-6"},xt={class:"space-y-4"},ft={key:0,class:"text-center py-4"},yt={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ht=["onClick"],bt={class:"flex items-start justify-between"},wt={class:"text-lg font-semibold text-gray-900"},kt={class:"text-sm text-gray-600 mt-1"},Dt={class:"text-right"},Mt={class:"text-lg font-bold text-indigo-600"},Ct={class:"mt-4 text-sm text-indigo-600"},jt={key:2,class:"mt-1 text-sm text-red-600"},Rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},St=["min"],Yt={key:0,class:"mt-1 text-sm text-red-600"},At=["min"],Bt={key:0,class:"mt-1 text-sm text-red-600"},Tt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qt={key:0,class:"mt-1 text-sm text-red-600"},It={key:0,class:"bg-gray-50 rounded-lg p-4"},Pt={key:0,class:"mb-6 border-b pb-4"},Vt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ht={class:"font-medium text-gray-900"},Nt={class:"font-medium text-gray-900"},Wt={key:0,class:"ml-2 text-sm text-indigo-600"},Et={class:"font-medium text-gray-900"},Ft={class:"font-medium text-gray-900"},Gt={class:"font-medium text-gray-900"},Lt={class:"font-medium text-gray-900"},Ut={class:"font-medium text-gray-900"},zt={key:0},Ot={class:"text-2xl font-bold text-indigo-600"},$t={key:1,class:"mt-4 space-y-4"},Jt={class:"border-t pt-4"},Kt={class:"space-y-1 text-sm text-gray-600"},Qt={class:"flex justify-between"},Xt={class:"flex justify-between"},Zt={class:"flex justify-between font-medium text-gray-900"},te={key:0,class:"border-t pt-4"},ee={class:"space-y-1 text-sm text-gray-600"},se={class:"flex justify-between"},ae={class:"flex justify-between"},le={class:"flex justify-between font-medium text-gray-900"},oe={key:1,class:"border-t pt-4"},ne={class:"space-y-1 text-sm text-gray-600"},de={class:"flex justify-between"},ie={class:"flex justify-between"},re={class:"flex justify-between font-medium text-gray-900"},ue={key:2,class:"border-t pt-4"},ce={class:"space-y-3"},ge={class:"font-medium text-gray-900"},me={class:"space-y-1 mt-1"},pe={class:"flex justify-between"},_e={class:"flex justify-between"},ve={class:"flex justify-between font-medium text-gray-900"},xe={class:"flex justify-between font-medium text-gray-900 border-t pt-2"},fe={class:"border-t pt-4"},ye={class:"flex justify-between text-lg font-bold text-gray-900"},he={class:"flex justify-end"},be=["disabled"],we={__name:"WithHash",props:{uuid:String},setup(T){const q=T,g=v(null),x=v(0),h=v(null),i=v(null),b=v([]),R=v(null),j=v(!0),n=v(null);v("");const c=v({room_type:"",start_date:"",end_date:"",adults:""});H(async()=>{try{const l=await A.post(route("api.fetch-package-by-uuid"),{uuid:q.uuid});l.data.success&&l.data.package?(g.value={...l.data.package,images:f},b.value=l.data.room_types):g.value=null,j.value=!1}catch(l){console.error("Error fetching package:",l),g.value=null,j.value=!1}P()});const f=["https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80","https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80","https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80"],a=N({start_date:"",end_date:"",adults:1,children:0,room_type_id:null}),S=()=>{let l=!0;if(c.value={room_type:"",start_date:"",end_date:"",adults:""},a.room_type_id||(c.value.room_type="Please select a room type",l=!1),a.start_date||(c.value.start_date="Please select a start date",l=!1),a.end_date||(c.value.end_date="Please select an end date",l=!1),a.start_date&&a.end_date){const e=new Date(a.start_date),m=new Date(a.end_date)-e;Math.ceil(m/(1e3*60*60*24))<1&&(c.value.end_date="End date must be at least 1 day after start date",l=!1)}return(!a.adults||a.adults<1)&&(c.value.adults="Please select at least 1 adult",l=!1),l},I=async()=>{if(S())try{const l=await A.post(route("api.package-calculate-price"),{package_id:g.value.id,room_type:a.room_type_id,start_date:a.start_date,end_date:a.end_date,adults:a.adults,children:a.children});l.data.success&&(h.value=parseFloat(l.data.total),i.value=l.data.breakdown,n.value={roomType:b.value.find(e=>e.id===a.room_type_id),startDate:a.start_date,endDate:a.end_date,adults:a.adults,children:a.children,nights:Math.ceil((new Date(a.end_date)-new Date(a.start_date))/(1e3*60*60*24)),season:l.data.season,seasonType:l.data.season_type,dateType:l.data.date_type,isWeekend:l.data.is_weekend})}catch(l){console.error("Error calculating price:",l),h.value=null,i.value=null,n.value=null}};W([()=>a.start_date,()=>a.end_date],()=>{S()});const P=()=>{const l=setInterval(()=>{Y()},5e3);E(()=>{clearInterval(l)})},Y=()=>{x.value=(x.value+1)%f.length},V=()=>{x.value=(x.value-1+f.length)%f.length},u=l=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l);return(l,e)=>(d(),r("div",J,[j.value?(d(),F(U,{key:0,name:"fade"},{default:G(()=>[t("div",K,[L(O)])]),_:1})):g.value?(d(),r("div",X,[t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[(d(),r(k,null,D(f,(o,m)=>{var w;return t("img",{key:m,src:o,class:y(["absolute inset-0 w-full h-full object-cover transition-opacity duration-500  h-[500px]",x.value===m?"opacity-100 z-10":"opacity-0 z-0"]),alt:((w=g.value)==null?void 0:w.name)||"Package Image"},null,10,at)}),64)),t("button",{onClick:V,class:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 z-20","aria-label":"Previous image"},e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("button",{onClick:Y,class:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 z-20","aria-label":"Next image"},e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])]),t("div",lt,[(d(),r(k,null,D(f,(o,m)=>t("button",{key:m,onClick:w=>x.value=m,class:y(["w-3 h-3 rounded-full transition-colors duration-200",x.value===m?"bg-white":"bg-white/50 hover:bg-white/75"]),"aria-label":`Go to image ${m+1}`},null,10,ot)),64))])])]),t("div",nt,[t("h1",dt,s(g.value.name),1),t("p",it,s(g.value.description),1),t("div",rt,[t("div",null,[e[7]||(e[7]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Location",-1)),t("p",ut,s(g.value.location),1)]),t("div",null,[e[8]||(e[8]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Duration",-1)),t("p",ct,s(g.value.package_min_days)+" - "+s(g.value.package_max_days)+" days",1)]),t("div",null,[e[9]||(e[9]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Display Prices",-1)),t("p",gt,"Adult: MYR "+s(u(g.value.display_price_adult)),1),t("p",mt,"Child: MYR "+s(u(g.value.display_price_child)),1)])]),t("div",pt,[e[10]||(e[10]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Terms and Conditions",-1)),t("p",_t,s(g.value.terms_and_conditions),1)])]),t("div",vt,[e[37]||(e[37]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Book Your Stay",-1)),t("form",{onSubmit:z(I,["prevent"]),class:"space-y-6"},[t("div",xt,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Room Type",-1)),b.value.length===0?(d(),r("div",ft,e[11]||(e[11]=[t("p",{class:"text-gray-600"},"No room types available for this package.",-1)]))):(d(),r("div",yt,[(d(!0),r(k,null,D(b.value,o=>(d(),r("div",{key:o.id,class:y(["border rounded-lg p-4 cursor-pointer transition-all duration-200",R.value===o.id?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-indigo-400"]),onClick:m=>{R.value=o.id,_(a).room_type_id=o.id}},[t("div",bt,[t("div",null,[t("h3",wt,s(o.name),1),t("p",kt,s(o.description),1)]),t("div",Dt,[t("p",Mt," MYR "+s(u(o.price_per_night)),1),e[12]||(e[12]=t("p",{class:"text-sm text-gray-500"},"per night",-1))])]),t("div",Ct,[t("p",null,"Max Occupancy: "+s(o.max_occupancy)+" persons",1)])],10,ht))),128))])),c.value.room_type?(d(),r("p",jt,s(c.value.room_type),1)):p("",!0)]),t("div",Rt,[t("div",null,[e[14]||(e[14]=t("label",{for:"start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),M(t("input",{type:"date",id:"start_date","onUpdate:modelValue":e[0]||(e[0]=o=>_(a).start_date=o),min:new Date().toISOString().split("T")[0],class:y(["mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",c.value.start_date?"border-red-500":"border-gray-300"]),required:""},null,10,St),[[C,_(a).start_date]]),c.value.start_date?(d(),r("p",Yt,s(c.value.start_date),1)):p("",!0)]),t("div",null,[e[15]||(e[15]=t("label",{for:"end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),M(t("input",{type:"date",id:"end_date","onUpdate:modelValue":e[1]||(e[1]=o=>_(a).end_date=o),min:_(a).start_date?new Date(new Date(_(a).start_date).getTime()+864e5).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],class:y(["mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",c.value.end_date?"border-red-500":"border-gray-300"]),required:""},null,10,At),[[C,_(a).end_date]]),c.value.end_date?(d(),r("p",Bt,s(c.value.end_date),1)):p("",!0)])]),t("div",Tt,[t("div",null,[e[16]||(e[16]=t("label",{for:"adults",class:"block text-sm font-medium text-gray-700"},"Number of Adults",-1)),M(t("input",{type:"number",id:"adults","onUpdate:modelValue":e[2]||(e[2]=o=>_(a).adults=o),min:"1",max:"4",class:y(["mt-1 block w-full rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",c.value.adults?"border-red-500":"border-gray-300"]),required:""},null,2),[[C,_(a).adults]]),c.value.adults?(d(),r("p",qt,s(c.value.adults),1)):p("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{for:"children",class:"block text-sm font-medium text-gray-700"},"Number of Children",-1)),M(t("input",{type:"number",id:"children","onUpdate:modelValue":e[3]||(e[3]=o=>_(a).children=o),min:"0",max:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[C,_(a).children]])])]),h.value!==null?(d(),r("div",It,[n.value?(d(),r("div",Pt,[e[25]||(e[25]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Booking Summary",-1)),t("div",Vt,[t("div",null,[e[18]||(e[18]=t("p",{class:"text-sm text-gray-600"},"Season",-1)),t("p",Ht,s(n.value.seasonType),1)]),t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm text-gray-600"},"Date Type",-1)),t("p",Nt,[B(s(n.value.dateType.charAt(0).toUpperCase()+n.value.dateType.slice(1))+" ",1),n.value.isWeekend?(d(),r("span",Wt,"(Weekend Rate)")):p("",!0)])]),t("div",null,[e[20]||(e[20]=t("p",{class:"text-sm text-gray-600"},"Room Type",-1)),t("p",Et,s(n.value.roomType.name),1)]),t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm text-gray-600"},"Check-in",-1)),t("p",Ft,s(new Date(n.value.startDate).toLocaleDateString()),1)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-sm text-gray-600"},"Check-out",-1)),t("p",Gt,s(new Date(n.value.endDate).toLocaleDateString()),1)]),t("div",null,[e[23]||(e[23]=t("p",{class:"text-sm text-gray-600"},"Duration",-1)),t("p",Lt,s(n.value.nights)+" nights",1)]),t("div",null,[e[24]||(e[24]=t("p",{class:"text-sm text-gray-600"},"Guests",-1)),t("p",Ut,[B(s(n.value.adults)+" Adult"+s(n.value.adults>1?"s":"")+" ",1),n.value.children>0?(d(),r("span",zt," , "+s(n.value.children)+" Child"+s(n.value.children>1?"ren":""),1)):p("",!0)])])])])):p("",!0),e[36]||(e[36]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Estimated Price",-1)),t("p",Ot,"MYR "+s(u(h.value)),1),i.value?(d(),r("div",$t,[t("div",Jt,[e[27]||(e[27]=t("h4",{class:"font-medium text-gray-900 mb-2"},"Base Charge (per night)",-1)),t("div",Kt,[t("div",Qt,[t("span",null,"Adults ("+s(i.value.base_charge.adult_qty)+")",1),t("span",null,"MYR "+s(u(i.value.base_charge.per_adult))+" × "+s(n.value.nights)+" nights",1)]),t("div",Xt,[t("span",null,"Children ("+s(i.value.base_charge.child_qty)+")",1),t("span",null,"MYR "+s(u(i.value.base_charge.per_child))+" × "+s(n.value.nights)+" nights",1)]),t("div",Zt,[e[26]||(e[26]=t("span",null,"Subtotal",-1)),t("span",null,"MYR "+s(u(i.value.base_charge.total)),1)])])]),i.value.surcharge.total!=="0.00"?(d(),r("div",te,[e[29]||(e[29]=t("h4",{class:"font-medium text-gray-900 mb-2"},"Surcharge (per night)",-1)),t("div",ee,[t("div",se,[t("span",null,"Adults ("+s(i.value.surcharge.adult_qty)+")",1),t("span",null,"MYR "+s(u(i.value.surcharge.per_adult))+" × "+s(n.value.nights)+" nights",1)]),t("div",ae,[t("span",null,"Children ("+s(i.value.surcharge.child_qty)+")",1),t("span",null,"MYR "+s(u(i.value.surcharge.per_child))+" × "+s(n.value.nights)+" nights",1)]),t("div",le,[e[28]||(e[28]=t("span",null,"Subtotal",-1)),t("span",null,"MYR "+s(u(i.value.surcharge.total)),1)])])])):p("",!0),i.value.extra_charges.total!=="0.00"?(d(),r("div",oe,[e[31]||(e[31]=t("h4",{class:"font-medium text-gray-900 mb-2"},"Extra Charges (per night)",-1)),t("div",ne,[t("div",de,[t("span",null,"Adults ("+s(i.value.extra_charges.adult_qty)+")",1),t("span",null,"MYR "+s(u(i.value.extra_charges.per_adult))+" × "+s(n.value.nights)+" nights",1)]),t("div",ie,[t("span",null,"Children ("+s(i.value.extra_charges.child_qty)+")",1),t("span",null,"MYR "+s(u(i.value.extra_charges.per_child))+" × "+s(n.value.nights)+" nights",1)]),t("div",re,[e[30]||(e[30]=t("span",null,"Subtotal",-1)),t("span",null,"MYR "+s(u(i.value.extra_charges.total)),1)])])])):p("",!0),i.value.add_ons.items.length>0?(d(),r("div",ue,[e[34]||(e[34]=t("h4",{class:"font-medium text-gray-900 mb-2"},"Add-ons (per night)",-1)),t("div",ce,[(d(!0),r(k,null,D(i.value.add_ons.items,(o,m)=>(d(),r("div",{key:m,class:"text-sm text-gray-600"},[t("div",ge,s(o.name),1),t("div",me,[t("div",pe,[t("span",null,"Adults ("+s(o.adult_qty)+")",1),t("span",null,"MYR "+s(u(o.adult_price))+" × "+s(n.value.nights)+" nights",1)]),t("div",_e,[t("span",null,"Children ("+s(o.child_qty)+")",1),t("span",null,"MYR "+s(u(o.child_price))+" × "+s(n.value.nights)+" nights",1)]),t("div",ve,[e[32]||(e[32]=t("span",null,"Subtotal",-1)),t("span",null,"MYR "+s(u(o.total)),1)])])]))),128)),t("div",xe,[e[33]||(e[33]=t("span",null,"Add-ons Total",-1)),t("span",null,"MYR "+s(u(i.value.add_ons.total)),1)])])])):p("",!0),t("div",fe,[t("div",ye,[e[35]||(e[35]=t("span",null,"Total",-1)),t("span",null,"MYR "+s(u(h.value)),1)])])])):p("",!0)])):p("",!0),t("div",he,[t("button",{type:"submit",class:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:_(a).processing}," Calculate Price ",8,be)])],32)])])):(d(),r("div",Q,e[4]||(e[4]=[t("div",{class:"text-center"},[t("div",{class:"text-6xl mb-4"},"🔍"),t("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"Package Not Found"),t("p",{class:"text-gray-600 mb-8"},"We couldn't find the package you're looking for, please check the URL or contact us for assistance.")],-1)])))]))}},Ce=$(we,[["__scopeId","data-v-fffcc110"]]);export{Ce as default};

import{i as v,g as a,o as n,a as l,u as c,m as _,w as g,b as t,n as x,t as o,h as m,P as p,f as r,F as u,p as k}from"./app-B_tqemoV.js";import{A as D}from"./AuthenticatedLayout-DIeyrQPE.js";import{_ as P}from"./BreadcrumbComponent-CT_9v1Kq.js";import"./ApplicationLogo-Ca00IMMS.js";import"./LoadingComponent-BOOzNdka.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AntdIcon-DZPRhGK_.js";const B={class:"flex justify-between items-center"},C={class:"pb-12 pt-6"},S={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},L={class:"p-6 text-gray-900"},N={class:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200"},T={class:"flex items-center"},j={class:"flex-shrink-0"},A={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},F={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},R={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},I={class:"ml-4"},V={class:"text-lg font-semibold text-gray-900"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8"},G={class:"space-y-4"},U={class:"mt-1 text-sm text-gray-900"},q={class:"mt-1 text-sm text-gray-900"},E={class:"mt-1 text-sm text-gray-900"},H={key:0},Y={class:"mt-1 text-sm text-gray-900"},$={key:1},O={class:"mt-1 text-sm text-gray-900"},J={class:"mt-1 text-sm text-gray-900 flex items-center gap-2"},K={class:"space-y-4"},Q={class:"mt-1 text-sm text-gray-900"},W={class:"mt-1 text-sm text-gray-900"},X={class:"mt-1 text-sm text-gray-900"},Z={key:0},tt={class:"mt-1 text-sm font-medium text-gray-900"},et={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mt-8"},st={class:"p-6 text-gray-900"},ot={class:"overflow-x-auto"},it={class:"min-w-full divide-y divide-gray-200"},at={class:"bg-white divide-y divide-gray-200"},nt={class:"px-6 py-4 whitespace-nowrap"},dt={class:"text-sm font-medium text-gray-900"},lt={class:"text-xs text-indigo-600 bg-indigo-50 px-2 py-1 rounded whitespace-nowrap"},rt={class:"px-6 py-4 whitespace-nowrap"},gt={class:"text-sm text-gray-900"},mt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"text-sm text-gray-900"},xt={class:"px-6 py-4 whitespace-nowrap"},ut={class:"text-sm text-gray-900"},yt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"text-sm text-gray-900"},pt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mt-8"},kt={class:"p-6 text-gray-900"},ht={key:0},ft={class:"overflow-x-auto"},wt={class:"min-w-full divide-y divide-gray-200"},vt={class:"bg-white divide-y divide-gray-200"},_t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ct={class:"px-6 py-4 whitespace-nowrap"},Ft={__name:"Show",props:{booking:Object},setup(s){const y=d=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(d),h=v(()=>[{title:"Bookings",link:route("bookings.index")},{title:"Booking Details"}]),b=d=>{switch(d){case"paid":return{bg:"bg-green-100",icon:"text-green-600"};case"failed":return{bg:"bg-red-100",icon:"text-red-600"};case"pending":return{bg:"bg-yellow-100",icon:"text-yellow-600"};default:return{bg:"bg-gray-100",icon:"text-gray-600"}}},f=d=>{switch(d){case"paid":return"Paid";case"pending":return"Pending Payment";case"failed":return"Payment Failed";default:return"Unpaid"}},w=d=>{navigator.clipboard.writeText(d),alert("Link copied to clipboard")};return(d,e)=>(n(),a(u,null,[l(c(_),{title:"Booking Details"}),l(D,null,{header:g(()=>[t("div",B,[e[2]||(e[2]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Booking Details",-1)),l(c(p),{href:d.route("bookings.edit",s.booking.id),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"},{default:g(()=>e[1]||(e[1]=[r(" Edit Booking ")])),_:1},8,["href"])])]),default:g(()=>[t("div",C,[t("div",S,[t("div",M,[t("div",L,[l(P,{breadcrumbs:h.value,class:"mb-6"},null,8,["breadcrumbs"]),t("div",N,[t("div",T,[t("div",j,[t("div",{class:x(["w-12 h-12 rounded-full flex items-center justify-center",b(s.booking.payment_status).bg])},[(n(),a("svg",{class:x(["w-6 h-6",b(s.booking.payment_status).icon]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s.booking.payment_status==="paid"?(n(),a("path",A)):s.booking.payment_status==="failed"?(n(),a("path",F)):(n(),a("path",R))],2))],2)]),t("div",I,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-600"},"Payment Status",-1)),t("p",V,o(f(s.booking.payment_status)),1)])])]),t("div",z,[t("div",null,[e[12]||(e[12]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Booking Information",-1)),t("div",G,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700"},"Booking Name",-1)),t("p",U,o(s.booking.booking_name),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),t("p",q,o(s.booking.phone_number),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"IC/Passport Number",-1)),t("p",E,o(s.booking.booking_ic),1)]),s.booking.special_remarks?(n(),a("div",H,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Special Remarks",-1)),t("p",Y,o(s.booking.special_remarks),1)])):m("",!0),s.booking.special_remarks?(n(),a("div",$,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Booking Reference",-1)),t("p",O,o(s.booking.uuid),1)])):m("",!0),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700"},"Pay now / view payment",-1)),t("div",J,[l(c(p),{href:d.route("quotation.with-hash",s.booking.package.uuid)+"?booking="+s.booking.uuid,class:"text-indigo-600 hover:text-indigo-900 mr-2"},{default:g(()=>e[9]||(e[9]=[r(" Go to payment page ")])),_:1},8,["href"]),t("button",{onClick:e[0]||(e[0]=i=>w(d.route("quotation.with-hash",s.booking.package.uuid)+"?booking="+s.booking.uuid)),class:"flex items-center gap-2 bg-gray-100 px-2 rounded-sm border border-gray-300"},e[10]||(e[10]=[r(" copy link "),t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]))])])])]),t("div",null,[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Package Details",-1)),t("div",K,[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Package",-1)),t("p",Q,o(s.booking.package.name),1)]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700"},"Dates",-1)),t("p",W,o(new Date(s.booking.start_date).toLocaleDateString())+" - "+o(new Date(s.booking.end_date).toLocaleDateString())+" ("+o(Math.ceil((new Date(s.booking.end_date)-new Date(s.booking.start_date))/(1e3*60*60*24)))+" nights) ",1)]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700"},"Total Guests",-1)),t("p",X,[r(o(s.booking.adults)+" Adult"+o(s.booking.adults>1?"s":"")+" ",1),s.booking.children>0?(n(),a("span",Z," , "+o(s.booking.children)+" Child"+o(s.booking.children>1?"ren":""),1)):m("",!0)])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700"},"Total Price",-1)),t("p",tt,"MYR "+o(y(s.booking.total_price)),1)])])])])])]),t("div",et,[t("div",st,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Room Details",-1)),t("div",ot,[t("table",it,[e[18]||(e[18]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Adults"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Children"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Infants"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Guests")])],-1)),t("tbody",at,[(n(!0),a(u,null,k(s.booking.rooms,i=>(n(),a("tr",{key:i.id},[t("td",nt,[t("div",dt,[r(o(i.room_type.name)+" ",1),t("span",lt," Max "+o(i.room_type.max_occupancy)+" pax ",1)])]),t("td",rt,[t("div",gt,o(i.adults),1)]),t("td",mt,[t("div",ct,o(i.children),1)]),t("td",xt,[t("div",ut,o(i.infants),1)]),t("td",yt,[t("div",bt,o(i.adults+i.children+i.infants),1)])]))),128))])])])])]),t("div",pt,[t("div",kt,[s.booking.transactions&&s.booking.transactions.length>0?(n(),a("div",ht,[e[21]||(e[21]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Transaction History",-1)),t("div",ft,[t("table",wt,[e[20]||(e[20]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Transaction ID"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Payment Method"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status")])],-1)),t("tbody",vt,[(n(!0),a(u,null,k(s.booking.transactions,i=>(n(),a("tr",{key:i.id},[t("td",_t,o(new Date(i.created_at).toLocaleDateString()),1),t("td",Dt,o(i.transaction_id),1),t("td",Pt,o(i.payment_method),1),t("td",Bt," MYR "+o(y(i.amount)),1),t("td",Ct,[t("span",{class:x(["px-2 py-1 text-sm font-semibold rounded-full",i.status==="paid"?"bg-green-100 text-green-800":i.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},o(i.status.charAt(0).toUpperCase()+i.status.slice(1)),3)])]))),128))])])])])):m("",!0)])])])])]),_:1})],64))}};export{Ft as default};

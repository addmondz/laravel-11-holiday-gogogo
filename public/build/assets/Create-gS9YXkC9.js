import{C,l as U,i as P,g as d,o as r,a as _,u as o,m as S,w as x,b as e,e as T,j as n,h as c,k as l,t as u,n as b,F as k,p as E,P as R,f as q}from"./app-6922nsEY.js";import{A as B}from"./AuthenticatedLayout-Do28nOtU.js";import{S as f}from"./sweetalert2.esm.all-B0Dix5B2.js";import{_ as N}from"./BreadcrumbComponent-Bnpcje1h.js";import"./ApplicationLogo-C-RbXyH0.js";import"./AntdIcon-vB1rjkQ6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"pb-12 pt-6"},O={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 text-gray-900"},F={class:"grid grid-cols-1 gap-6"},K={key:0,class:"mt-1 text-sm text-red-600"},L={key:0,class:"mt-1 text-sm text-red-600"},I={class:"hidden"},$={key:0,class:"mt-1 text-sm text-red-600"},z={class:"grid grid-cols-2 gap-6"},G={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},W={class:"grid grid-cols-2 gap-6"},X=["max"],Y={key:0,class:"mt-1 text-sm text-red-600"},Z=["min"],ee={key:0,class:"mt-1 text-sm text-red-600"},te={key:1,class:"mt-1 text-sm text-red-600"},se={class:"mt-6 border-t border-gray-600 pt-6"},oe={class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200"},de={class:"bg-white divide-y divide-gray-200"},re={class:"px-6 py-4 whitespace-nowrap"},ie=["onUpdate:modelValue"],ne={class:"px-6 py-4 whitespace-nowrap"},le=["onUpdate:modelValue"],ce={class:"px-6 py-4"},ue=["onUpdate:modelValue"],me={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},pe=["onClick"],ge={class:"mt-6 flex justify-end"},_e=["disabled"],Ve={__name:"Create",setup(xe){const t=C({name:"",description:"",icon_photo:null,display_price_adult:null,display_price_child:null,package_days:2,terms_and_conditions:"",location:"",package_start_date:"",package_end_date:"",room_types:[{name:"",max_occupancy:2,description:""}]}),m=U(""),v=()=>{t.room_types.push({name:"",max_occupancy:2,description:""})},w=i=>{t.room_types.splice(i,1)},h=i=>{t.icon_photo=i.target.files[0]},y=()=>{if(m.value="",t.package_start_date&&t.package_end_date){const i=new Date(t.package_start_date),s=new Date(t.package_end_date),a=Math.abs(s-i),g=Math.ceil(a/(1e3*60*60*24));s<=i?m.value="End date must be after start date":g<1&&(m.value="End date must be at least one day after start date")}},V=()=>{if(y(),m.value){f.fire({title:"Validation Error",text:m.value,icon:"error",confirmButtonText:"OK"});return}t.post(route("packages.store"),{preserveScroll:!0,onSuccess:()=>{f.fire({title:"Success!",text:"Package has been created successfully.",icon:"success",confirmButtonText:"OK"}).then(()=>{t.reset(),m.value=""})},onError:i=>{i.package_end_date&&f.fire({title:"Validation Error",text:i.package_end_date,icon:"error",confirmButtonText:"OK"})}})},D=P(()=>[{title:"Packages",link:route("packages.index")},{title:"Create Package"}]);return(i,s)=>(r(),d(k,null,[_(o(S),{title:"Create Package"}),_(B,null,{header:x(()=>s[8]||(s[8]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},null,-1)])),default:x(()=>[e("div",M,[e("div",O,[e("div",A,[e("div",j,[_(N,{breadcrumbs:D.value,class:"mb-9"},null,8,["breadcrumbs"]),e("form",{onSubmit:T(V,["prevent"])},[e("div",F,[e("div",null,[s[9]||(s[9]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),n(e("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=a=>o(t).name=a),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[l,o(t).name]]),o(t).errors.name?(r(),d("div",K,u(o(t).errors.name),1)):c("",!0)]),e("div",null,[s[10]||(s[10]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),n(e("textarea",{id:"description","onUpdate:modelValue":s[1]||(s[1]=a=>o(t).description=a),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).description]]),o(t).errors.description?(r(),d("div",L,u(o(t).errors.description),1)):c("",!0)]),e("div",I,[s[11]||(s[11]=e("label",{for:"icon_photo",class:"block text-sm font-medium text-gray-700"},"Icon Photo",-1)),e("input",{type:"file",id:"icon_photo",onChange:h,accept:"image/*",class:"mt-1 block w-full"},null,32),o(t).errors.icon_photo?(r(),d("div",$,u(o(t).errors.icon_photo),1)):c("",!0)]),e("div",z,[e("div",null,[s[12]||(s[12]=e("label",{for:"display_price_adult",class:"block text-sm font-medium text-gray-700"},"Display Price",-1)),n(e("input",{type:"number",id:"display_price_adult","onUpdate:modelValue":s[2]||(s[2]=a=>o(t).display_price_adult=a),step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).display_price_adult]]),o(t).errors.display_price_adult?(r(),d("div",G,u(o(t).errors.display_price_adult),1)):c("",!0)]),e("div",null,[s[13]||(s[13]=e("label",{for:"package_days",class:"block text-sm font-medium text-gray-700"},"Package Duration (Days)",-1)),n(e("input",{type:"number",id:"package_days","onUpdate:modelValue":s[3]||(s[3]=a=>o(t).package_days=a),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[l,o(t).package_days]]),o(t).errors.package_days?(r(),d("div",H,u(o(t).errors.package_days),1)):c("",!0)])]),e("div",null,[s[14]||(s[14]=e("label",{for:"terms_and_conditions",class:"block text-sm font-medium text-gray-700"},"Terms and Conditions",-1)),n(e("textarea",{id:"terms_and_conditions","onUpdate:modelValue":s[4]||(s[4]=a=>o(t).terms_and_conditions=a),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).terms_and_conditions]]),o(t).errors.terms_and_conditions?(r(),d("div",J,u(o(t).errors.terms_and_conditions),1)):c("",!0)]),e("div",null,[s[15]||(s[15]=e("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1)),n(e("input",{type:"text",id:"location","onUpdate:modelValue":s[5]||(s[5]=a=>o(t).location=a),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[l,o(t).location]]),o(t).errors.location?(r(),d("div",Q,u(o(t).errors.location),1)):c("",!0)]),e("div",W,[e("div",null,[s[16]||(s[16]=e("label",{for:"package_start_date",class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),n(e("input",{type:"date",id:"package_start_date","onUpdate:modelValue":s[6]||(s[6]=a=>o(t).package_start_date=a),max:o(t).package_end_date?o(t).package_end_date:void 0,class:b(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":o(t).errors.package_start_date||o(t).errors.package_end_date}]),required:"",onChange:y},null,42,X),[[l,o(t).package_start_date]]),o(t).errors.package_start_date?(r(),d("div",Y,u(o(t).errors.package_start_date),1)):c("",!0)]),e("div",null,[s[17]||(s[17]=e("label",{for:"package_end_date",class:"block text-sm font-medium text-gray-700"},"End Date",-1)),n(e("input",{type:"date",id:"package_end_date","onUpdate:modelValue":s[7]||(s[7]=a=>o(t).package_end_date=a),min:o(t).package_start_date?new Date(new Date(o(t).package_start_date).getTime()+864e5).toISOString().split("T")[0]:void 0,class:b(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":o(t).errors.package_end_date}]),required:""},null,10,Z),[[l,o(t).package_end_date]]),o(t).errors.package_end_date?(r(),d("div",ee,u(o(t).errors.package_end_date),1)):c("",!0),m.value?(r(),d("div",te,u(m.value),1)):c("",!0)])]),e("div",se,[e("div",{class:"flex justify-between items-center mb-4"},[s[18]||(s[18]=e("h3",{class:"text-lg font-medium text-gray-900"},"Room Types",-1)),e("button",{type:"button",onClick:v,class:"px-4 py-2 text-xs bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200"}," Add Room Type ")]),e("div",oe,[e("table",ae,[s[19]||(s[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Room Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Max Occupancy"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Description"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",de,[(r(!0),d(k,null,E(o(t).room_types,(a,g)=>(r(),d("tr",{key:g},[e("td",re,[n(e("input",{type:"text","onUpdate:modelValue":p=>a.name=p,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Room Type Name",required:""},null,8,ie),[[l,a.name]])]),e("td",ne,[n(e("input",{type:"number","onUpdate:modelValue":p=>a.max_occupancy=p,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",required:""},null,8,le),[[l,a.max_occupancy]])]),e("td",ce,[n(e("input",{type:"text","onUpdate:modelValue":p=>a.description=p,class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Description"},null,8,ue),[[l,a.description]])]),e("td",me,[e("button",{type:"button",onClick:p=>w(g),class:"text-red-600 hover:text-red-900"}," Remove ",8,pe)])]))),128))])])])])]),e("div",ge,[_(o(R),{href:i.route("packages.index"),class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 mr-3 text-xs"},{default:x(()=>s[20]||(s[20]=[q(" Cancel ")])),_:1},8,["href"]),e("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs",disabled:o(t).processing}," Create Package ",8,_e)])],32)])])])])]),_:1})],64))}};export{Ve as default};

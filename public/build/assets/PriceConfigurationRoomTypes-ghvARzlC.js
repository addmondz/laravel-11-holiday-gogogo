import{a as E,l as y,i as R,g as a,o as n,b as s,h as S,j as b,q as k,F as c,s as m,t as u,v as q,y as L,n as Q,k as X,u as me,f as Z}from"./app-CI3d9KcJ.js";import{S as w}from"./sweetalert2.esm.all-B0Dix5B2.js";import{L as ve}from"./LoadingComponent-DqEE3SdZ.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as be}from"./AntdIcon-hQmtZSM_.js";var he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};function K(p){for(var v=1;v<arguments.length;v++){var g=arguments[v]!=null?Object(arguments[v]):{},f=Object.keys(g);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(g).filter(function(x){return Object.getOwnPropertyDescriptor(g,x).enumerable}))),f.forEach(function(x){xe(p,x,g[x])})}return p}function xe(p,v,g){return v in p?Object.defineProperty(p,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[v]=g,p}var F=function(v,g){var f=K({},v,g.attrs);return E(be,K({},f,{icon:he}),null)};F.displayName="CopyOutlined";F.inheritAttrs=!1;const _e={class:"space-y-6"},Te={class:"bg-white shadow rounded-lg p-6"},Ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ke=["value"],Se=["value"],we=["value"],De={class:"mt-6 flex gap-2"},Ve=["disabled"],Re={key:0},Ae={key:1},Ue={key:0,class:"bg-white shadow rounded-lg p-6"},Oe={key:0,class:"flex items-center justify-center min-h-[300px]"},$e={key:1,class:"text-center text-gray-500"},Me={key:2,class:"space-y-10"},Pe={class:"flex items-center justify-between"},je={class:"space-x-2"},Ie=["disabled"],Be={key:0},Ne={key:1,class:"px-3 py-2"},qe=["data-package-config-id"],Le={class:"flex items-center justify-between"},Ee={class:"font-medium text-gray-900"},Fe={style:{"margin-top":"10px"}},ze={class:"overflow-x-auto border rounded-lg"},He={class:"min-w-full text-sm"},Ye={class:"bg-gray-200"},Je=["colspan"],We={class:"px-4 py-2 align-middle whitespace-nowrap font-medium text-gray-800"},Ge={class:"flex flex-col items-start justify-start w-32"},Qe={class:"text-xs text-gray-600"},Xe={key:0,class:"flex items-center rounded-md shadow-sm border border-gray-300 focus-within:ring-2 focus-within:ring-indigo-500"},Ze=["onUpdate:modelValue"],Ke=["onClick"],et={key:1,class:"mt-1 font-medium"},tt={key:0,style:{"margin-top":"0"}},st={class:"overflow-x-auto border rounded-lg"},ot={class:"min-w-full text-sm"},at={class:"bg-gray-200"},nt={class:"px-4 py-3 font-medium text-gray-800 whitespace-nowrap"},lt=["onUpdate:modelValue"],rt={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",style:{"margin-top":"0"}},it={class:"relative top-20 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 shadow-lg rounded-md bg-white"},ut={class:"mt-3"},dt={class:"space-y-6"},ct={class:"bg-gray-50 p-4 rounded-lg"},pt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},gt=["value"],yt=["value"],mt=["value"],vt={class:"bg-green-50 p-4 rounded-lg"},ft={class:"flex items-center justify-between"},bt={class:"text-sm text-gray-500 mr-2"},ht=["onUpdate:modelValue"],xt=["value"],_t=["onUpdate:modelValue"],Tt=["value"],Ct={class:"flex gap-2"},kt=["onUpdate:modelValue"],St=["value"],wt=["onClick"],Dt={key:0,class:"bg-green-50 p-4 rounded-lg"},Vt={class:"space-y-2 max-h-48 overflow-y-auto"},Rt=["id","value"],At=["for"],Ut={class:"text-gray-500"},Ot={class:"bg-yellow-50 p-4 rounded-lg"},$t={class:"space-y-2"},Mt={class:"flex items-center"},Pt={class:"flex items-center"},jt={class:"flex justify-end space-x-3 pt-4"},It=["disabled"],Bt={key:0},Nt={key:1},qt={__name:"PriceConfigurationRoomTypes",props:{packageId:{type:Number,required:!0},seasonTypes:{type:Array,required:!0},dateTypes:{type:Array,required:!0},packageUniqueRoomTypes:{type:Object,required:!0},allSeasonTypes:{type:Array,required:!0},allDateTypes:{type:Array,required:!0},assignedSeasonTypes:{type:Array,required:!0},assignedDateTypes:{type:Array,required:!0}},setup(p){const v=p,g=y(""),f=y(""),x=y(""),V=y(!1),$=y(!1),T=y(!1),A=y(!1),M=y(!1),U=y(!1);y(!1),y(!1);const O=y([]),P=y([]),r=y({sourceSeason:"",sourceDateType:"",sourceRoomType:"",selectedSourceConfig:null,targetConfigurations:[{season:"",dateType:"",roomType:""}],includeBaseCharges:!0,includeSurcharges:!0}),D=y(1),ee=()=>{r.value.targetConfigurations.push({season:"",dateType:"",roomType:""}),D.value++},te=l=>{r.value.targetConfigurations.length>1&&(r.value.targetConfigurations.splice(l,1),D.value--)},se=()=>{ge(),M.value=!0},C=y([]),z=y({}),oe=R(()=>!!g.value&&!!f.value),H=l=>Number(l??0).toFixed(2);R(()=>r.value.sourceSeason&&r.value.sourceDateType),R(()=>r.value.targetSeason&&r.value.targetDateType),R(()=>g.value&&f.value&&C.value.length>0);const Y=R(()=>r.value.targetConfigurations.some(e=>e.season&&e.dateType)?r.value.targetConfigurations.some(e=>e.season===r.value.sourceSeason&&e.dateType===r.value.sourceDateType&&e.roomType===r.value.sourceRoomType)?(w.fire({icon:"error",title:"Error",text:"Source and target cannot be the same"}),!1):!0:!1),ae=/^(\d+)_a_(\d+)_c_(\d+)_i$/,j=l=>{var e;const t=(e=l==null?void 0:l.match)==null?void 0:e.call(l,ae);return t?{a:+t[1],c:+t[2],i:+t[3]}:null},J=l=>{const t=j(l);if(!t)return l||"";const e=(o,i,h)=>`${o} ${o===1?i:h||i+"s"}`;return`${e(t.a,"Adult")} + ${e(t.c,"Child","Children")} + ${e(t.i,"Infant")}`},ne=l=>[...l].sort((t,e)=>{const o=j(t)||{a:0,c:0,i:0},i=j(e)||{a:0,c:0,i:0};return o.a!==i.a?i.a-o.a:o.c!==i.c?i.c-o.c:i.i-o.i}),W=l=>{const t=Object.keys(l||{});return ne(t).map(o=>[o,l[o]])},le=l=>l==="a"||l==="c"||l==="i",G=l=>{const t=Object.keys(l??{}),e=o=>{const i=o[0],d=!le(o)?parseInt(o.slice(1),10)||0:-1;return({a:1,c:2,i:3}[i]||9)*100+d};return t.sort((o,i)=>e(o)-e(i))},re=l=>{if(!l)return"";const t=l[0],e=l.slice(1);return t==="a"?`Adult ${e}`:t==="c"?`Child ${e}`:t==="i"?`Infant ${e}`:l},ie=(l,t,e)=>{var _;if(!l||!t||!e)return;const o=(_=l.base)==null?void 0:_[t];if(!o)return;const i=o[e];if(i==null||i==="")return;const h=String(e)[0];let d=0;Object.keys(o).forEach(N=>{N.startsWith(h)&&(o[N]=Number(i),d++)});try{w.fire({toast:!0,timer:1200,showConfirmButton:!1,icon:"success",title:`Copied to ${d} ${h==="a"?"Adult":h==="c"?"Child":"Infant"} slot(s)`})}catch{}},ue=l=>l==="a"?"Adult (per pax)":l==="c"?"Child (per pax)":"Infant (per pax)",I=()=>{V.value=!0,$.value=!0,T.value=!1,L.post(route("configuration-prices.fetchPricesRoomTypes"),{package_id:v.packageId,season_type_id:g.value,date_type_id:f.value,room_type_id:x.value||void 0}).then(l=>{let t=l==null?void 0:l.data;if(typeof t=="string"){const e=t.replace(/,\s*(?=[}\]])/g,"");try{t=JSON.parse(e)}catch(o){console.error("Failed to parse API string after sanitizing:",o),t=[]}}t=Array.isArray(t)?t:[],z.value=t.reduce((e,o)=>{var d,_;const i=(o==null?void 0:o.room_type_id)??((d=o==null?void 0:o.room_type)==null?void 0:d.id),h=(_=o==null?void 0:o.room_type)==null?void 0:_.name;return i&&h&&(e[i]=h),e},{}),C.value=t.map(e=>{var i;const o=Array.isArray(e==null?void 0:e.prices)&&e.prices.length?e.prices[0]:null;return{room_type_id:(e==null?void 0:e.room_type_id)??((i=e==null?void 0:e.room_type)==null?void 0:i.id)??0,room_type_capacity:(e==null?void 0:e.room_type_capacity)??0,room_type_name:(e==null?void 0:e.room_type_name)??"",id:(e==null?void 0:e.id)??0,base:(o==null?void 0:o.base)??{},surch:(o==null?void 0:o.surch)??{}}})}).catch(l=>{console.error(l),w.fire({icon:"error",title:"Error",text:"Failed to fetch price configurations"}),C.value=[]}).finally(()=>{V.value=!1})},de=()=>{g.value="",f.value="",x.value="",C.value=[],z.value={},$.value=!1,T.value=!1},ce=()=>{T.value=!1,I()},pe=()=>{A.value=!0;const l=C.value.map(e=>({package_configuration_id:Number(e.id)||null,room_type_id:Number(e.room_type_id)||null,base:e.base??{},surch:e.surch??{}})),t={package_id:v.packageId,season_type_id:g.value,date_type_id:f.value,rooms:l};L.put(route("configuration-prices.updateRoomTypePrices"),t).then(()=>{T.value=!1,w.fire({icon:"success",title:"Saved",timer:1200,showConfirmButton:!1}),I()}).catch(e=>{var o,i;console.error(e),w.fire({icon:"error",title:"Error",text:((i=(o=e.response)==null?void 0:o.data)==null?void 0:i.message)||"Failed to save"})}).finally(()=>{A.value=!1})},B=()=>{M.value=!1,O.value=[],P.value=[],r.value={sourceSeason:"",sourceDateType:"",sourceRoomType:"",selectedSourceConfig:null,targetConfigurations:[{season:"",dateType:"",roomType:""}],includeBaseCharges:!0,includeSurcharges:!0},D.value=1},ge=()=>{r.value.sourceSeason=g.value,r.value.sourceDateType=f.value,r.value.sourceRoomType=x.value,O.value=C.value.map(l=>({id:l.id,room_type_id:l.room_type_id,room_type_capacity:l.room_type_capacity,room_type_name:l.room_type_name,base:l.base,surch:l.surch})),O.value.length===1&&(r.value.selectedSourceConfig=O.value[0])},ye=async()=>{var l,t;if(Y.value){U.value=!0;try{const e=r.value.targetConfigurations.filter(i=>i.season&&i.dateType),o={package_id:v.packageId,source_season_type_id:r.value.sourceSeason,source_date_type_id:r.value.sourceDateType,source_room_type_id:r.value.sourceRoomType,target_configurations:e.map(i=>({season_type_id:i.season,date_type_id:i.dateType,room_type_id:i.roomType})),include_base_charges:r.value.includeBaseCharges,include_surcharges:r.value.includeSurcharges};await L.post(route("configuration-prices.duplicateToMultiple"),o),await w.fire({icon:"success",title:"Duplication Successful",text:`Price configuration duplicated to ${e.length} target configuration(s)`,timer:2e3,showConfirmButton:!1}),B()}catch(e){console.error("Duplication error:",e),await w.fire({icon:"error",title:"Duplication Failed",text:((t=(l=e.response)==null?void 0:l.data)==null?void 0:t.message)||"Failed to duplicate price configuration"})}finally{U.value=!1}}};return(l,t)=>(n(),a("div",_e,[s("div",Te,[s("div",Ce,[s("div",null,[t[11]||(t[11]=s("label",{class:"block text-sm font-medium text-gray-700"},"Season",-1)),b(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[10]||(t[10]=s("option",{value:""},"Select Season",-1)),(n(!0),a(c,null,m(p.assignedSeasonTypes,e=>(n(),a("option",{key:e.id,value:e.id},u(e.name),9,ke))),128))],512),[[k,g.value]])]),s("div",null,[t[13]||(t[13]=s("label",{class:"block text-sm font-medium text-gray-700"},"Date Type",-1)),b(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[12]||(t[12]=s("option",{value:""},"Select Date Type",-1)),(n(!0),a(c,null,m(p.assignedDateTypes,e=>(n(),a("option",{key:e.id,value:e.id},u(e.name),9,Se))),128))],512),[[k,f.value]])]),s("div",null,[t[15]||(t[15]=s("label",{class:"block text-sm font-medium text-gray-700"},"Room Type (Optional)",-1)),b(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>x.value=e),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[14]||(t[14]=s("option",{value:""},"All Room Types",-1)),(n(!0),a(c,null,m(p.packageUniqueRoomTypes,(e,o)=>(n(),a("option",{key:o,value:o},u(e),9,we))),128))],512),[[k,x.value]])])]),s("div",De,[s("button",{onClick:I,disabled:!oe.value||V.value,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 text-xs disabled:opacity-50 disabled:cursor-not-allowed"},[V.value?(n(),a("span",Re,"Loading...")):(n(),a("span",Ae,"Search Prices"))],8,Ve),s("button",{onClick:de,class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-xs"}," Reset ")])]),$.value?(n(),a("div",Ue,[V.value?(n(),a("div",Oe,[E(ve)])):C.value.length?(n(),a("div",Me,[s("div",Pe,[t[16]||(t[16]=s("div",null,[s("h2",{class:"text-lg font-semibold"},"Price Matrix"),s("p",{class:"text-xs text-gray-500"}," Base charge applies to each slot (Adult 1, Adult 2, Child 1, …). Surcharge applies per person (Adult / Child / Infant). ")],-1)),s("div",je,[T.value?S("",!0):(n(),a("button",{key:0,onClick:t[3]||(t[3]=e=>T.value=!0),class:"px-5 py-2 rounded bg-indigo-600 text-white text-sm"}," Edit All Prices ")),!T.value&&C.value.length>0?(n(),a("button",{key:1,onClick:se,class:"px-5 py-2 rounded bg-green-600 text-white text-sm hover:bg-green-700"}," Duplicate to Multiple ")):(n(),a(c,{key:2},[s("button",{onClick:ce,class:"px-3 py-2 rounded bg-gray-100 text-gray-700 text-sm"}," Cancel "),s("button",{onClick:pe,class:"px-3 py-2 rounded bg-indigo-600 text-white text-sm",disabled:A.value},[A.value?(n(),a("span",Be,"Saving...")):(n(),a("span",Ne,"Save"))],8,Ie)],64))])]),(n(!0),a(c,null,m(C.value,e=>(n(),a("div",{key:e.room_type_id,class:"space-y-8","data-package-config-id":e.id},[s("div",Le,[s("h3",Ee,u(e.room_type_name)+" ( "+u(e.room_type_capacity)+" pax ) ",1)]),s("section",Fe,[s("div",ze,[s("table",He,[s("thead",Ye,[s("tr",null,[s("th",{class:"px-4 py-2 text-left",colspan:G(e.base).length}," Base Charge ",8,Je)])]),s("tbody",null,[(n(!0),a(c,null,m(W(e.base),([o,i],h)=>(n(),a("tr",{key:o,class:Q(h%2?"bg-white":"bg-gray-50")},[s("td",We,u(J(o)),1),(n(!0),a(c,null,m(G(i),d=>(n(),a("td",{class:"px-4 py-2",key:d},[s("div",Ge,[s("span",Qe,u(re(d)),1),T.value?(n(),a("div",Xe,[b(s("input",{type:"number",step:"0.01",class:"w-full rounded-l-md border-none focus:ring-0 px-3 py-2","onUpdate:modelValue":_=>e.base[o][d]=_},null,8,Ze),[[X,e.base[o][d],void 0,{number:!0}]]),s("button",{type:"button",class:"flex items-center justify-center px-2 border-l border-gray-300 text-gray-500 hover:text-indigo-600 hover:bg-gray-50 rounded-r-md",title:"Copy this pax type's value across this row",onClick:_=>ie(e,o,d)},[E(me(F),{class:"h-5 w-5"})],8,Ke)])):(n(),a("span",et,"MYR "+u(H(e.base[o][d])),1))])]))),128))],2))),128))])])])]),e.surch&&Object.keys(e.surch||{}).length?(n(),a("section",tt,[s("div",st,[s("table",ot,[s("thead",at,[s("tr",null,[t[17]||(t[17]=s("th",{class:"px-4 py-2 text-left"},"Surcharge",-1)),(n(),a(c,null,m(["a","c","i"],o=>s("th",{key:o,class:"px-4 py-2 text-left"},u(ue(o)),1)),64))])]),s("tbody",null,[(n(!0),a(c,null,m(W(e.surch),([o,i],h)=>(n(),a("tr",{key:o,class:Q(h%2?"bg-white":"bg-gray-50")},[s("td",nt,u(J(o)),1),(n(),a(c,null,m(["a","c","i"],d=>s("td",{key:d,class:"px-4 py-2"},[i[d]!==void 0?(n(),a(c,{key:0},[T.value?b((n(),a("input",{key:0,type:"number",step:"0.01",class:"w-24 rounded-md border-gray-300 focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":_=>e.surch[o][d]=_},null,8,lt)),[[X,e.surch[o][d],void 0,{number:!0}]]):(n(),a(c,{key:1},[Z(" MYR "+u(H(i[d])),1)],64))],64)):S("",!0)])),64))],2))),128))])])])])):S("",!0)],8,qe))),128))])):(n(),a("div",$e," No price configurations found for the selected filters. "))])):S("",!0),M.value?(n(),a("div",rt,[s("div",it,[s("div",ut,[s("div",{class:"flex items-center justify-between"},[t[19]||(t[19]=s("h3",{class:"text-lg font-medium text-gray-900"},"Duplicate Price Configuration",-1)),s("button",{onClick:B,class:"text-gray-400 hover:text-gray-600"},t[18]||(t[18]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t[38]||(t[38]=s("small",{class:"text-gray-500 mb-4 block"},' If you wish to duplicate to all room types, please select "All Room Types" for both target room type and source room type. ',-1)),s("div",dt,[s("div",ct,[t[26]||(t[26]=s("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Source Configuration (Copy From)",-1)),s("div",pt,[s("div",null,[t[21]||(t[21]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Season",-1)),b(s("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.value.sourceSeason=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[20]||(t[20]=s("option",{value:""},"Select Season",-1)),(n(!0),a(c,null,m(p.assignedSeasonTypes,e=>(n(),a("option",{key:e.id,value:e.id},u(e.name),9,gt))),128))],512),[[k,r.value.sourceSeason]])]),s("div",null,[t[23]||(t[23]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date Type",-1)),b(s("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.value.sourceDateType=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[22]||(t[22]=s("option",{value:""},"Select Date Type",-1)),(n(!0),a(c,null,m(p.assignedDateTypes,e=>(n(),a("option",{key:e.id,value:e.id},u(e.name),9,yt))),128))],512),[[k,r.value.sourceDateType]])]),s("div",null,[t[25]||(t[25]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Room Type (Optional)",-1)),b(s("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.value.sourceRoomType=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[24]||(t[24]=s("option",{value:""},"All Room Types",-1)),(n(!0),a(c,null,m(p.packageUniqueRoomTypes,(e,o)=>(n(),a("option",{key:o,value:o},u(e),9,mt))),128))],512),[[k,r.value.sourceRoomType]])])])]),s("div",vt,[s("div",ft,[t[27]||(t[27]=s("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Target Configuration (Copy To)",-1)),s("div",null,[s("span",bt,"Target Count: "+u(D.value),1),s("button",{onClick:ee,class:"px-2 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-xs"}," Add Target ")])]),(n(!0),a(c,null,m(D.value,e=>(n(),a("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",key:e},[s("div",null,[t[29]||(t[29]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Season",-1)),b(s("select",{"onUpdate:modelValue":o=>r.value.targetConfigurations[e-1].season=o,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[28]||(t[28]=s("option",{value:""},"Select Season",-1)),(n(!0),a(c,null,m(p.assignedSeasonTypes,o=>(n(),a("option",{key:o.id,value:o.id},u(o.name),9,xt))),128))],8,ht),[[k,r.value.targetConfigurations[e-1].season]])]),s("div",null,[t[31]||(t[31]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date Type",-1)),b(s("select",{"onUpdate:modelValue":o=>r.value.targetConfigurations[e-1].dateType=o,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[30]||(t[30]=s("option",{value:""},"Select Date Type",-1)),(n(!0),a(c,null,m(p.assignedDateTypes,o=>(n(),a("option",{key:o.id,value:o.id},u(o.name),9,Tt))),128))],8,_t),[[k,r.value.targetConfigurations[e-1].dateType]])]),s("div",null,[t[33]||(t[33]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Room Type (Optional)",-1)),s("div",Ct,[b(s("select",{"onUpdate:modelValue":o=>r.value.targetConfigurations[e-1].roomType=o,class:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[32]||(t[32]=s("option",{value:""},"All Room Types",-1)),(n(!0),a(c,null,m(p.packageUniqueRoomTypes,(o,i)=>(n(),a("option",{key:i,value:i},u(o),9,St))),128))],8,kt),[[k,r.value.targetConfigurations[e-1].roomType]]),D.value>1?(n(),a("button",{key:0,onClick:o=>te(e-1),class:"px-2 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 text-xs",title:"Remove this target"}," × ",8,wt)):S("",!0)])])]))),128))]),P.value.length>0?(n(),a("div",Dt,[t[34]||(t[34]=s("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Target Configurations to Update",-1)),s("div",Vt,[(n(!0),a(c,null,m(P.value,e=>(n(),a("div",{key:`${e.room_type_id}-${e.id}`,class:"flex items-center"},[b(s("input",{type:"checkbox",id:`target-${e.room_type_id}-${e.id}`,value:e,"onUpdate:modelValue":t[7]||(t[7]=o=>r.value.selectedTargetConfigs=o),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},null,8,Rt),[[q,r.value.selectedTargetConfigs]]),s("label",{for:`target-${e.room_type_id}-${e.id}`,class:"ml-2 text-sm text-gray-700"},[Z(u(e.room_type_name)+" ("+u(e.room_type_capacity)+" pax) ",1),s("span",Ut,"- ID: "+u(e.id),1)],8,At)]))),128))])])):S("",!0),s("div",Ot,[t[37]||(t[37]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Duplicate Options",-1)),s("div",$t,[s("label",Mt,[b(s("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>r.value.includeBaseCharges=e),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:""},null,512),[[q,r.value.includeBaseCharges]]),t[35]||(t[35]=s("span",{class:"ml-2 text-sm text-gray-700"},"Include Base Charges",-1))]),s("label",Pt,[b(s("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=e=>r.value.includeSurcharges=e),class:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:""},null,512),[[q,r.value.includeSurcharges]]),t[36]||(t[36]=s("span",{class:"ml-2 text-sm text-gray-700"},"Include Surcharges",-1))])])]),s("div",jt,[s("button",{onClick:B,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400"}," Cancel "),s("button",{onClick:ye,disabled:!Y.value||U.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[U.value?(n(),a("span",Bt,"Duplicating...")):(n(),a("span",Nt,"Duplicate Configuration"))],8,It)])])])])])):S("",!0)]))}},Yt=fe(qt,[["__scopeId","data-v-634434c0"]]);export{Yt as default};
